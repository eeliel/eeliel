var Od=Object.defineProperty;var Ad=(e,t,n)=>t in e?Od(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var q=(e,t,n)=>(Ad(e,typeof t!="symbol"?t+"":t,n),n),Ua=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)};var Ee=(e,t,n)=>(Ua(e,t,"read from private field"),n?n.call(e):t.get(e)),vt=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},qa=(e,t,n,r)=>(Ua(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var mr,A,Rc,Ot,ja,Pc,ko,Dc,sn={},Lc=[],Rd=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,ki=Array.isArray;function st(e,t){for(var n in t)e[n]=t[n];return e}function $c(e){var t=e.parentNode;t&&t.removeChild(e)}function W(e,t,n){var r,i,o,a={};for(o in t)o=="key"?r=t[o]:o=="ref"?i=t[o]:a[o]=t[o];if(arguments.length>2&&(a.children=arguments.length>3?mr.call(arguments,2):n),typeof e=="function"&&e.defaultProps!=null)for(o in e.defaultProps)a[o]===void 0&&(a[o]=e.defaultProps[o]);return Vn(e,a,r,i,null)}function Vn(e,t,n,r,i){var o={type:e,props:t,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:i??++Rc};return i==null&&A.vnode!=null&&A.vnode(o),o}function ea(){return{current:null}}function V(e){return e.children}function Fe(e,t){this.props=e,this.context=t}function ti(e,t){if(t==null)return e.__?ti(e.__,e.__.__k.indexOf(e)+1):null;for(var n;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null)return n.__e;return typeof e.type=="function"?ti(e):null}function Mc(e){var t,n;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null){e.__e=e.__c.base=n.__e;break}return Mc(e)}}function Eo(e){(!e.__d&&(e.__d=!0)&&Ot.push(e)&&!ni.__r++||ja!==A.debounceRendering)&&((ja=A.debounceRendering)||Pc)(ni)}function ni(){var e,t,n,r,i,o,a,s,l;for(Ot.sort(ko);e=Ot.shift();)e.__d&&(t=Ot.length,r=void 0,i=void 0,o=void 0,s=(a=(n=e).__v).__e,(l=n.__P)&&(r=[],i=[],(o=st({},a)).__v=a.__v+1,ta(l,a,o,n.__n,l.ownerSVGElement!==void 0,a.__h!=null?[s]:null,r,s??ti(a),a.__h,i),jc(r,a,i),a.__e!=s&&Mc(a)),Ot.length>t&&Ot.sort(ko));ni.__r=0}function Fc(e,t,n,r,i,o,a,s,l,u,d){var p,f,h,m,y,x,g,b,v,_,w=0,N=r&&r.__k||Lc,T=N.length,I=T,M=t.length;for(n.__k=[],p=0;p<M;p++)(m=n.__k[p]=(m=t[p])==null||typeof m=="boolean"||typeof m=="function"?null:typeof m=="string"||typeof m=="number"||typeof m=="bigint"?Vn(null,m,null,null,m):ki(m)?Vn(V,{children:m},null,null,null):m.__b>0?Vn(m.type,m.props,m.key,m.ref?m.ref:null,m.__v):m)!=null&&(m.__=n,m.__b=n.__b+1,(b=Pd(m,N,g=p+w,I))===-1?h=sn:(h=N[b]||sn,N[b]=void 0,I--),ta(e,m,h,i,o,a,s,l,u,d),y=m.__e,(f=m.ref)&&h.ref!=f&&(h.ref&&na(h.ref,null,m),d.push(f,m.__c||y,m)),y!=null&&(x==null&&(x=y),_=!(v=h===sn||h.__v===null)&&b===g,v?b==-1&&w--:b!==g&&(b===g+1?(w++,_=!0):b>g?I>M-g?(w+=b-g,_=!0):w--:w=b<g&&b==g-1?b-g:0),g=p+w,_=_||b==p&&!v,typeof m.type!="function"||b===g&&h.__k!==m.__k?typeof m.type=="function"||_?m.__d!==void 0?(l=m.__d,m.__d=void 0):l=y.nextSibling:l=qc(e,y,l):l=Uc(m,l,e),typeof n.type=="function"&&(n.__d=l)));for(n.__e=x,p=T;p--;)N[p]!=null&&(typeof n.type=="function"&&N[p].__e!=null&&N[p].__e==n.__d&&(n.__d=N[p].__e.nextSibling),Bc(N[p],N[p]))}function Uc(e,t,n){for(var r,i=e.__k,o=0;i&&o<i.length;o++)(r=i[o])&&(r.__=e,t=typeof r.type=="function"?Uc(r,t,n):qc(n,r.__e,t));return t}function lt(e,t){return t=t||[],e==null||typeof e=="boolean"||(ki(e)?e.some(function(n){lt(n,t)}):t.push(e)),t}function qc(e,t,n){return n==null||n.parentNode!==e?e.insertBefore(t,null):t==n&&t.parentNode!=null||e.insertBefore(t,n),t.nextSibling}function Pd(e,t,n,r){var i=e.key,o=e.type,a=n-1,s=n+1,l=t[n];if(l===null||l&&i==l.key&&o===l.type)return n;if(r>(l!=null?1:0))for(;a>=0||s<t.length;){if(a>=0){if((l=t[a])&&i==l.key&&o===l.type)return a;a--}if(s<t.length){if((l=t[s])&&i==l.key&&o===l.type)return s;s++}}return-1}function Dd(e,t,n,r,i){var o;for(o in n)o==="children"||o==="key"||o in t||ri(e,o,null,n[o],r);for(o in t)i&&typeof t[o]!="function"||o==="children"||o==="key"||o==="value"||o==="checked"||n[o]===t[o]||ri(e,o,t[o],n[o],r)}function Ba(e,t,n){t[0]==="-"?e.setProperty(t,n??""):e[t]=n==null?"":typeof n!="number"||Rd.test(t)?n:n+"px"}function ri(e,t,n,r,i){var o;e:if(t==="style")if(typeof n=="string")e.style.cssText=n;else{if(typeof r=="string"&&(e.style.cssText=r=""),r)for(t in r)n&&t in n||Ba(e.style,t,"");if(n)for(t in n)r&&n[t]===r[t]||Ba(e.style,t,n[t])}else if(t[0]==="o"&&t[1]==="n")o=t!==(t=t.replace(/Capture$/,"")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+o]=n,n?r||e.addEventListener(t,o?za:Va,o):e.removeEventListener(t,o?za:Va,o);else if(t!=="dangerouslySetInnerHTML"){if(i)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!=="width"&&t!=="height"&&t!=="href"&&t!=="list"&&t!=="form"&&t!=="tabIndex"&&t!=="download"&&t!=="rowSpan"&&t!=="colSpan"&&t in e)try{e[t]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&t[4]!=="-"?e.removeAttribute(t):e.setAttribute(t,n))}}function Va(e){return this.l[e.type+!1](A.event?A.event(e):e)}function za(e){return this.l[e.type+!0](A.event?A.event(e):e)}function ta(e,t,n,r,i,o,a,s,l,u){var d,p,f,h,m,y,x,g,b,v,_,w,N,T,I,M=t.type;if(t.constructor!==void 0)return null;n.__h!=null&&(l=n.__h,s=t.__e=n.__e,t.__h=null,o=[s]),(d=A.__b)&&d(t);try{e:if(typeof M=="function"){if(g=t.props,b=(d=M.contextType)&&r[d.__c],v=d?b?b.props.value:d.__:r,n.__c?x=(p=t.__c=n.__c).__=p.__E:("prototype"in M&&M.prototype.render?t.__c=p=new M(g,v):(t.__c=p=new Fe(g,v),p.constructor=M,p.render=$d),b&&b.sub(p),p.props=g,p.state||(p.state={}),p.context=v,p.__n=r,f=p.__d=!0,p.__h=[],p._sb=[]),p.__s==null&&(p.__s=p.state),M.getDerivedStateFromProps!=null&&(p.__s==p.state&&(p.__s=st({},p.__s)),st(p.__s,M.getDerivedStateFromProps(g,p.__s))),h=p.props,m=p.state,p.__v=t,f)M.getDerivedStateFromProps==null&&p.componentWillMount!=null&&p.componentWillMount(),p.componentDidMount!=null&&p.__h.push(p.componentDidMount);else{if(M.getDerivedStateFromProps==null&&g!==h&&p.componentWillReceiveProps!=null&&p.componentWillReceiveProps(g,v),!p.__e&&(p.shouldComponentUpdate!=null&&p.shouldComponentUpdate(g,p.__s,v)===!1||t.__v===n.__v)){for(t.__v!==n.__v&&(p.props=g,p.state=p.__s,p.__d=!1),t.__e=n.__e,t.__k=n.__k,t.__k.forEach(function(F){F&&(F.__=t)}),_=0;_<p._sb.length;_++)p.__h.push(p._sb[_]);p._sb=[],p.__h.length&&a.push(p);break e}p.componentWillUpdate!=null&&p.componentWillUpdate(g,p.__s,v),p.componentDidUpdate!=null&&p.__h.push(function(){p.componentDidUpdate(h,m,y)})}if(p.context=v,p.props=g,p.__P=e,p.__e=!1,w=A.__r,N=0,"prototype"in M&&M.prototype.render){for(p.state=p.__s,p.__d=!1,w&&w(t),d=p.render(p.props,p.state,p.context),T=0;T<p._sb.length;T++)p.__h.push(p._sb[T]);p._sb=[]}else do p.__d=!1,w&&w(t),d=p.render(p.props,p.state,p.context),p.state=p.__s;while(p.__d&&++N<25);p.state=p.__s,p.getChildContext!=null&&(r=st(st({},r),p.getChildContext())),f||p.getSnapshotBeforeUpdate==null||(y=p.getSnapshotBeforeUpdate(h,m)),Fc(e,ki(I=d!=null&&d.type===V&&d.key==null?d.props.children:d)?I:[I],t,n,r,i,o,a,s,l,u),p.base=t.__e,t.__h=null,p.__h.length&&a.push(p),x&&(p.__E=p.__=null)}else o==null&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=Ld(n.__e,t,n,r,i,o,a,l,u);(d=A.diffed)&&d(t)}catch(F){t.__v=null,(l||o!=null)&&(t.__e=s,t.__h=!!l,o[o.indexOf(s)]=null),A.__e(F,t,n)}}function jc(e,t,n){for(var r=0;r<n.length;r++)na(n[r],n[++r],n[++r]);A.__c&&A.__c(t,e),e.some(function(i){try{e=i.__h,i.__h=[],e.some(function(o){o.call(i)})}catch(o){A.__e(o,i.__v)}})}function Ld(e,t,n,r,i,o,a,s,l){var u,d,p,f=n.props,h=t.props,m=t.type,y=0;if(m==="svg"&&(i=!0),o!=null){for(;y<o.length;y++)if((u=o[y])&&"setAttribute"in u==!!m&&(m?u.localName===m:u.nodeType===3)){e=u,o[y]=null;break}}if(e==null){if(m===null)return document.createTextNode(h);e=i?document.createElementNS("http://www.w3.org/2000/svg",m):document.createElement(m,h.is&&h),o=null,s=!1}if(m===null)f===h||s&&e.data===h||(e.data=h);else{if(o=o&&mr.call(e.childNodes),d=(f=n.props||sn).dangerouslySetInnerHTML,p=h.dangerouslySetInnerHTML,!s){if(o!=null)for(f={},y=0;y<e.attributes.length;y++)f[e.attributes[y].name]=e.attributes[y].value;(p||d)&&(p&&(d&&p.__html==d.__html||p.__html===e.innerHTML)||(e.innerHTML=p&&p.__html||""))}if(Dd(e,h,f,i,s),p)t.__k=[];else if(Fc(e,ki(y=t.props.children)?y:[y],t,n,r,i&&m!=="foreignObject",o,a,o?o[0]:n.__k&&ti(n,0),s,l),o!=null)for(y=o.length;y--;)o[y]!=null&&$c(o[y]);s||("value"in h&&(y=h.value)!==void 0&&(y!==e.value||m==="progress"&&!y||m==="option"&&y!==f.value)&&ri(e,"value",y,f.value,!1),"checked"in h&&(y=h.checked)!==void 0&&y!==e.checked&&ri(e,"checked",y,f.checked,!1))}return e}function na(e,t,n){try{typeof e=="function"?e(t):e.current=t}catch(r){A.__e(r,n)}}function Bc(e,t,n){var r,i;if(A.unmount&&A.unmount(e),(r=e.ref)&&(r.current&&r.current!==e.__e||na(r,null,t)),(r=e.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(o){A.__e(o,t)}r.base=r.__P=null,e.__c=void 0}if(r=e.__k)for(i=0;i<r.length;i++)r[i]&&Bc(r[i],t,n||typeof e.type!="function");n||e.__e==null||$c(e.__e),e.__=e.__e=e.__d=void 0}function $d(e,t,n){return this.constructor(e,n)}function Jn(e,t,n){var r,i,o,a;A.__&&A.__(e,t),i=(r=typeof n=="function")?null:n&&n.__k||t.__k,o=[],a=[],ta(t,e=(!r&&n||t).__k=W(V,null,[e]),i||sn,sn,t.ownerSVGElement!==void 0,!r&&n?[n]:i?null:t.firstChild?mr.call(t.childNodes):null,o,!r&&n?n:i?i.__e:t.firstChild,r,a),jc(o,e,a)}function Vc(e,t){Jn(e,t,Vc)}function Md(e,t,n){var r,i,o,a,s=st({},e.props);for(o in e.type&&e.type.defaultProps&&(a=e.type.defaultProps),t)o=="key"?r=t[o]:o=="ref"?i=t[o]:s[o]=t[o]===void 0&&a!==void 0?a[o]:t[o];return arguments.length>2&&(s.children=arguments.length>3?mr.call(arguments,2):n),Vn(e.type,s,r||e.key,i||e.ref,null)}function kn(e,t){var n={__c:t="__cC"+Dc++,__:e,Consumer:function(r,i){return r.children(i)},Provider:function(r){var i,o;return this.getChildContext||(i=[],(o={})[t]=this,this.getChildContext=function(){return o},this.shouldComponentUpdate=function(a){this.props.value!==a.value&&i.some(function(s){s.__e=!0,Eo(s)})},this.sub=function(a){i.push(a);var s=a.componentWillUnmount;a.componentWillUnmount=function(){i.splice(i.indexOf(a),1),s&&s.call(a)}}),r.children}};return n.Provider.__=n.Consumer.contextType=n}mr=Lc.slice,A={__e:function(e,t,n,r){for(var i,o,a;t=t.__;)if((i=t.__c)&&!i.__)try{if((o=i.constructor)&&o.getDerivedStateFromError!=null&&(i.setState(o.getDerivedStateFromError(e)),a=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(e,r||{}),a=i.__d),a)return i.__E=i}catch(s){e=s}throw e}},Rc=0,Fe.prototype.setState=function(e,t){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=st({},this.state),typeof e=="function"&&(e=e(st({},n),this.props)),e&&st(n,e),e!=null&&this.__v&&(t&&this._sb.push(t),Eo(this))},Fe.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),Eo(this))},Fe.prototype.render=V,Ot=[],Pc=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,ko=function(e,t){return e.__v.__b-t.__v.__b},ni.__r=0,Dc=0;var pt,ie,Yi,Ga,gn=0,zc=[],Rr=[],Ha=A.__b,Qa=A.__r,Ya=A.diffed,Wa=A.__c,Ja=A.unmount;function Ht(e,t){A.__h&&A.__h(ie,e,gn||t),gn=0;var n=ie.__H||(ie.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({__V:Rr}),n.__[e]}function It(e){return gn=1,ra(Yc,e)}function ra(e,t,n){var r=Ht(pt++,2);if(r.t=e,!r.__c&&(r.__=[n?n(t):Yc(void 0,t),function(s){var l=r.__N?r.__N[0]:r.__[0],u=r.t(l,s);l!==u&&(r.__N=[u,r.__[1]],r.__c.setState({}))}],r.__c=ie,!ie.u)){var i=function(s,l,u){if(!r.__c.__H)return!0;var d=r.__c.__H.__.filter(function(f){return f.__c});if(d.every(function(f){return!f.__N}))return!o||o.call(this,s,l,u);var p=!1;return d.forEach(function(f){if(f.__N){var h=f.__[0];f.__=f.__N,f.__N=void 0,h!==f.__[0]&&(p=!0)}}),!(!p&&r.__c.props===s)&&(!o||o.call(this,s,l,u))};ie.u=!0;var o=ie.shouldComponentUpdate,a=ie.componentWillUpdate;ie.componentWillUpdate=function(s,l,u){if(this.__e){var d=o;o=void 0,i(s,l,u),o=d}a&&a.call(this,s,l,u)},ie.shouldComponentUpdate=i}return r.__N||r.__}function Te(e,t){var n=Ht(pt++,3);!A.__s&&ia(n.__H,t)&&(n.__=e,n.i=t,ie.__H.__h.push(n))}function En(e,t){var n=Ht(pt++,4);!A.__s&&ia(n.__H,t)&&(n.__=e,n.i=t,ie.__h.push(n))}function ft(e){return gn=5,de(function(){return{current:e}},[])}function Gc(e,t,n){gn=6,En(function(){return typeof e=="function"?(e(t()),function(){return e(null)}):e?(e.current=t(),function(){return e.current=null}):void 0},n==null?n:n.concat(e))}function de(e,t){var n=Ht(pt++,7);return ia(n.__H,t)?(n.__V=e(),n.i=t,n.__h=e,n.__V):n.__}function Ft(e,t){return gn=8,de(function(){return e},t)}function Qt(e){var t=ie.context[e.__c],n=Ht(pt++,9);return n.c=e,t?(n.__==null&&(n.__=!0,t.sub(ie)),t.props.value):e.__}function Hc(e,t){A.useDebugValue&&A.useDebugValue(t?t(e):e)}function Fd(e){var t=Ht(pt++,10),n=It();return t.__=e,ie.componentDidCatch||(ie.componentDidCatch=function(r,i){t.__&&t.__(r,i),n[1](r)}),[n[0],function(){n[1](void 0)}]}function Qc(){var e=Ht(pt++,11);if(!e.__){for(var t=ie.__v;t!==null&&!t.__m&&t.__!==null;)t=t.__;var n=t.__m||(t.__m=[0,0]);e.__="P"+n[0]+"-"+n[1]++}return e.__}function Ud(){for(var e;e=zc.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(Pr),e.__H.__h.forEach(No),e.__H.__h=[]}catch(t){e.__H.__h=[],A.__e(t,e.__v)}}A.__b=function(e){ie=null,Ha&&Ha(e)},A.__r=function(e){Qa&&Qa(e),pt=0;var t=(ie=e.__c).__H;t&&(Yi===ie?(t.__h=[],ie.__h=[],t.__.forEach(function(n){n.__N&&(n.__=n.__N),n.__V=Rr,n.__N=n.i=void 0})):(t.__h.forEach(Pr),t.__h.forEach(No),t.__h=[],pt=0)),Yi=ie},A.diffed=function(e){Ya&&Ya(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(zc.push(t)!==1&&Ga===A.requestAnimationFrame||((Ga=A.requestAnimationFrame)||qd)(Ud)),t.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.__V!==Rr&&(n.__=n.__V),n.i=void 0,n.__V=Rr})),Yi=ie=null},A.__c=function(e,t){t.some(function(n){try{n.__h.forEach(Pr),n.__h=n.__h.filter(function(r){return!r.__||No(r)})}catch(r){t.some(function(i){i.__h&&(i.__h=[])}),t=[],A.__e(r,n.__v)}}),Wa&&Wa(e,t)},A.unmount=function(e){Ja&&Ja(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach(function(r){try{Pr(r)}catch(i){t=i}}),n.__H=void 0,t&&A.__e(t,n.__v))};var Ka=typeof requestAnimationFrame=="function";function qd(e){var t,n=function(){clearTimeout(r),Ka&&cancelAnimationFrame(t),setTimeout(e)},r=setTimeout(n,100);Ka&&(t=requestAnimationFrame(n))}function Pr(e){var t=ie,n=e.__c;typeof n=="function"&&(e.__c=void 0,n()),ie=t}function No(e){var t=ie;e.__c=e.__(),ie=t}function ia(e,t){return!e||e.length!==t.length||t.some(function(n,r){return n!==e[r]})}function Yc(e,t){return typeof t=="function"?t(e):t}function Wc(e,t){for(var n in t)e[n]=t[n];return e}function To(e,t){for(var n in e)if(n!=="__source"&&!(n in t))return!0;for(var r in t)if(r!=="__source"&&e[r]!==t[r])return!0;return!1}function Wi(e,t){return e===t&&(e!==0||1/e==1/t)||e!=e&&t!=t}function ii(e){this.props=e}function oi(e,t){function n(i){var o=this.props.ref,a=o==i.ref;return!a&&o&&(o.call?o(null):o.current=null),t?!t(this.props,i)||!a:To(this.props,i)}function r(i){return this.shouldComponentUpdate=n,W(e,i)}return r.displayName="Memo("+(e.displayName||e.name)+")",r.prototype.isReactComponent=!0,r.__f=!0,r}(ii.prototype=new Fe).isPureReactComponent=!0,ii.prototype.shouldComponentUpdate=function(e,t){return To(this.props,e)||To(this.state,t)};var Xa=A.__b;A.__b=function(e){e.type&&e.type.__f&&e.ref&&(e.props.ref=e.ref,e.ref=null),Xa&&Xa(e)};var jd=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function Rt(e){function t(n){var r=Wc({},n);return delete r.ref,e(r,n.ref||null)}return t.$$typeof=jd,t.render=t,t.prototype.isReactComponent=t.__f=!0,t.displayName="ForwardRef("+(e.displayName||e.name)+")",t}var Za=function(e,t){return e==null?null:lt(lt(e).map(t))},ai={map:Za,forEach:Za,count:function(e){return e?lt(e).length:0},only:function(e){var t=lt(e);if(t.length!==1)throw"Children.only";return t[0]},toArray:lt},Bd=A.__e;A.__e=function(e,t,n,r){if(e.then){for(var i,o=t;o=o.__;)if((i=o.__c)&&i.__c)return t.__e==null&&(t.__e=n.__e,t.__k=n.__k),i.__c(e,t)}Bd(e,t,n,r)};var es=A.unmount;function Jc(e,t,n){return e&&(e.__c&&e.__c.__H&&(e.__c.__H.__.forEach(function(r){typeof r.__c=="function"&&r.__c()}),e.__c.__H=null),(e=Wc({},e)).__c!=null&&(e.__c.__P===n&&(e.__c.__P=t),e.__c=null),e.__k=e.__k&&e.__k.map(function(r){return Jc(r,t,n)})),e}function Kc(e,t,n){return e&&(e.__v=null,e.__k=e.__k&&e.__k.map(function(r){return Kc(r,t,n)}),e.__c&&e.__c.__P===t&&(e.__e&&n.insertBefore(e.__e,e.__d),e.__c.__e=!0,e.__c.__P=n)),e}function cn(){this.__u=0,this.t=null,this.__b=null}function Xc(e){var t=e.__.__c;return t&&t.__a&&t.__a(e)}function oa(e){var t,n,r;function i(o){if(t||(t=e()).then(function(a){n=a.default||a},function(a){r=a}),r)throw r;if(!n)throw t;return W(n,o)}return i.displayName="Lazy",i.__f=!0,i}function on(){this.u=null,this.o=null}A.unmount=function(e){var t=e.__c;t&&t.__R&&t.__R(),t&&e.__h===!0&&(e.type=null),es&&es(e)},(cn.prototype=new Fe).__c=function(e,t){var n=t.__c,r=this;r.t==null&&(r.t=[]),r.t.push(n);var i=Xc(r.__v),o=!1,a=function(){o||(o=!0,n.__R=null,i?i(s):s())};n.__R=a;var s=function(){if(!--r.__u){if(r.state.__a){var u=r.state.__a;r.__v.__k[0]=Kc(u,u.__c.__P,u.__c.__O)}var d;for(r.setState({__a:r.__b=null});d=r.t.pop();)d.forceUpdate()}},l=t.__h===!0;r.__u++||l||r.setState({__a:r.__b=r.__v.__k[0]}),e.then(a,a)},cn.prototype.componentWillUnmount=function(){this.t=[]},cn.prototype.render=function(e,t){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),r=this.__v.__k[0].__c;this.__v.__k[0]=Jc(this.__b,n,r.__O=r.__P)}this.__b=null}var i=t.__a&&W(V,null,e.fallback);return i&&(i.__h=null),[W(V,null,t.__a?null:e.children),i]};var ts=function(e,t,n){if(++n[1]===n[0]&&e.o.delete(t),e.props.revealOrder&&(e.props.revealOrder[0]!=="t"||!e.o.size))for(n=e.u;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;e.u=n=n[2]}};function Vd(e){return this.getChildContext=function(){return e.context},e.children}function zd(e){var t=this,n=e.i;t.componentWillUnmount=function(){Jn(null,t.l),t.l=null,t.i=null},t.i&&t.i!==n&&t.componentWillUnmount(),e.__v?(t.l||(t.i=n,t.l={nodeType:1,parentNode:n,childNodes:[],appendChild:function(r){this.childNodes.push(r),t.i.appendChild(r)},insertBefore:function(r,i){this.childNodes.push(r),t.i.appendChild(r)},removeChild:function(r){this.childNodes.splice(this.childNodes.indexOf(r)>>>1,1),t.i.removeChild(r)}}),Jn(W(Vd,{context:t.context},e.__v),t.l)):t.l&&t.componentWillUnmount()}function Zc(e,t){var n=W(zd,{__v:e,i:t});return n.containerInfo=t,n}(on.prototype=new Fe).__a=function(e){var t=this,n=Xc(t.__v),r=t.o.get(e);return r[0]++,function(i){var o=function(){t.props.revealOrder?(r.push(i),ts(t,e,r)):i()};n?n(o):o()}},on.prototype.render=function(e){this.u=null,this.o=new Map;var t=lt(e.children);e.revealOrder&&e.revealOrder[0]==="b"&&t.reverse();for(var n=t.length;n--;)this.o.set(t[n],this.u=[1,0,this.u]);return e.children},on.prototype.componentDidUpdate=on.prototype.componentDidMount=function(){var e=this;this.o.forEach(function(t,n){ts(e,n,t)})};var el=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,Gd=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,Hd=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,Qd=/[A-Z0-9]/g,Yd=typeof document<"u",Wd=function(e){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/:/fil|che|ra/).test(e)};function aa(e,t,n){return t.__k==null&&(t.textContent=""),Jn(e,t),typeof n=="function"&&n(),e?e.__c:null}function tl(e,t,n){return Vc(e,t),typeof n=="function"&&n(),e?e.__c:null}Fe.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(e){Object.defineProperty(Fe.prototype,e,{configurable:!0,get:function(){return this["UNSAFE_"+e]},set:function(t){Object.defineProperty(this,e,{configurable:!0,writable:!0,value:t})}})});var ns=A.event;function Jd(){}function Kd(){return this.cancelBubble}function Xd(){return this.defaultPrevented}A.event=function(e){return ns&&(e=ns(e)),e.persist=Jd,e.isPropagationStopped=Kd,e.isDefaultPrevented=Xd,e.nativeEvent=e};var sa,Zd={enumerable:!1,configurable:!0,get:function(){return this.class}},rs=A.vnode;A.vnode=function(e){typeof e.type=="string"&&function(t){var n=t.props,r=t.type,i={};for(var o in n){var a=n[o];if(!(o==="value"&&"defaultValue"in n&&a==null||Yd&&o==="children"&&r==="noscript"||o==="class"||o==="className")){var s=o.toLowerCase();o==="defaultValue"&&"value"in n&&n.value==null?o="value":o==="download"&&a===!0?a="":s==="ondoubleclick"?o="ondblclick":s!=="onchange"||r!=="input"&&r!=="textarea"||Wd(n.type)?s==="onfocus"?o="onfocusin":s==="onblur"?o="onfocusout":Hd.test(o)?o=s:r.indexOf("-")===-1&&Gd.test(o)?o=o.replace(Qd,"-$&").toLowerCase():a===null&&(a=void 0):s=o="oninput",s==="oninput"&&i[o=s]&&(o="oninputCapture"),i[o]=a}}r=="select"&&i.multiple&&Array.isArray(i.value)&&(i.value=lt(n.children).forEach(function(l){l.props.selected=i.value.indexOf(l.props.value)!=-1})),r=="select"&&i.defaultValue!=null&&(i.value=lt(n.children).forEach(function(l){l.props.selected=i.multiple?i.defaultValue.indexOf(l.props.value)!=-1:i.defaultValue==l.props.value})),n.class&&!n.className?(i.class=n.class,Object.defineProperty(i,"className",Zd)):(n.className&&!n.class||n.class&&n.className)&&(i.class=i.className=n.className),t.props=i}(e),e.$$typeof=el,rs&&rs(e)};var is=A.__r;A.__r=function(e){is&&is(e),sa=e.__c};var os=A.diffed;A.diffed=function(e){os&&os(e);var t=e.props,n=e.__e;n!=null&&e.type==="textarea"&&"value"in t&&t.value!==n.value&&(n.value=t.value==null?"":t.value),sa=null};var nl={ReactCurrentDispatcher:{current:{readContext:function(e){return sa.__n[e.__c].props.value}}}},ep="17.0.2";function rl(e){return W.bind(null,e)}function Ei(e){return!!e&&e.$$typeof===el}function il(e){return Ei(e)?Md.apply(null,arguments):e}function ol(e){return!!e.__k&&(Jn(null,e),!0)}function al(e){return e&&(e.base||e.nodeType===1&&e)||null}var sl=function(e,t){return e(t)},cl=function(e,t){return e(t)},ll=V;function gr(e){e()}function ul(e){return e}function dl(){return[!1,gr]}var pl=En;function hl(e,t){var n=t(),r=It({h:{__:n,v:t}}),i=r[0].h,o=r[1];return En(function(){i.__=n,i.v=t,Wi(i.__,t())||o({h:i})},[e,n,t]),Te(function(){return Wi(i.__,i.v())||o({h:i}),e(function(){Wi(i.__,i.v())||o({h:i})})},[e]),n}var fl={useState:It,useId:Qc,useReducer:ra,useEffect:Te,useLayoutEffect:En,useInsertionEffect:pl,useTransition:dl,useDeferredValue:ul,useSyncExternalStore:hl,startTransition:gr,useRef:ft,useImperativeHandle:Gc,useMemo:de,useCallback:Ft,useContext:Qt,useDebugValue:Hc,version:"17.0.2",Children:ai,render:aa,hydrate:tl,unmountComponentAtNode:ol,createPortal:Zc,createElement:W,createContext:kn,createFactory:rl,cloneElement:il,createRef:ea,Fragment:V,isValidElement:Ei,findDOMNode:al,Component:Fe,PureComponent:ii,memo:oi,forwardRef:Rt,flushSync:cl,unstable_batchedUpdates:sl,StrictMode:ll,Suspense:cn,SuspenseList:on,lazy:oa,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:nl};const tp=Object.freeze(Object.defineProperty({__proto__:null,Children:ai,Component:Fe,Fragment:V,PureComponent:ii,StrictMode:ll,Suspense:cn,SuspenseList:on,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:nl,cloneElement:il,createContext:kn,createElement:W,createFactory:rl,createPortal:Zc,createRef:ea,default:fl,findDOMNode:al,flushSync:cl,forwardRef:Rt,hydrate:tl,isValidElement:Ei,lazy:oa,memo:oi,render:aa,startTransition:gr,unmountComponentAtNode:ol,unstable_batchedUpdates:sl,useCallback:Ft,useContext:Qt,useDebugValue:Hc,useDeferredValue:ul,useEffect:Te,useErrorBoundary:Fd,useId:Qc,useImperativeHandle:Gc,useInsertionEffect:pl,useLayoutEffect:En,useMemo:de,useReducer:ra,useRef:ft,useState:It,useSyncExternalStore:hl,useTransition:dl,version:ep},Symbol.toStringTag,{value:"Module"}));function np(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function rp(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var ml={exports:{}},gl={};const vl=rp(tp);var yl={exports:{}},bl={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vn=vl;function ip(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var op=typeof Object.is=="function"?Object.is:ip,ap=vn.useState,sp=vn.useEffect,cp=vn.useLayoutEffect,lp=vn.useDebugValue;function up(e,t){var n=t(),r=ap({inst:{value:n,getSnapshot:t}}),i=r[0].inst,o=r[1];return cp(function(){i.value=n,i.getSnapshot=t,Ji(i)&&o({inst:i})},[e,n,t]),sp(function(){return Ji(i)&&o({inst:i}),e(function(){Ji(i)&&o({inst:i})})},[e]),lp(n),n}function Ji(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!op(e,n)}catch{return!0}}function dp(e,t){return t()}var pp=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?dp:up;bl.useSyncExternalStore=vn.useSyncExternalStore!==void 0?vn.useSyncExternalStore:pp;yl.exports=bl;var hp=yl.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ni=vl,fp=hp;function mp(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var gp=typeof Object.is=="function"?Object.is:mp,vp=fp.useSyncExternalStore,yp=Ni.useRef,bp=Ni.useEffect,_p=Ni.useMemo,xp=Ni.useDebugValue;gl.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var o=yp(null);if(o.current===null){var a={hasValue:!1,value:null};o.current=a}else a=o.current;o=_p(function(){function l(h){if(!u){if(u=!0,d=h,h=r(h),i!==void 0&&a.hasValue){var m=a.value;if(i(m,h))return p=m}return p=h}if(m=p,gp(d,h))return m;var y=r(h);return i!==void 0&&i(m,y)?m:(d=h,p=y)}var u=!1,d,p,f=n===void 0?null:n;return[function(){return l(t())},f===null?void 0:function(){return l(f())}]},[t,n,r,i]);var s=vp(e,o[0],o[1]);return bp(function(){a.hasValue=!0,a.value=s},[s]),xp(s),s};ml.exports=gl;var wp=ml.exports;/**
 * @tanstack/store/src/index.ts
 *
 * Copyright (c) TanStack
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */class kp{constructor(t,n){q(this,"listeners",new Set);q(this,"_batching",!1);q(this,"_flushing",0);q(this,"_nextPriority",null);q(this,"subscribe",t=>{var r,i;this.listeners.add(t);const n=(i=(r=this.options)==null?void 0:r.onSubscribe)==null?void 0:i.call(r,t,this);return()=>{this.listeners.delete(t),n==null||n()}});q(this,"setState",(t,n)=>{var o,a,s,l,u;const r=this.state;this.state=(o=this.options)!=null&&o.updateFn?this.options.updateFn(r)(t):t(r);const i=(n==null?void 0:n.priority)??((a=this.options)==null?void 0:a.defaultPriority)??"high";this._nextPriority===null?this._nextPriority=i:this._nextPriority==="high"?this._nextPriority=i:this._nextPriority=((s=this.options)==null?void 0:s.defaultPriority)??"high",(u=(l=this.options)==null?void 0:l.onUpdate)==null||u.call(l,{priority:this._nextPriority}),this._flush()});q(this,"_flush",()=>{if(this._batching)return;const t=++this._flushing;this.listeners.forEach(n=>{this._flushing===t&&n({priority:this._nextPriority??"high"})})});q(this,"batch",t=>{if(this._batching)return t();this._batching=!0,t(),this._batching=!1,this._flush()});this.state=t,this.options=n}}/**
 * @tanstack/react-store/src/index.tsx
 *
 * Copyright (c) TanStack
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ep(e,t=n=>n){return wp.useSyncExternalStoreWithSelector(e.subscribe,()=>e.state,()=>e.state,t,Np)}function Np(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(let r=0;r<n.length;r++)if(!Object.prototype.hasOwnProperty.call(t,n[r])||!Object.is(e[n[r]],t[n[r]]))return!1;return!0}var Tp=!0,Ki="Invariant failed";function at(e,t){if(!e){if(Tp)throw new Error(Ki);var n=typeof t=="function"?t():t,r=n?"".concat(Ki,": ").concat(n):Ki;throw new Error(r)}}var Ip=!0;function ca(e,t){if(!Ip){if(e)return;var n="Warning: "+t;typeof console<"u"&&console.warn(n);try{throw Error(n)}catch{}}}/**
 * @tanstack/router-core/src/index.ts
 *
 * Copyright (c) TanStack
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const as="pushstate",ss="popstate",_l="beforeunload",xl=e=>(e.preventDefault(),e.returnValue=""),cs=()=>{removeEventListener(_l,xl,{capture:!0})};function wl(e){let t=e.getLocation(),n=()=>{},r=new Set,i=[],o=[];const a=()=>{var u,d;if(i.length){(u=i[0])==null||u.call(i,a,()=>{i=[],cs()});return}for(;o.length;)(d=o.shift())==null||d();e.subscriber||l()},s=u=>{o.push(u),a()},l=()=>{t=e.getLocation(),r.forEach(u=>u())};return{get location(){return t},subscribe:u=>(r.size===0&&(n=typeof e.subscriber=="function"?e.subscriber(l):()=>{}),r.add(u),()=>{r.delete(u),r.size===0&&n()}),push:(u,d)=>{s(()=>{e.pushState(u,d)})},replace:(u,d)=>{s(()=>{e.replaceState(u,d)})},go:u=>{s(()=>{e.go(u)})},back:()=>{s(()=>{e.back()})},forward:()=>{s(()=>{e.forward()})},createHref:u=>e.createHref(u),block:u=>(i.push(u),i.length===1&&addEventListener(_l,xl,{capture:!0}),()=>{i=i.filter(d=>d!==u),i.length||cs()})}}function Sp(e){const t=(e==null?void 0:e.getHref)??(()=>`${window.location.pathname}${window.location.search}${window.location.hash}`),n=(e==null?void 0:e.createHref)??(i=>i);return wl({getLocation:()=>kl(t(),history.state),subscriber:i=>{window.addEventListener(as,i),window.addEventListener(ss,i);var o=window.history.pushState;window.history.pushState=function(){let s=o.apply(history,arguments);return i(),s};var a=window.history.replaceState;return window.history.replaceState=function(){let s=a.apply(history,arguments);return i(),s},()=>{window.history.pushState=o,window.history.replaceState=a,window.removeEventListener(as,i),window.removeEventListener(ss,i)}},pushState:(i,o)=>{window.history.pushState({...o,key:si()},"",n(i))},replaceState:(i,o)=>{window.history.replaceState({...o,key:si()},"",n(i))},back:()=>window.history.back(),forward:()=>window.history.forward(),go:i=>window.history.go(i),createHref:i=>n(i)})}function Cp(e={initialEntries:["/"]}){const t=e.initialEntries;let n=e.initialIndex??t.length-1,r={};return wl({getLocation:()=>kl(t[n],r),subscriber:!1,pushState:(o,a)=>{r={...a,key:si()},t.push(o),n++},replaceState:(o,a)=>{r={...a,key:si()},t[n]=o},back:()=>{n--},forward:()=>{n=Math.min(n+1,t.length-1)},go:o=>window.history.go(o),createHref:o=>o})}function kl(e,t){let n=e.indexOf("#"),r=e.indexOf("?");return{href:e,pathname:e.substring(0,n>0?r>0?Math.min(n,r):n:r>0?r:e.length),hash:n>-1?e.substring(n):"",search:r>-1?e.slice(r,n===-1?void 0:n):"",state:t}}function si(){return(Math.random()+1).toString(36).substring(7)}function la(e){return e[e.length-1]}function Op(e){return typeof e=="function"}function At(e,t){return Op(e)?e(t):e}function El(e,t){return t.reduce((n,r)=>(n[r]=e[r],n),{})}function $n(e,t){if(e===t)return e;const n=t,r=Array.isArray(e)&&Array.isArray(n);if(r||ci(e)&&ci(n)){const i=r?e.length:Object.keys(e).length,o=r?n:Object.keys(n),a=o.length,s=r?[]:{};let l=0;for(let u=0;u<a;u++){const d=r?u:o[u];s[d]=$n(e[d],n[d]),s[d]===e[d]&&l++}return i===a&&l===i?e:s}return n}function ci(e){if(!ls(e))return!1;const t=e.constructor;if(typeof t>"u")return!0;const n=t.prototype;return!(!ls(n)||!n.hasOwnProperty("isPrototypeOf"))}function ls(e){return Object.prototype.toString.call(e)==="[object Object]"}function li(e,t){return e===t?!0:typeof e!=typeof t?!1:ci(e)&&ci(t)?!Object.keys(t).some(n=>!li(e[n],t[n])):Array.isArray(e)&&Array.isArray(t)?e.length===t.length&&e.every((n,r)=>li(n,t[r])):!1}function Dt(e){return Ti(e.filter(Boolean).join("/"))}function Ti(e){return e.replace(/\/{2,}/g,"/")}function Ap(e){return e==="/"?e:e.replace(/^\/{1,}/,"")}function Io(e){return e==="/"?e:e.replace(/\/{1,}$/,"")}function So(e){return Io(Ap(e))}function us(e,t,n){t=t.replace(new RegExp(`^${e}`),"/"),n=n.replace(new RegExp(`^${e}`),"/");let r=yn(t);const i=yn(n);i.forEach((a,s)=>{var l;if(a.value==="/")s?s===i.length-1&&r.push(a):r=[a];else if(a.value==="..")r.length>1&&((l=la(r))==null?void 0:l.value)==="/"&&r.pop(),r.pop();else{if(a.value===".")return;r.push(a)}});const o=Dt([e,...r.map(a=>a.value)]);return Ti(o)}function yn(e){if(!e)return[];e=Ti(e);const t=[];if(e.slice(0,1)==="/"&&(e=e.substring(1),t.push({type:"pathname",value:"/"})),!e)return t;const n=e.split("/").filter(Boolean);return t.push(...n.map(r=>r==="$"||r==="*"?{type:"wildcard",value:r}:r.charAt(0)==="$"?{type:"param",value:r}:{type:"pathname",value:r})),e.slice(-1)==="/"&&(e=e.substring(1),t.push({type:"pathname",value:"/"})),t}function Xi(e,t,n=!1){const r=yn(e);return Dt(r.map(i=>{if(i.type==="wildcard"){const o=t[i.value];return n?`${i.value}${o??""}`:o}return i.type==="param"?t[i.value.substring(1)]??"":i.value}))}function ds(e,t,n){const r=Rp(e,t,n);if(!(n.to&&!r))return r??{}}function Rp(e,t,n){t=e!="/"?t.substring(e.length):t;const r=`${n.to??"$"}`,i=yn(t),o=yn(r);t.startsWith("/")||i.unshift({type:"pathname",value:"/"}),r.startsWith("/")||o.unshift({type:"pathname",value:"/"});const a={};return(()=>{for(let l=0;l<Math.max(i.length,o.length);l++){const u=i[l],d=o[l],p=l>=i.length-1,f=l>=o.length-1;if(d){if(d.type==="wildcard")return u!=null&&u.value?(a["*"]=Dt(i.slice(l).map(h=>h.value)),!0):!1;if(d.type==="pathname"){if(d.value==="/"&&!(u!=null&&u.value))return!0;if(u){if(n.caseSensitive){if(d.value!==u.value)return!1}else if(d.value.toLowerCase()!==u.value.toLowerCase())return!1}}if(!u)return!1;if(d.type==="param"){if((u==null?void 0:u.value)==="/")return!1;u.value.charAt(0)!=="$"&&(a[d.value.substring(1)]=u.value)}}if(!p&&f)return!!n.fuzzy}return!0})()?a:void 0}function Pp(e,t){var n,r,i,o="";for(n in e)if((i=e[n])!==void 0)if(Array.isArray(i))for(r=0;r<i.length;r++)o&&(o+="&"),o+=encodeURIComponent(n)+"="+encodeURIComponent(i[r]);else o&&(o+="&"),o+=encodeURIComponent(n)+"="+encodeURIComponent(i);return(t||"")+o}function ps(e){if(!e)return"";var t=decodeURIComponent(e);return t==="false"?!1:t==="true"?!0:+t*0===0&&+t+""===t?+t:t}function Dp(e){for(var t,n,r={},i=e.split("&");t=i.shift();)t=t.split("="),n=t.shift(),r[n]!==void 0?r[n]=[].concat(r[n],ps(t.shift())):r[n]=ps(t.shift());return r}const yt="__root__",xi=class xi{constructor(t){q(this,"init",t=>{var l,u;this.originalIndex=t.originalIndex,this.router=t.router;const n=this.options,r=!(n!=null&&n.path)&&!(n!=null&&n.id);this.parentRoute=(u=(l=this.options)==null?void 0:l.getParentRoute)==null?void 0:u.call(l),r?this.path=yt:at(this.parentRoute,"Child Route instances must pass a 'getParentRoute: () => ParentRoute' option that returns a Route instance.");let i=r?yt:n.path;i&&i!=="/"&&(i=So(i));const o=(n==null?void 0:n.id)||i;let a=r?yt:Dt([this.parentRoute.id===yt?"":this.parentRoute.id,o]);i===yt&&(i="/"),a!==yt&&(a=Dt(["/",a]));const s=a===yt?"/":Dt([this.parentRoute.fullPath,i]);this.path=i,this.id=a,this.fullPath=s,this.to=s});q(this,"addChildren",t=>(this.children=t,this));q(this,"update",t=>(Object.assign(this.options,t),this));this.options=t||{},this.isRoot=!(t!=null&&t.getParentRoute),xi.__onInit(this)}};q(xi,"__onInit",t=>{});let Q=xi;class Lp extends Q{constructor(t){super(t)}}const $p=Fp(JSON.parse),Mp=Up(JSON.stringify,JSON.parse);function Fp(e){return t=>{t.substring(0,1)==="?"&&(t=t.substring(1));let n=Dp(t);for(let r in n){const i=n[r];if(typeof i=="string")try{n[r]=e(i)}catch{}}return n}}function Up(e,t){function n(r){if(typeof r=="object"&&r!==null)try{return e(r)}catch{}else if(typeof r=="string"&&typeof t=="function")try{return t(r),e(r)}catch{}return r}return r=>{r={...r},r&&Object.keys(r).forEach(o=>{const a=r[o];typeof a>"u"||a===void 0?delete r[o]:Array.isArray(a)?r[o]=a.map(n):r[o]=n(a)});const i=Pp(r).toString();return i?`?${i}`:""}}const hs=["component","errorComponent","pendingComponent"];var hn,pr,fn,wi,hr,fr,mn;class qp{constructor(t){vt(this,hn,void 0);q(this,"subscribers",new Set);q(this,"subscribe",(t,n)=>{const r={eventType:t,fn:n};return this.subscribers.add(r),()=>{this.subscribers.delete(r)}});vt(this,pr,t=>{this.subscribers.forEach(n=>{n.eventType===t.type&&n.fn(t)})});q(this,"reset",()=>{this.__store.setState(t=>Object.assign(t,fs()))});q(this,"mount",()=>{this.safeLoad()});q(this,"update",t=>{if(this.options={...this.options,...t,context:{...this.options.context,...t==null?void 0:t.context}},!this.history||this.options.history&&this.options.history!==this.history){Ee(this,hn)&&Ee(this,hn).call(this),this.history=this.options.history??(jp?Cp():Sp());const i=Ee(this,hr).call(this);this.__store.setState(o=>({...o,resolvedLocation:i,location:i})),qa(this,hn,this.history.subscribe(()=>{this.safeLoad({next:Ee(this,hr).call(this,this.state.location)})}))}const{basepath:n,routeTree:r}=this.options;return this.basepath=`/${So(n??"")??""}`,r&&r!==this.routeTree&&Ee(this,wi).call(this,r),this});q(this,"buildNext",t=>{const n=Ee(this,fr).call(this,t),r=this.matchRoutes(n.pathname,n.search);return Ee(this,fr).call(this,{...t,__matches:r})});q(this,"cancelMatches",()=>{this.state.matches.forEach(t=>{this.cancelMatch(t.id)})});q(this,"cancelMatch",t=>{var n,r;(r=(n=this.getRouteMatch(t))==null?void 0:n.abortController)==null||r.abort()});q(this,"safeLoad",async t=>{try{return this.load(t)}catch{}});q(this,"latestLoadPromise",Promise.resolve());q(this,"load",async t=>{const n=new Promise(async(r,i)=>{const o=this.state.resolvedLocation,a=!!(t!=null&&t.next&&o.href!==t.next.href);let s;const l=()=>this.latestLoadPromise!==n?this.latestLoadPromise:void 0;let u;Ee(this,pr).call(this,{type:"onBeforeLoad",from:o,to:(t==null?void 0:t.next)??this.state.location,pathChanged:a}),this.__store.batch(()=>{t!=null&&t.next&&this.__store.setState(d=>({...d,location:t.next})),u=this.matchRoutes(this.state.location.pathname,this.state.location.search,{throwOnError:t==null?void 0:t.throwOnError,debug:!0}),this.__store.setState(d=>({...d,status:"pending",pendingMatchIds:u.map(p=>p.id),matchesById:Ee(this,fn).call(this,d.matchesById,u)}))});try{try{await this.loadMatches(u)}catch{}if(s=l())return s;this.__store.setState(d=>({...d,status:"idle",resolvedLocation:d.location,matchIds:d.pendingMatchIds,pendingMatchIds:[]})),Ee(this,pr).call(this,{type:"onLoad",from:o,to:this.state.location,pathChanged:a}),r()}catch(d){if(s=l())return s;i(d)}});return this.latestLoadPromise=n,this.latestLoadPromise});vt(this,fn,(t,n)=>{const r={...t};let i=!1;return n.forEach(o=>{r[o.id]||(i=!0,r[o.id]=o)}),i?r:t});q(this,"getRoute",t=>{const n=this.routesById[t];return at(n,`Route with id "${t}" not found`),n});q(this,"preloadRoute",async(t=this.state.location)=>{const n=this.buildNext(t),r=this.matchRoutes(n.pathname,n.search,{throwOnError:!0});return this.__store.setState(i=>({...i,matchesById:Ee(this,fn).call(this,i.matchesById,r)})),await this.loadMatches(r,{preload:!0,maxAge:t.maxAge}),r});q(this,"cleanMatches",()=>{const t=Date.now(),n=Object.values(this.state.matchesById).filter(r=>{const i=this.getRoute(r.routeId);return!this.state.matchIds.includes(r.id)&&!this.state.pendingMatchIds.includes(r.id)&&r.preloadInvalidAt<t&&(i.options.gcMaxAge?r.updatedAt+i.options.gcMaxAge<t:!0)}).map(r=>r.id);n.length&&this.__store.setState(r=>{const i={...r.matchesById};return n.forEach(o=>{delete i[o]}),{...r,matchesById:i}})});q(this,"matchRoutes",(t,n,r)=>{let i={},a=this.flatRoutes.find(d=>{const p=ds(this.basepath,Io(t),{to:d.fullPath,caseSensitive:d.options.caseSensitive??this.options.caseSensitive});return p?(i=p,!0):!1})||this.routesById.__root__,s=[a];for(;a!=null&&a.parentRoute;)a=a.parentRoute,a&&s.unshift(a);const l=s.map(d=>{let p;if(d.options.parseParams)try{const f=d.options.parseParams(i);Object.assign(i,f)}catch(f){if(p=new zp(f.message,{cause:f}),r!=null&&r.throwOnError)throw p;return p}}),u=s.map((d,p)=>{const f=Xi(d.path,i),h=d.options.key?d.options.key({params:i,search:n})??"":"",m=h?JSON.stringify(h):"",y=Xi(d.id,i,!0)+m,x=this.getRouteMatch(y);if(x)return{...x};const g=!!(d.options.loader||hs.some(v=>{var _;return(_=d.options[v])==null?void 0:_.preload}));return{id:y,key:m,routeId:d.id,params:i,pathname:Dt([this.basepath,f]),updatedAt:Date.now(),invalidAt:9999999999999,preloadInvalidAt:9999999999999,routeSearch:{},search:{},status:g?"pending":"success",isFetching:!1,invalid:!1,error:void 0,paramsError:l[p],searchError:void 0,loaderData:void 0,loadPromise:Promise.resolve(),routeContext:void 0,context:void 0,abortController:new AbortController,fetchedAt:0}});return u.forEach((d,p)=>{const f=u[p-1],h=this.getRoute(d.routeId),m=(()=>{const x={search:(f==null?void 0:f.search)??n,routeSearch:(f==null?void 0:f.routeSearch)??n};try{const g=typeof h.options.validateSearch=="object"?h.options.validateSearch.parse:h.options.validateSearch,b=(g==null?void 0:g(x.search))??{},v={...x.search,...b};return{routeSearch:$n(d.routeSearch,b),search:$n(d.search,v)}}catch(g){if(d.searchError=new Vp(g.message,{cause:g}),r!=null&&r.throwOnError)throw d.searchError;return x}})();Object.assign(d,{...m});const y=(()=>{var x,g,b,v;try{const _=((g=(x=h.options).getContext)==null?void 0:g.call(x,{parentContext:(f==null?void 0:f.routeContext)??{},context:(f==null?void 0:f.context)??(this==null?void 0:this.options.context)??{},params:d.params,search:d.search}))||{};return{context:{...(f==null?void 0:f.context)??(this==null?void 0:this.options.context),..._},routeContext:_}}catch(_){throw(v=(b=h.options).onError)==null||v.call(b,_),_}})();Object.assign(d,{...y})}),u});q(this,"loadMatches",async(t,n)=>{var a,s;this.cleanMatches(),n!=null&&n.preload||t.forEach(l=>{this.setRouteMatch(l.id,u=>({...u,routeSearch:l.routeSearch,search:l.search,routeContext:l.routeContext,context:l.context,error:l.error,paramsError:l.paramsError,searchError:l.searchError,params:l.params}))});let r;try{for(const[l,u]of t.entries()){const d=this.getRoute(u.routeId),p=(h,m)=>{var y,x;if(h.routerCode=m,r=r??l,Zi(h))throw h;try{(x=(y=d.options).onError)==null||x.call(y,h)}catch(g){if(h=g,Zi(g))throw g}this.setRouteMatch(u.id,g=>({...g,error:h,status:"error",updatedAt:Date.now()}))};u.paramsError&&p(u.paramsError,"PARSE_PARAMS"),u.searchError&&p(u.searchError,"VALIDATE_SEARCH");let f=!1;try{await((s=(a=d.options).beforeLoad)==null?void 0:s.call(a,{...u,preload:!!(n!=null&&n.preload)}))}catch(h){p(h,"BEFORE_LOAD"),f=!0}if(f)break}}catch(l){throw n!=null&&n.preload||this.navigate(l),l}const i=t.slice(0,r),o=[];i.forEach((l,u)=>{o.push((async()=>{var g;const d=o[u-1],p=this.getRoute(l.routeId);if(l.isFetching||l.status==="success"&&!this.getIsInvalid({matchId:l.id,preload:n==null?void 0:n.preload}))return(g=this.getRouteMatch(l.id))==null?void 0:g.loadPromise;const f=Date.now(),h=()=>{const b=this.getRouteMatch(l.id);return b&&b.fetchedAt!==f?b.loadPromise:void 0},m=b=>Zi(b)?(n!=null&&n.preload||this.navigate(b),!0):!1,y=async()=>{var v,_,w,N;let b;try{const T=Promise.all(hs.map(async X=>{const Y=p.options[X];Y!=null&&Y.preload&&await Y.preload()})),I=(_=(v=p.options).loader)==null?void 0:_.call(v,{...l,preload:!!(n!=null&&n.preload),parentMatchPromise:d}),[M,F]=await Promise.all([T,I]);if(b=h())return await b;this.setRouteMatchData(l.id,()=>F,n)}catch(T){if(b=h())return await b;if(m(T))return;try{(N=(w=p.options).onError)==null||N.call(w,T)}catch(I){if(T=I,m(I))return}this.setRouteMatch(l.id,I=>({...I,error:T,status:"error",isFetching:!1,updatedAt:Date.now()}))}};let x;this.__store.batch(()=>{this.setRouteMatch(l.id,b=>({...b,isFetching:!0,fetchedAt:f,invalid:!1})),x=y(),this.setRouteMatch(l.id,b=>({...b,loadPromise:x}))}),await x})())}),await Promise.all(o)});q(this,"reload",()=>this.navigate({fromCurrent:!0,replace:!0,search:!0}));q(this,"resolvePath",(t,n)=>us(this.basepath,t,Ti(n)));q(this,"navigate",async({from:t,to:n="",search:r,hash:i,replace:o,params:a})=>{const s=String(n),l=typeof t>"u"?t:String(t);let u;try{new URL(`${s}`),u=!0}catch{}return at(!u,"Attempting to navigate to external url with this.navigate!"),Ee(this,mn).call(this,{from:l,to:s,search:r,hash:i,replace:o,params:a})});q(this,"matchRoute",(t,n)=>{t={...t,to:t.to?this.resolvePath(t.from??"",t.to):void 0};const r=this.buildNext(t);if(n!=null&&n.pending&&this.state.status!=="pending")return!1;const i=n!=null&&n.pending?this.state.location:this.state.resolvedLocation;if(!i)return!1;const o=ds(this.basepath,i.pathname,{...n,to:r.pathname});return o?(n==null?void 0:n.includeSearch)??!0?li(i.search,r.search)?o:!1:o:!1});q(this,"buildLink",({from:t,to:n=".",search:r,params:i,hash:o,target:a,replace:s,activeOptions:l,preload:u,preloadDelay:d,disabled:p,state:f})=>{try{return new URL(`${n}`),{type:"external",href:n}}catch{}const h={from:t,to:n,search:r,params:i,hash:o,replace:s,state:f},m=this.buildNext(h);u=u??this.options.defaultPreload;const y=d??this.options.defaultPreloadDelay??0,x=this.state.location.pathname.split("/"),b=m.pathname.split("/").every((Y,te)=>Y===x[te]),v=l!=null&&l.exact?this.state.location.pathname===m.pathname:b,_=l!=null&&l.includeHash?this.state.location.hash===m.hash:!0,w=(l==null?void 0:l.includeSearch)??!0?li(this.state.location.search,m.search):!0;return{type:"internal",next:m,handleFocus:Y=>{u&&this.preloadRoute(h).catch(te=>{console.warn(te),console.warn("Error preloading route! ☝️")})},handleClick:Y=>{!p&&!Bp(Y)&&!Y.defaultPrevented&&(!a||a==="_self")&&Y.button===0&&(Y.preventDefault(),Ee(this,mn).call(this,h))},handleEnter:Y=>{const te=Y.target||{};if(u){if(te.preloadTimeout)return;te.preloadTimeout=setTimeout(()=>{te.preloadTimeout=null,this.preloadRoute(h).catch(O=>{console.warn(O),console.warn("Error preloading route! ☝️")})},y)}},handleLeave:Y=>{const te=Y.target||{};te.preloadTimeout&&(clearTimeout(te.preloadTimeout),te.preloadTimeout=null)},handleTouchStart:Y=>{this.preloadRoute(h).catch(te=>{console.warn(te),console.warn("Error preloading route! ☝️")})},isActive:v&&_&&w,disabled:p}});q(this,"dehydrate",()=>({state:{dehydratedMatches:this.state.matches.map(t=>El(t,["fetchedAt","invalid","invalidAt","id","loaderData","status","updatedAt"]))}}));q(this,"hydrate",async t=>{var a,s;let n=t;typeof document<"u"&&(n=window.__TSR_DEHYDRATED__),at(n,"Expected to find a __TSR_DEHYDRATED__ property on window... but we did not. Did you forget to render <DehydrateRouter /> in your app?");const r=n;this.dehydratedData=r.payload,(s=(a=this.options).hydrate)==null||s.call(a,r.payload);const{dehydratedMatches:i}=r.router.state;let o=this.matchRoutes(this.state.location.pathname,this.state.location.search).map(l=>{const u=i.find(d=>d.id===l.id);return at(u,`Could not find a client-side match for dehydrated match with id: ${l.id}!`),u?{...l,...u}:l});this.__store.setState(l=>({...l,matches:o,matchesById:Ee(this,fn).call(this,l.matchesById,o)}))});q(this,"injectedHtml",[]);q(this,"injectHtml",async t=>{this.injectedHtml.push(t)});q(this,"dehydrateData",(t,n)=>{if(typeof document>"u"){const r=typeof t=="string"?t:JSON.stringify(t);return this.injectHtml(async()=>{const i=`__TSR_DEHYDRATED__${r}`,o=typeof n=="function"?await n():n;return`<script id='${i}' suppressHydrationWarning>window["__TSR_DEHYDRATED__${Gp(r)}"] = ${JSON.stringify(o)}
        // ;(() => {
        //   var el = document.getElementById('${i}')
        //   el.parentElement.removeChild(el)
        // })()
        <\/script>`}),()=>this.hydrateData(t)}return()=>{}});q(this,"hydrateData",t=>{if(typeof document<"u"){const n=typeof t=="string"?t:JSON.stringify(t);return window[`__TSR_DEHYDRATED__${n}`]}});vt(this,wi,t=>{this.routeTree=t,this.routesById={},this.routesByPath={},this.flatRoutes=[];const n=r=>{r.forEach((i,o)=>{i.init({originalIndex:o,router:this});const a=this.routesById[i.id];if(at(!a,`Duplicate routes found with id: ${String(i.id)}`),this.routesById[i.id]=i,!i.isRoot&&i.path){const l=Io(i.fullPath);(!this.routesByPath[l]||i.fullPath.endsWith("/"))&&(this.routesByPath[l]=i)}const s=i.children;s!=null&&s.length&&n(s)})};n([t]),this.flatRoutes=Object.values(this.routesByPath).map((r,i)=>{var l;const o=So(r.fullPath),a=yn(o);for(;a.length>1&&((l=a[0])==null?void 0:l.value)==="/";)a.shift();const s=a.map(u=>u.type==="param"?.5:u.type==="wildcard"?.25:1);return{child:r,trimmed:o,parsed:a,index:i,score:s}}).sort((r,i)=>{let o=r.trimmed==="/"?1:i.trimmed==="/"?-1:0;if(o!==0)return o;const a=Math.min(r.score.length,i.score.length);if(r.score.length!==i.score.length)return i.score.length-r.score.length;for(let s=0;s<a;s++)if(r.score[s]!==i.score[s])return i.score[s]-r.score[s];for(let s=0;s<a;s++)if(r.parsed[s].value!==i.parsed[s].value)return r.parsed[s].value>i.parsed[s].value?1:-1;return r.trimmed!==i.trimmed?r.trimmed>i.trimmed?1:-1:r.index-i.index}).map((r,i)=>(r.child.rank=i,r.child))});vt(this,hr,t=>{let{pathname:n,search:r,hash:i,state:o}=this.history.location;const a=this.options.parseSearch(r);return{pathname:n,searchStr:r,search:$n(t==null?void 0:t.search,a),hash:i.split("#").reverse()[0]??"",href:`${n}${r}${i}`,state:o,key:(o==null?void 0:o.key)||"__init__"}});vt(this,fr,(t={})=>{var g,b,v,_;t.fromCurrent=t.fromCurrent??t.to==="";const n=t.fromCurrent?this.state.location.pathname:t.from??this.state.location.pathname;let r=us(this.basepath??"/",n,`${t.to??""}`);const i=this.matchRoutes(this.state.location.pathname,this.state.location.search),o={...(g=la(i))==null?void 0:g.params};let a=(t.params??!0)===!0?o:At(t.params,o);a&&((b=t.__matches)==null||b.map(w=>this.getRoute(w.routeId).options.stringifyParams).filter(Boolean).forEach(w=>{a={...a,...w(a)}})),r=Xi(r,a??{});const s=((v=t.__matches)==null?void 0:v.map(w=>this.getRoute(w.routeId).options.preSearchFilters??[]).flat().filter(Boolean))??[],l=((_=t.__matches)==null?void 0:_.map(w=>this.getRoute(w.routeId).options.postSearchFilters??[]).flat().filter(Boolean))??[],u=s!=null&&s.length?s==null?void 0:s.reduce((w,N)=>N(w),this.state.location.search):this.state.location.search,d=t.search===!0?u:t.search?At(t.search,u)??{}:s!=null&&s.length?u:{},p=l!=null&&l.length?l.reduce((w,N)=>N(w),d):d,f=$n(this.state.location.search,p),h=this.options.stringifySearch(f),m=t.hash===!0?this.state.location.hash:At(t.hash,this.state.location.hash),y=m?`#${m}`:"",x=t.state===!0?this.state.location.state:At(t.state,this.state.location.state);return{pathname:r,search:f,searchStr:h,state:x,hash:m,href:this.history.createHref(`${r}${h}${y}`),key:t.key}});vt(this,mn,async t=>{const n=this.buildNext(t),r=""+Date.now()+Math.random();this.navigateTimeout&&clearTimeout(this.navigateTimeout);let i="replace";t.replace||(i="push"),this.state.location.href===n.href&&!n.key&&(i="replace");const a=`${n.pathname}${n.searchStr}${n.hash?`#${n.hash}`:""}`;return this.history[i==="push"?"push":"replace"](a,{id:r,...n.state}),this.latestLoadPromise});q(this,"getRouteMatch",t=>this.state.matchesById[t]);q(this,"setRouteMatch",(t,n)=>{this.__store.setState(r=>(r.matchesById[t]||console.warn(`No match found with id: ${t}`),{...r,matchesById:{...r.matchesById,[t]:n(r.matchesById[t])}}))});q(this,"setRouteMatchData",(t,n,r)=>{const i=this.getRouteMatch(t);if(!i)return;const o=this.getRoute(i.routeId),a=(r==null?void 0:r.updatedAt)??Date.now(),s=a+((r==null?void 0:r.maxAge)??o.options.preloadMaxAge??this.options.defaultPreloadMaxAge??5e3),l=a+((r==null?void 0:r.maxAge)??o.options.maxAge??this.options.defaultMaxAge??9999999999999);this.setRouteMatch(t,u=>({...u,error:void 0,status:"success",isFetching:!1,updatedAt:Date.now(),loaderData:At(n,u.loaderData),preloadInvalidAt:s,invalidAt:l})),this.state.matches.find(u=>u.id===t)});q(this,"invalidate",async t=>{if(t!=null&&t.matchId){this.setRouteMatch(t.matchId,i=>({...i,invalid:!0}));const n=this.state.matches.findIndex(i=>i.id===t.matchId),r=this.state.matches[n+1];if(r)return this.invalidate({matchId:r.id,reload:!1})}else this.__store.batch(()=>{Object.values(this.state.matchesById).forEach(n=>{this.setRouteMatch(n.id,r=>({...r,invalid:!0}))})});if((t==null?void 0:t.reload)??!0)return this.reload()});q(this,"getIsInvalid",t=>{if(!(t!=null&&t.matchId))return!!this.state.matches.find(i=>this.getIsInvalid({matchId:i.id,preload:t==null?void 0:t.preload}));const n=this.getRouteMatch(t==null?void 0:t.matchId);if(!n)return!1;const r=Date.now();return n.invalid||(t!=null&&t.preload?n.preloadInvalidAt:n.invalidAt)<r});this.options={defaultPreloadDelay:50,context:void 0,...t,stringifySearch:(t==null?void 0:t.stringifySearch)??Mp,parseSearch:(t==null?void 0:t.parseSearch)??$p},this.__store=new kp(fs(),{onUpdate:()=>{const r=this.state,i=this.__store.state,o=r.matchesById!==i.matchesById;let a,s;o||(a=r.matchIds.length!==i.matchIds.length||r.matchIds.some((l,u)=>l!==i.matchIds[u]),s=r.pendingMatchIds.length!==i.pendingMatchIds.length||r.pendingMatchIds.some((l,u)=>l!==i.pendingMatchIds[u])),(o||a)&&(i.matches=i.matchIds.map(l=>i.matchesById[l])),(o||s)&&(i.pendingMatches=i.pendingMatchIds.map(l=>i.matchesById[l])),i.isFetching=[...i.matches,...i.pendingMatches].some(l=>l.isFetching),this.state=i},defaultPriority:"low"}),this.state=this.__store.state,this.update(t);const n=this.buildNext({hash:!0,fromCurrent:!0,search:!0,state:!0});this.state.location.href!==n.href&&Ee(this,mn).call(this,{...n,replace:!0})}}hn=new WeakMap,pr=new WeakMap,fn=new WeakMap,wi=new WeakMap,hr=new WeakMap,fr=new WeakMap,mn=new WeakMap;const jp=typeof window>"u"||!window.document.createElement;function fs(){return{status:"idle",isFetching:!1,resolvedLocation:null,location:null,matchesById:{},matchIds:[],pendingMatchIds:[],matches:[],pendingMatches:[],lastUpdated:Date.now()}}function Bp(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Zi(e){return!!(e!=null&&e.isRedirect)}class Vp extends Error{}class zp extends Error{}function Gp(e){return e.replace(/\\/g,"\\\\").replace(/'/g,"\\'").replace(/"/g,'\\"')}/**
 * @tanstack/react-router/src/index.tsx
 *
 * Copyright (c) TanStack
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ui(){return ui=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ui.apply(this,arguments)}Q.__onInit=e=>{Object.assign(e,{useMatch:(t={})=>zn({...t,from:e.id}),useLoader:(t={})=>Yp({...t,from:e.id}),useContext:(t={})=>zn({...t,from:e.id,select:n=>{var r;return((r=t==null?void 0:t.select)==null?void 0:r.call(t,n.context))??n.context}}),useRouteContext:(t={})=>zn({...t,from:e.id,select:n=>{var r;return((r=t==null?void 0:t.select)==null?void 0:r.call(t,n.routeContext))??n.routeContext}}),useSearch:(t={})=>Il({...t,from:e.id}),useParams:(t={})=>We({...t,from:e.id})})};function Ii(e,t){let n;const r=()=>(n||(n=e()),n),i=oa(async()=>({default:(await r())[t??"default"]}));return i.preload=r,i}function Nl(e){const t=mt(),{type:n,children:r,target:i,activeProps:o=()=>({className:"active"}),inactiveProps:a=()=>({}),activeOptions:s,disabled:l,hash:u,search:d,params:p,to:f=".",preload:h,preloadDelay:m,replace:y,style:x,className:g,onClick:b,onFocus:v,onMouseEnter:_,onMouseLeave:w,onTouchStart:N,...T}=e,I=t.buildLink(e);if(I.type==="external"){const{href:U}=I;return{href:U}}const{handleClick:M,handleFocus:F,handleEnter:X,handleLeave:Y,handleTouchStart:te,isActive:O,next:H}=I,$=U=>{(e.startTransition??!0)&&(gr||(le=>le))(()=>{M(U)})},j=U=>le=>{le.persist&&le.persist(),U.filter(Boolean).forEach(ot=>{le.defaultPrevented||ot(le)})},Z=O?At(o,{})??{}:{},pe=O?{}:At(a,{})??{};return{...Z,...pe,...T,href:l?void 0:H.href,onClick:j([b,$]),onFocus:j([v,F]),onMouseEnter:j([_,X]),onMouseLeave:j([w,Y]),onTouchStart:j([N,te]),target:i,style:{...x,...Z.style,...pe.style},className:[g,Z.className,pe.className].filter(Boolean).join(" ")||void 0,...l?{role:"link","aria-disabled":!0}:void 0,"data-status":O?"active":void 0}}const me=Rt((e,t)=>{const n=Nl(e);return W("a",ui({ref:t},n,{children:typeof e.children=="function"?e.children({isActive:n["data-status"]==="active"}):e.children}))});function eo(e){const t=mt();return En(()=>{t.navigate(e)},[]),null}const Si=kn(null),Tl=kn(null);function kt(e){const t=mt();return Ep(t.__store,e==null?void 0:e.select)}function Hp({router:e,...t}){e.update(t),Te(()=>{let r;return gr(()=>{r=e.mount()}),r},[e]);const n=e.options.Wrap||V;return W(n,null,W(Tl.Provider,{value:e},W(Qp,null)))}function Qp(){const e=mt(),t=kt({select:n=>n.pendingMatches.some(i=>{const o=e.getRoute(i.routeId);return!!(o!=null&&o.options.pendingComponent)})?n.pendingMatchIds:n.matchIds});return W(Si.Provider,{value:[void 0,...t]},W(Cl,{errorComponent:ua,route:e.getRoute(yt),onCatch:()=>{ca(!1,"Error in router! Consider setting an 'errorComponent' in your RootRoute! 👍")}},W(gt,null)))}function mt(){const e=Qt(Tl);return ca(e,"useRouter must be used inside a <Router> component!"),e}function zn(e){var a;const t=mt(),n=Qt(Si)[0],r=(a=t.getRouteMatch(n))==null?void 0:a.routeId,i=kt({select:s=>{const l=s.matches;return(e!=null&&e.from?l.find(d=>d.routeId===(e==null?void 0:e.from)):l.find(d=>d.id===n)).routeId}});return((e==null?void 0:e.strict)??!0)&&at(r==i,`useMatch("${i}") is being called in a component that is meant to render the '${r}' route. Did you mean to 'useMatch("${i}", { strict: false })' or 'useRoute("${i}")' instead?`),kt({select:s=>{var d;const l=s.matches,u=e!=null&&e.from?l.find(p=>p.routeId===(e==null?void 0:e.from)):l.find(p=>p.id===n);return at(u,`Could not find ${e!=null&&e.from?`an active match from "${e.from}"`:"a nearest match!"}`),((d=e==null?void 0:e.select)==null?void 0:d.call(e,u))??u}})}function Yp(e){return zn({...e,select:t=>{var n;return((n=e==null?void 0:e.select)==null?void 0:n.call(e,t.loaderData))??t.loaderData}})}function Il(e){return zn({...e,select:t=>{var n;return((n=e==null?void 0:e.select)==null?void 0:n.call(e,t.search))??t.search}})}function We(e){return kt({select:t=>{var r,i;const n=(r=la(t.matches))==null?void 0:r.params;return((i=e==null?void 0:e.select)==null?void 0:i.call(e,n))??n}})}function Sl(e){const t=mt();return Ft(n=>t.navigate({...e,...n}),[])}function gt(){const e=Qt(Si).slice(1);return e[0]?W(Jp,{matchIds:e}):null}const Wp=()=>null;function Jp({matchIds:e}){const t=mt(),n=e[0],r=t.getRouteMatch(n).routeId,i=t.getRoute(r),o=i.options.pendingComponent??t.options.defaultPendingComponent??Wp,a=i.options.errorComponent??t.options.defaultErrorComponent??ua,s=i.options.wrapInSuspense??!i.isRoot?cn:ms,l=a?Cl:ms;return W(Si.Provider,{value:e},W(s,{fallback:W(o,{useMatch:i.useMatch,useContext:i.useContext,useRouteContext:i.useRouteContext,useSearch:i.useSearch,useParams:i.useParams})},W(l,{key:i.id,errorComponent:a,route:i,onCatch:()=>{ca(!1,`Error in route match: ${n}`)}},W(Kp,{matchId:n,PendingComponent:o}))))}function Kp({matchId:e,PendingComponent:t}){const n=mt(),r=kt({select:o=>{const a=o.matchesById[e];return El(a,["status","loadPromise","routeId","error"])}}),i=n.getRoute(r.routeId);if(r.status==="error")throw r.error;if(r.status==="pending")return W(t,{useLoader:i.useLoader,useMatch:i.useMatch,useContext:i.useContext,useRouteContext:i.useRouteContext,useSearch:i.useSearch,useParams:i.useParams});if(r.status==="success"){let o=i.options.component??n.options.defaultComponent;return o?W(o,{useLoader:i.useLoader,useMatch:i.useMatch,useContext:i.useContext,useRouteContext:i.useRouteContext,useSearch:i.useSearch,useParams:i.useParams}):W(gt,null)}at(!1,"Idle routeMatch status encountered during rendering! You should never see this. File an issue!")}function ms(e){return W(V,null,e.children)}class Cl extends Fe{constructor(){super(...arguments);q(this,"state",{error:!1,info:void 0})}componentDidCatch(n,r){this.props.onCatch(n,r),this.setState({error:n,info:r})}render(){return W(Xp,ui({},this.props,{errorState:this.state,reset:()=>this.setState({})}))}}function Xp(e){const t=kt({select:a=>a.resolvedLocation.key}),[n,r]=It(e.errorState),i=e.errorComponent??ua,o=ft("");return Te(()=>{n&&t!==o.current&&r({}),o.current=t},[n,t]),Te(()=>{e.errorState.error&&r(e.errorState)},[e.errorState.error]),e.errorState.error&&n.error?W(i,{...n,useMatch:e.route.useMatch,useContext:e.route.useContext,useRouteContext:e.route.useRouteContext,useSearch:e.route.useSearch,useParams:e.route.useParams}):e.children}function ua({error:e}){const[t,n]=It(!1);return W("div",{style:{padding:".5rem",maxWidth:"100%"}},W("div",{style:{display:"flex",alignItems:"center",gap:".5rem"}},W("strong",{style:{fontSize:"1rem"}},"Something went wrong!"),W("button",{style:{appearance:"none",fontSize:".6em",border:"1px solid currentColor",padding:".1rem .2rem",fontWeight:"bold",borderRadius:".25rem"},onClick:()=>n(r=>!r)},t?"Hide Error":"Show Error")),W("div",{style:{height:".25rem"}}),t?W("div",null,W("pre",{style:{fontSize:".7em",border:"1px solid red",borderRadius:".25rem",padding:".3rem",color:"red",overflow:"auto"}},e.message?W("code",null,e.message):null)):null)}var Zp=Object.defineProperty,eh=(e,t,n)=>t in e?Zp(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ae=(e,t,n)=>(eh(e,typeof t!="symbol"?t+"":t,n),n),th=class{constructor(t){ae(this,"_isConnected"),ae(this,"_messageHandler"),ae(this,"_messageHandlerWrapper"),ae(this,"_options"),this._options=t,this._isConnected=!1,this._messageHandler=()=>{},this._messageHandlerWrapper=n=>{var r;(r=this._options)!=null&&r.allowedOrigins&&!this._options.allowedOrigins.includes(n.origin)||this._messageHandler(n.data)}}get isConnected(){return this._isConnected}connect(){window.addEventListener("message",this._messageHandlerWrapper),this._isConnected=!0}disconnect(){window.removeEventListener("message",this._messageHandlerWrapper),this._isConnected=!1}sendMessage(t){var r,i,o;let n;if((r=this._options)!=null&&r.providerWindow?n=this._options.providerWindow:(i=this._options)!=null&&i.useDirectParent?n=window.parent:n=window.top,!n)throw new Error("No parent window to send message to");(o=this._options)!=null&&o.allowedOrigins?this._options.allowedOrigins.forEach(a=>{n.postMessage(t,a)}):n.postMessage(t,"*")}onMessage(t){this._messageHandler=t}},nh=class{constructor(t){ae(this,"_isListening",!1),ae(this,"_messageHandler",()=>{}),ae(this,"_frameIdMap",new Map),ae(this,"_options"),ae(this,"_messageHandlerWrapper",n=>{var s;if((s=this._options)!=null&&s.allowedOrigins&&!this._options.allowedOrigins.includes(n.origin))return;const r=n.source;if(!r)throw new Error("Somehow the event source is null");const o={fromId:this._frameIdMap.get(n.source),event:n},a=l=>{r.postMessage(l,n.origin)};this._messageHandler(n.data,a,o)}),this._options=t}get isListening(){return this._isListening}listen(){window.addEventListener("message",this._messageHandlerWrapper),this._isListening=!0}close(){window.removeEventListener("message",this._messageHandlerWrapper),this._isListening=!1}onMessage(t){this._messageHandler=t}registerFrame(t,n){if(!(t!=null&&t.contentWindow))throw new Error("Frame must have a contentWindow");this._frameIdMap.set(t.contentWindow,n)}};function da(){const e=new Uint8Array(16);return crypto.getRandomValues(e),Array.from(e,t=>t.toString(16).padStart(2,"0")).join("")}var Je=(e=>(e.RPC_REQUEST="rpc-request",e.RPC_RESPONSE="rpc-response",e.RPC_CALLBACK_CALL="rpc-callback-call",e.RPC_CONNECT_REQUEST="rpc-connect-request",e.RPC_CONNECT_RESPONSE="rpc-connect-response",e))(Je||{});function rh({namespace:e}){return{_transframe:!0,type:Je.RPC_CONNECT_REQUEST,namespace:e}}function ih({namespace:e,methods:t}){return{_transframe:!0,type:Je.RPC_CONNECT_RESPONSE,namespace:e,methods:t}}function oh({requestId:e,method:t,payload:n,namespace:r}){return{_transframe:!0,type:Je.RPC_REQUEST,requestId:e??da(),method:t,payload:n,namespace:r}}function ah({requestId:e,result:t,error:n=!1,namespace:r}){return{_transframe:!0,type:Je.RPC_RESPONSE,requestId:e,result:t,error:n,namespace:r}}function sh(e){return{_transframeCallback:!0,callbackId:e}}function ch({callbackId:e,payload:t,namespace:n}){return{_transframe:!0,type:Je.RPC_CALLBACK_CALL,callbackId:e,payload:t,namespace:n}}function Yt(e){return(e==null?void 0:e._transframe)===!0}function lh(e){return Yt(e)&&e.type===Je.RPC_REQUEST}function uh(e){return Yt(e)&&e.type===Je.RPC_RESPONSE}function dh(e){return Yt(e)&&e.type===Je.RPC_CALLBACK_CALL}function ph(e){return(e==null?void 0:e._transframeCallback)===!0}function hh(e){return Yt(e)&&e.type===Je.RPC_CONNECT_REQUEST}function fh(e){return Yt(e)&&e.type===Je.RPC_CONNECT_RESPONSE}var mh=3e3,gh=50,vh=60,yh=class{constructor(t,n){var r;this._interface=t,ae(this,"_options"),ae(this,"_api"),ae(this,"_requestCallbacks",new Map),ae(this,"_rpcCallbacks",new Map),ae(this,"_availableMethods",new Set),ae(this,"_isConnected",!1),ae(this,"_isConnecting",!1),ae(this,"_apiCallQueue",[]),ae(this,"_buildApi",()=>new Proxy({},{get:(o,a,s)=>["Symbol(Symbol.toPrimitive)","then"].includes(String(a))?Reflect.get(o,a,s):(...l)=>this.call(a,...l)})),ae(this,"connect",async()=>{var a;if(this._isConnecting||this._isConnected)return;this._interface.connect();const i=rh({namespace:(a=this._options)==null?void 0:a.namespace});this._isConnecting=!0;const o=await new Promise((s,l)=>{this._requestCallbacks.set("connect",[s,l]);let u=0;const d=()=>{this._interface.sendMessage(i),u++};d();const p=setInterval(()=>{var f;this._isConnected?clearInterval(p):u<vh?d():(clearInterval(p),this._requestCallbacks.delete("connect"),this._isConnected=!1,this._isConnecting=!1,this._apiCallQueue.forEach(([,h])=>{var m;return h(new Error(`Failed to call api method: could not connect to provider ${((m=this._options)==null?void 0:m.namespace)??""}`))}),l(new Error(`Could not connect to provider ${((f=this._options)==null?void 0:f.namespace)??""}`)))},gh)});this._availableMethods.clear(),o.forEach(s=>this._availableMethods.add(s)),this._isConnected=!0,this._isConnecting=!1,this._processApiCallQueue()}),ae(this,"_messageHandler",i=>{var o;if(Yt(i)&&i.namespace===((o=this._options)==null?void 0:o.namespace)){if(uh(i)){const[a,s]=this._requestCallbacks.get(i.requestId)??[];if(!(a&&s))return;i.error?s(i.result):a(i.result),this._requestCallbacks.delete(i.requestId)}else if(dh(i)){const a=this._rpcCallbacks.get(i.callbackId);if(!a)return;a(...i.payload)}else if(fh(i)){const[a,s]=this._requestCallbacks.get("connect")??[];if(!(a&&s))return;a(i.methods),this._requestCallbacks.delete("connect")}}}),ae(this,"call",async(i,...o)=>{var d;if(!this._isConnected&&!this._isConnecting)throw new Error("Cannot call any api methods: Not connected to provider");this._isConnecting&&await new Promise((p,f)=>{this._apiCallQueue.push([p,f])});const a=String(i);if(!this.hasMethod(a))throw new Error(`Method ${a} is not available`);const s=o.map(p=>{if(typeof p=="function"){const f=da();return this._rpcCallbacks.set(f,p),sh(f)}else return p}),l=oh({method:a,payload:s,namespace:(d=this._options)==null?void 0:d.namespace});return this._interface.sendMessage(l),await Promise.race([new Promise((p,f)=>{this._requestCallbacks.set(l.requestId,[p,f])}),new Promise((p,f)=>{var h;setTimeout(()=>{f(new Error("RPC request timed out. Check that you can connect to the provider and that the method exists."))},((h=this._options)==null?void 0:h.apiCallTimeout)??mh)})])}),this._options=n,this._api=this._buildApi(),this._interface.onMessage(this._messageHandler),((r=this._options)==null?void 0:r.connectImmediately)!==!1&&this.connect()}_processApiCallQueue(){this._apiCallQueue.forEach(([t])=>t()),this._apiCallQueue=[]}get api(){return this._api}get isConnected(){return this._isConnected&&this._interface.isConnected}hasMethod(t){return this._availableMethods.has(t)}},bh=class{constructor(t,n){this._interface=t,ae(this,"_options"),ae(this,"registerFrame",(r,i)=>(i??(i=da()),this._interface.registerFrame(r,i),i)),ae(this,"listen",()=>{this._interface.listen()}),ae(this,"close",()=>{this._interface.close()}),ae(this,"_messageHandler",async(r,i,o)=>{if(Yt(r)&&r.namespace===this._options.namespace&&!(this._options.strictMode&&o.fromId==null)){if(lh(r)){const a=r.payload.map(p=>{if(ph(p)){const f=p.callbackId;return(...m)=>{const y=ch({callbackId:f,payload:m,namespace:this._options.namespace});i(y)}}else return p}),s=this._options.api[r.method];if(!s)return;let l=!1,u;try{u=await s(o,...a)}catch(p){l=!0,u=p}const d=ah({requestId:r.requestId,result:u,error:l,namespace:this._options.namespace});i(d)}else if(hh(r)){const a=Object.keys(this._options.api),s=ih({methods:a,namespace:r.namespace});i(s)}}}),this._options=n,this._interface.onMessage(this._messageHandler),(this._options.listenImmediately??!0)&&this.listen()}get isListening(){return this._interface.isListening}get api(){return this._options.api}};function _h(e){if(!("window"in globalThis))throw new Error('Transframe: global "window" not available. Cannot initialize a provider.');return new bh(new nh(e),e)}function xh(e){if(!("window"in globalThis))throw new Error('Transframe: global "window" not available. Cannot initialize a consumer.');return new yh(new th(e),e)}var pa=()=>{},Oe=pa;function je(e){return{tag:0,0:e}}function vr(e){return{tag:1,0:e}}var wh=e=>e;function ee(e){return t=>n=>{var r=Oe;t(i=>{i===0?n(0):i.tag===0?(r=i[0],n(i)):e(i[0])?n(i):r(0)})}}function Ie(e){return t=>n=>t(r=>{r===0||r.tag===0?n(r):n(vr(e(r[0])))})}function yr(e){return t=>n=>{var r=[],i=Oe,o=!1,a=!1;t(s=>{a||(s===0?(a=!0,r.length||n(0)):s.tag===0?i=s[0]:(o=!1,function(u){var d=Oe;u(p=>{if(p===0){if(r.length){var f=r.indexOf(d);f>-1&&(r=r.slice()).splice(f,1),r.length||(a?n(0):o||(o=!0,i(0)))}}else p.tag===0?(r.push(d=p[0]),d(0)):r.length&&(n(p),d(0))})}(e(s[0])),o||(o=!0,i(0))))}),n(je(s=>{if(s===1){a||(a=!0,i(1));for(var l=0,u=r,d=r.length;l<d;l++)u[l](1);r.length=0}else{!a&&!o?(o=!0,i(0)):o=!1;for(var p=0,f=r,h=r.length;p<h;p++)f[p](0)}}))}}function kh(e){return yr(wh)(e)}function Ye(e){return kh(Ih(e))}function Kn(e){return t=>n=>{var r=!1;t(i=>{if(!r)if(i===0)r=!0,n(0),e();else if(i.tag===0){var o=i[0];n(je(a=>{a===1?(r=!0,o(1),e()):o(a)}))}else n(i)})}}function et(e){return t=>n=>{var r=!1;t(i=>{if(!r)if(i===0)r=!0,n(0);else if(i.tag===0){var o=i[0];n(je(a=>{a===1&&(r=!0),o(a)}))}else e(i[0]),n(i)})}}function Xn(e){return t=>n=>t(r=>{r===0?n(0):r.tag===0?(n(r),e()):n(r)})}function Ue(e){var t=[],n=Oe,r=!1;return i=>{t.push(i),t.length===1&&e(o=>{if(o===0){for(var a=0,s=t,l=t.length;a<l;a++)s[a](0);t.length=0}else if(o.tag===0)n=o[0];else{r=!1;for(var u=0,d=t,p=t.length;u<p;u++)d[u](o)}}),i(je(o=>{if(o===1){var a=t.indexOf(i);a>-1&&(t=t.slice()).splice(a,1),t.length||n(1)}else r||(r=!0,n(0))}))}}function Ol(e){return t=>n=>{var r=Oe,i=Oe,o=!1,a=!1,s=!1,l=!1;t(u=>{l||(u===0?(l=!0,s||n(0)):u.tag===0?r=u[0]:(s&&(i(1),i=Oe),o?o=!1:(o=!0,r(0)),function(p){s=!0,p(f=>{s&&(f===0?(s=!1,l?n(0):o||(o=!0,r(0))):f.tag===0?(a=!1,(i=f[0])(0)):(n(f),a?a=!1:i(0)))})}(e(u[0]))))}),n(je(u=>{u===1?(l||(l=!0,r(1)),s&&(s=!1,i(1))):(!l&&!o&&(o=!0,r(0)),s&&!a&&(a=!0,i(0)))}))}}function Zn(e){return t=>n=>{var r=Oe,i=!1,o=0;t(a=>{i||(a===0?(i=!0,n(0)):a.tag===0?e<=0?(i=!0,n(0),a[0](1)):r=a[0]:o++<e?(n(a),!i&&o>=e&&(i=!0,n(0),r(1))):n(a))}),n(je(a=>{a===1&&!i?(i=!0,r(1)):a===0&&!i&&o<e&&r(0)}))}}function Nn(e){return t=>n=>{var r=Oe,i=Oe,o=!1;t(a=>{o||(a===0?(o=!0,i(1),n(0)):a.tag===0?(r=a[0],e(s=>{s===0||(s.tag===0?(i=s[0])(0):(o=!0,i(1),r(1),n(0)))})):n(a))}),n(je(a=>{a===1&&!o?(o=!0,r(1),i(1)):o||r(0)}))}}function Eh(e,t){return n=>r=>{var i=Oe,o=!1;n(a=>{o||(a===0?(o=!0,r(0)):a.tag===0?(i=a[0],r(a)):e(a[0])?r(a):(o=!0,t&&r(a),r(0),i(1)))})}}function Nh(e){return t=>{var n=e[Symbol.asyncIterator](),r=!1,i=!1,o=!1,a;t(je(async s=>{if(s===1)r=!0,n.return&&n.return();else if(i)o=!0;else{for(o=i=!0;o&&!r;)if((a=await n.next()).done)r=!0,n.return&&await n.return(),t(0);else try{o=!1,t(vr(a.value))}catch(l){if(n.throw)(r=!!(await n.throw(l)).done)&&t(0);else throw l}i=!1}}))}}function Th(e){return e[Symbol.asyncIterator]?Nh(e):t=>{var n=e[Symbol.iterator](),r=!1,i=!1,o=!1,a;t(je(s=>{if(s===1)r=!0,n.return&&n.return();else if(i)o=!0;else{for(o=i=!0;o&&!r;)if((a=n.next()).done)r=!0,n.return&&n.return(),t(0);else try{o=!1,t(vr(a.value))}catch(l){if(n.throw)(r=!!n.throw(l).done)&&t(0);else throw l}i=!1}}))}}var Ih=Th;function er(e){return t=>{var n=!1;t(je(r=>{r===1?n=!0:n||(n=!0,t(vr(e)),t(0))}))}}function Wt(e){return t=>{var n=!1,r=e({next(i){n||t(vr(i))},complete(){n||(n=!0,t(0))}});t(je(i=>{i===1&&!n&&(n=!0,r())}))}}function ha(){var e,t;return{source:Ue(Wt(n=>(e=n.next,t=n.complete,pa))),next(n){e&&e(n)},complete(){t&&t()}}}var gs=e=>{var t=!1;e(je(n=>{n===1?t=!0:t||(t=!0,e(0))}))};function Sh(e){return Wt(t=>(e.then(n=>{Promise.resolve(n).then(()=>{t.next(n),t.complete()})}),pa))}function He(e){return t=>{var n=Oe,r=!1;return t(i=>{i===0?r=!0:i.tag===0?(n=i[0])(0):r||(e(i[0]),n(0))}),{unsubscribe(){r||(r=!0,n(1))}}}}function Al(e){He(t=>{})(e)}function Rl(e){return new Promise(t=>{var n=Oe,r;e(i=>{i===0?Promise.resolve(r).then(t):i.tag===0?(n=i[0])(0):(r=i[0],n(0))})})}var Ch=()=>Symbol.observable||"@@observable";function fa(e){return{subscribe(t,n,r){var i=typeof t=="object"?t:{next:t,error:n,complete:r},o=Oe,a=!1;e(l=>{a||(l===0?(a=!0,i.complete&&i.complete()):l.tag===0?(o=l[0])(0):(i.next(l[0]),o(0)))});var s={closed:!1,unsubscribe(){s.closed=!0,a=!0,o(1)}};return s},[Ch()](){return this}}}var Ci=(...e)=>{for(var t=e[0],n=1,r=e.length;n<r;n++)t=e[n](t);return t};function Dr(e,t){if(!!!e)throw new Error(t)}function Oh(e){return typeof e=="object"&&e!==null}function Ah(e,t){if(!!!e)throw new Error(t??"Unexpected invariant triggered.")}const Rh=/\r\n|[\n\r]/g;function Co(e,t){let n=0,r=1;for(const i of e.body.matchAll(Rh)){if(typeof i.index=="number"||Ah(!1),i.index>=t)break;n=i.index+i[0].length,r+=1}return{line:r,column:t+1-n}}function Ph(e){return Pl(e.source,Co(e.source,e.start))}function Pl(e,t){const n=e.locationOffset.column-1,r="".padStart(n)+e.body,i=t.line-1,o=e.locationOffset.line-1,a=t.line+o,s=t.line===1?n:0,l=t.column+s,u=`${e.name}:${a}:${l}
`,d=r.split(/\r\n|[\n\r]/g),p=d[i];if(p.length>120){const f=Math.floor(l/80),h=l%80,m=[];for(let y=0;y<p.length;y+=80)m.push(p.slice(y,y+80));return u+vs([[`${a} |`,m[0]],...m.slice(1,f+1).map(y=>["|",y]),["|","^".padStart(h)],["|",m[f+1]]])}return u+vs([[`${a-1} |`,d[i-1]],[`${a} |`,p],["|","^".padStart(l)],[`${a+1} |`,d[i+1]]])}function vs(e){const t=e.filter(([r,i])=>i!==void 0),n=Math.max(...t.map(([r])=>r.length));return t.map(([r,i])=>r.padStart(n)+(i?" "+i:"")).join(`
`)}function Dh(e){const t=e[0];return t==null||"kind"in t||"length"in t?{nodes:t,source:e[1],positions:e[2],path:e[3],originalError:e[4],extensions:e[5]}:t}let Lr=class Dl extends Error{constructor(t,...n){var r,i,o;const{nodes:a,source:s,positions:l,path:u,originalError:d,extensions:p}=Dh(n);super(t),this.name="GraphQLError",this.path=u??void 0,this.originalError=d??void 0,this.nodes=ys(Array.isArray(a)?a:a?[a]:void 0);const f=ys((r=this.nodes)===null||r===void 0?void 0:r.map(m=>m.loc).filter(m=>m!=null));this.source=s??(f==null||(i=f[0])===null||i===void 0?void 0:i.source),this.positions=l??(f==null?void 0:f.map(m=>m.start)),this.locations=l&&s?l.map(m=>Co(s,m)):f==null?void 0:f.map(m=>Co(m.source,m.start));const h=Oh(d==null?void 0:d.extensions)?d==null?void 0:d.extensions:void 0;this.extensions=(o=p??h)!==null&&o!==void 0?o:Object.create(null),Object.defineProperties(this,{message:{writable:!0,enumerable:!0},name:{enumerable:!1},nodes:{enumerable:!1},source:{enumerable:!1},positions:{enumerable:!1},originalError:{enumerable:!1}}),d!=null&&d.stack?Object.defineProperty(this,"stack",{value:d.stack,writable:!0,configurable:!0}):Error.captureStackTrace?Error.captureStackTrace(this,Dl):Object.defineProperty(this,"stack",{value:Error().stack,writable:!0,configurable:!0})}get[Symbol.toStringTag](){return"GraphQLError"}toString(){let t=this.message;if(this.nodes)for(const n of this.nodes)n.loc&&(t+=`

`+Ph(n.loc));else if(this.source&&this.locations)for(const n of this.locations)t+=`

`+Pl(this.source,n);return t}toJSON(){const t={message:this.message};return this.locations!=null&&(t.locations=this.locations),this.path!=null&&(t.path=this.path),this.extensions!=null&&Object.keys(this.extensions).length>0&&(t.extensions=this.extensions),t}};function ys(e){return e===void 0||e.length===0?void 0:e}function ye(e,t,n){return new Lr(`Syntax Error: ${n}`,{source:e,positions:[t]})}let Lh=class{constructor(t,n,r){this.start=t.start,this.end=n.end,this.startToken=t,this.endToken=n,this.source=r}get[Symbol.toStringTag](){return"Location"}toJSON(){return{start:this.start,end:this.end}}},Ll=class{constructor(t,n,r,i,o,a){this.kind=t,this.start=n,this.end=r,this.line=i,this.column=o,this.value=a,this.prev=null,this.next=null}get[Symbol.toStringTag](){return"Token"}toJSON(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}}};const $l={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},$h=new Set(Object.keys($l));function bs(e){const t=e==null?void 0:e.kind;return typeof t=="string"&&$h.has(t)}var an;(function(e){e.QUERY="query",e.MUTATION="mutation",e.SUBSCRIPTION="subscription"})(an||(an={}));var Oo;(function(e){e.QUERY="QUERY",e.MUTATION="MUTATION",e.SUBSCRIPTION="SUBSCRIPTION",e.FIELD="FIELD",e.FRAGMENT_DEFINITION="FRAGMENT_DEFINITION",e.FRAGMENT_SPREAD="FRAGMENT_SPREAD",e.INLINE_FRAGMENT="INLINE_FRAGMENT",e.VARIABLE_DEFINITION="VARIABLE_DEFINITION",e.SCHEMA="SCHEMA",e.SCALAR="SCALAR",e.OBJECT="OBJECT",e.FIELD_DEFINITION="FIELD_DEFINITION",e.ARGUMENT_DEFINITION="ARGUMENT_DEFINITION",e.INTERFACE="INTERFACE",e.UNION="UNION",e.ENUM="ENUM",e.ENUM_VALUE="ENUM_VALUE",e.INPUT_OBJECT="INPUT_OBJECT",e.INPUT_FIELD_DEFINITION="INPUT_FIELD_DEFINITION"})(Oo||(Oo={}));var P;(function(e){e.NAME="Name",e.DOCUMENT="Document",e.OPERATION_DEFINITION="OperationDefinition",e.VARIABLE_DEFINITION="VariableDefinition",e.SELECTION_SET="SelectionSet",e.FIELD="Field",e.ARGUMENT="Argument",e.FRAGMENT_SPREAD="FragmentSpread",e.INLINE_FRAGMENT="InlineFragment",e.FRAGMENT_DEFINITION="FragmentDefinition",e.VARIABLE="Variable",e.INT="IntValue",e.FLOAT="FloatValue",e.STRING="StringValue",e.BOOLEAN="BooleanValue",e.NULL="NullValue",e.ENUM="EnumValue",e.LIST="ListValue",e.OBJECT="ObjectValue",e.OBJECT_FIELD="ObjectField",e.DIRECTIVE="Directive",e.NAMED_TYPE="NamedType",e.LIST_TYPE="ListType",e.NON_NULL_TYPE="NonNullType",e.SCHEMA_DEFINITION="SchemaDefinition",e.OPERATION_TYPE_DEFINITION="OperationTypeDefinition",e.SCALAR_TYPE_DEFINITION="ScalarTypeDefinition",e.OBJECT_TYPE_DEFINITION="ObjectTypeDefinition",e.FIELD_DEFINITION="FieldDefinition",e.INPUT_VALUE_DEFINITION="InputValueDefinition",e.INTERFACE_TYPE_DEFINITION="InterfaceTypeDefinition",e.UNION_TYPE_DEFINITION="UnionTypeDefinition",e.ENUM_TYPE_DEFINITION="EnumTypeDefinition",e.ENUM_VALUE_DEFINITION="EnumValueDefinition",e.INPUT_OBJECT_TYPE_DEFINITION="InputObjectTypeDefinition",e.DIRECTIVE_DEFINITION="DirectiveDefinition",e.SCHEMA_EXTENSION="SchemaExtension",e.SCALAR_TYPE_EXTENSION="ScalarTypeExtension",e.OBJECT_TYPE_EXTENSION="ObjectTypeExtension",e.INTERFACE_TYPE_EXTENSION="InterfaceTypeExtension",e.UNION_TYPE_EXTENSION="UnionTypeExtension",e.ENUM_TYPE_EXTENSION="EnumTypeExtension",e.INPUT_OBJECT_TYPE_EXTENSION="InputObjectTypeExtension"})(P||(P={}));function Ao(e){return e===9||e===32}function tr(e){return e>=48&&e<=57}function Ml(e){return e>=97&&e<=122||e>=65&&e<=90}function Fl(e){return Ml(e)||e===95}function Mh(e){return Ml(e)||tr(e)||e===95}function Fh(e){var t;let n=Number.MAX_SAFE_INTEGER,r=null,i=-1;for(let a=0;a<e.length;++a){var o;const s=e[a],l=Uh(s);l!==s.length&&(r=(o=r)!==null&&o!==void 0?o:a,i=a,a!==0&&l<n&&(n=l))}return e.map((a,s)=>s===0?a:a.slice(n)).slice((t=r)!==null&&t!==void 0?t:0,i+1)}function Uh(e){let t=0;for(;t<e.length&&Ao(e.charCodeAt(t));)++t;return t}function qh(e,t){const n=e.replace(/"""/g,'\\"""'),r=n.split(/\r\n|[\n\r]/g),i=r.length===1,o=r.length>1&&r.slice(1).every(h=>h.length===0||Ao(h.charCodeAt(0))),a=n.endsWith('\\"""'),s=e.endsWith('"')&&!a,l=e.endsWith("\\"),u=s||l,d=!(t!=null&&t.minimize)&&(!i||e.length>70||u||o||a);let p="";const f=i&&Ao(e.charCodeAt(0));return(d&&!f||o)&&(p+=`
`),p+=n,(d||u)&&(p+=`
`),'"""'+p+'"""'}var E;(function(e){e.SOF="<SOF>",e.EOF="<EOF>",e.BANG="!",e.DOLLAR="$",e.AMP="&",e.PAREN_L="(",e.PAREN_R=")",e.SPREAD="...",e.COLON=":",e.EQUALS="=",e.AT="@",e.BRACKET_L="[",e.BRACKET_R="]",e.BRACE_L="{",e.PIPE="|",e.BRACE_R="}",e.NAME="Name",e.INT="Int",e.FLOAT="Float",e.STRING="String",e.BLOCK_STRING="BlockString",e.COMMENT="Comment"})(E||(E={}));let jh=class{constructor(t){const n=new Ll(E.SOF,0,0,0,0);this.source=t,this.lastToken=n,this.token=n,this.line=1,this.lineStart=0}get[Symbol.toStringTag](){return"Lexer"}advance(){return this.lastToken=this.token,this.token=this.lookahead()}lookahead(){let t=this.token;if(t.kind!==E.EOF)do if(t.next)t=t.next;else{const n=Vh(this,t.end);t.next=n,n.prev=t,t=n}while(t.kind===E.COMMENT);return t}};function Bh(e){return e===E.BANG||e===E.DOLLAR||e===E.AMP||e===E.PAREN_L||e===E.PAREN_R||e===E.SPREAD||e===E.COLON||e===E.EQUALS||e===E.AT||e===E.BRACKET_L||e===E.BRACKET_R||e===E.BRACE_L||e===E.PIPE||e===E.BRACE_R}function Tn(e){return e>=0&&e<=55295||e>=57344&&e<=1114111}function Oi(e,t){return Ul(e.charCodeAt(t))&&ql(e.charCodeAt(t+1))}function Ul(e){return e>=55296&&e<=56319}function ql(e){return e>=56320&&e<=57343}function Ut(e,t){const n=e.source.body.codePointAt(t);if(n===void 0)return E.EOF;if(n>=32&&n<=126){const r=String.fromCodePoint(n);return r==='"'?`'"'`:`"${r}"`}return"U+"+n.toString(16).toUpperCase().padStart(4,"0")}function ge(e,t,n,r,i){const o=e.line,a=1+n-e.lineStart;return new Ll(t,n,r,o,a,i)}function Vh(e,t){const n=e.source.body,r=n.length;let i=t;for(;i<r;){const o=n.charCodeAt(i);switch(o){case 65279:case 9:case 32:case 44:++i;continue;case 10:++i,++e.line,e.lineStart=i;continue;case 13:n.charCodeAt(i+1)===10?i+=2:++i,++e.line,e.lineStart=i;continue;case 35:return zh(e,i);case 33:return ge(e,E.BANG,i,i+1);case 36:return ge(e,E.DOLLAR,i,i+1);case 38:return ge(e,E.AMP,i,i+1);case 40:return ge(e,E.PAREN_L,i,i+1);case 41:return ge(e,E.PAREN_R,i,i+1);case 46:if(n.charCodeAt(i+1)===46&&n.charCodeAt(i+2)===46)return ge(e,E.SPREAD,i,i+3);break;case 58:return ge(e,E.COLON,i,i+1);case 61:return ge(e,E.EQUALS,i,i+1);case 64:return ge(e,E.AT,i,i+1);case 91:return ge(e,E.BRACKET_L,i,i+1);case 93:return ge(e,E.BRACKET_R,i,i+1);case 123:return ge(e,E.BRACE_L,i,i+1);case 124:return ge(e,E.PIPE,i,i+1);case 125:return ge(e,E.BRACE_R,i,i+1);case 34:return n.charCodeAt(i+1)===34&&n.charCodeAt(i+2)===34?Jh(e,i):Hh(e,i)}if(tr(o)||o===45)return Gh(e,i,o);if(Fl(o))return Kh(e,i);throw ye(e.source,i,o===39?`Unexpected single quote character ('), did you mean to use a double quote (")?`:Tn(o)||Oi(n,i)?`Unexpected character: ${Ut(e,i)}.`:`Invalid character: ${Ut(e,i)}.`)}return ge(e,E.EOF,r,r)}function zh(e,t){const n=e.source.body,r=n.length;let i=t+1;for(;i<r;){const o=n.charCodeAt(i);if(o===10||o===13)break;if(Tn(o))++i;else if(Oi(n,i))i+=2;else break}return ge(e,E.COMMENT,t,i,n.slice(t+1,i))}function Gh(e,t,n){const r=e.source.body;let i=t,o=n,a=!1;if(o===45&&(o=r.charCodeAt(++i)),o===48){if(o=r.charCodeAt(++i),tr(o))throw ye(e.source,i,`Invalid number, unexpected digit after 0: ${Ut(e,i)}.`)}else i=to(e,i,o),o=r.charCodeAt(i);if(o===46&&(a=!0,o=r.charCodeAt(++i),i=to(e,i,o),o=r.charCodeAt(i)),(o===69||o===101)&&(a=!0,o=r.charCodeAt(++i),(o===43||o===45)&&(o=r.charCodeAt(++i)),i=to(e,i,o),o=r.charCodeAt(i)),o===46||Fl(o))throw ye(e.source,i,`Invalid number, expected digit but got: ${Ut(e,i)}.`);return ge(e,a?E.FLOAT:E.INT,t,i,r.slice(t,i))}function to(e,t,n){if(!tr(n))throw ye(e.source,t,`Invalid number, expected digit but got: ${Ut(e,t)}.`);const r=e.source.body;let i=t+1;for(;tr(r.charCodeAt(i));)++i;return i}function Hh(e,t){const n=e.source.body,r=n.length;let i=t+1,o=i,a="";for(;i<r;){const s=n.charCodeAt(i);if(s===34)return a+=n.slice(o,i),ge(e,E.STRING,t,i+1,a);if(s===92){a+=n.slice(o,i);const l=n.charCodeAt(i+1)===117?n.charCodeAt(i+2)===123?Qh(e,i):Yh(e,i):Wh(e,i);a+=l.value,i+=l.size,o=i;continue}if(s===10||s===13)break;if(Tn(s))++i;else if(Oi(n,i))i+=2;else throw ye(e.source,i,`Invalid character within String: ${Ut(e,i)}.`)}throw ye(e.source,i,"Unterminated string.")}function Qh(e,t){const n=e.source.body;let r=0,i=3;for(;i<12;){const o=n.charCodeAt(t+i++);if(o===125){if(i<5||!Tn(r))break;return{value:String.fromCodePoint(r),size:i}}if(r=r<<4|Mn(o),r<0)break}throw ye(e.source,t,`Invalid Unicode escape sequence: "${n.slice(t,t+i)}".`)}function Yh(e,t){const n=e.source.body,r=_s(n,t+2);if(Tn(r))return{value:String.fromCodePoint(r),size:6};if(Ul(r)&&n.charCodeAt(t+6)===92&&n.charCodeAt(t+7)===117){const i=_s(n,t+8);if(ql(i))return{value:String.fromCodePoint(r,i),size:12}}throw ye(e.source,t,`Invalid Unicode escape sequence: "${n.slice(t,t+6)}".`)}function _s(e,t){return Mn(e.charCodeAt(t))<<12|Mn(e.charCodeAt(t+1))<<8|Mn(e.charCodeAt(t+2))<<4|Mn(e.charCodeAt(t+3))}function Mn(e){return e>=48&&e<=57?e-48:e>=65&&e<=70?e-55:e>=97&&e<=102?e-87:-1}function Wh(e,t){const n=e.source.body;switch(n.charCodeAt(t+1)){case 34:return{value:'"',size:2};case 92:return{value:"\\",size:2};case 47:return{value:"/",size:2};case 98:return{value:"\b",size:2};case 102:return{value:"\f",size:2};case 110:return{value:`
`,size:2};case 114:return{value:"\r",size:2};case 116:return{value:"	",size:2}}throw ye(e.source,t,`Invalid character escape sequence: "${n.slice(t,t+2)}".`)}function Jh(e,t){const n=e.source.body,r=n.length;let i=e.lineStart,o=t+3,a=o,s="";const l=[];for(;o<r;){const u=n.charCodeAt(o);if(u===34&&n.charCodeAt(o+1)===34&&n.charCodeAt(o+2)===34){s+=n.slice(a,o),l.push(s);const d=ge(e,E.BLOCK_STRING,t,o+3,Fh(l).join(`
`));return e.line+=l.length-1,e.lineStart=i,d}if(u===92&&n.charCodeAt(o+1)===34&&n.charCodeAt(o+2)===34&&n.charCodeAt(o+3)===34){s+=n.slice(a,o),a=o+1,o+=4;continue}if(u===10||u===13){s+=n.slice(a,o),l.push(s),u===13&&n.charCodeAt(o+1)===10?o+=2:++o,s="",a=o,i=o;continue}if(Tn(u))++o;else if(Oi(n,o))o+=2;else throw ye(e.source,o,`Invalid character within String: ${Ut(e,o)}.`)}throw ye(e.source,o,"Unterminated string.")}function Kh(e,t){const n=e.source.body,r=n.length;let i=t+1;for(;i<r;){const o=n.charCodeAt(i);if(Mh(o))++i;else break}return ge(e,E.NAME,t,i,n.slice(t,i))}const Xh=10,jl=2;function ma(e){return Ai(e,[])}function Ai(e,t){switch(typeof e){case"string":return JSON.stringify(e);case"function":return e.name?`[function ${e.name}]`:"[function]";case"object":return Zh(e,t);default:return String(e)}}function Zh(e,t){if(e===null)return"null";if(t.includes(e))return"[Circular]";const n=[...t,e];if(ef(e)){const r=e.toJSON();if(r!==e)return typeof r=="string"?r:Ai(r,n)}else if(Array.isArray(e))return nf(e,n);return tf(e,n)}function ef(e){return typeof e.toJSON=="function"}function tf(e,t){const n=Object.entries(e);return n.length===0?"{}":t.length>jl?"["+rf(e)+"]":"{ "+n.map(([i,o])=>i+": "+Ai(o,t)).join(", ")+" }"}function nf(e,t){if(e.length===0)return"[]";if(t.length>jl)return"[Array]";const n=Math.min(Xh,e.length),r=e.length-n,i=[];for(let o=0;o<n;++o)i.push(Ai(e[o],t));return r===1?i.push("... 1 more item"):r>1&&i.push(`... ${r} more items`),"["+i.join(", ")+"]"}function rf(e){const t=Object.prototype.toString.call(e).replace(/^\[object /,"").replace(/]$/,"");if(t==="Object"&&typeof e.constructor=="function"){const n=e.constructor.name;if(typeof n=="string"&&n!=="")return n}return t}const of=globalThis.process?function(t,n){return t instanceof n}:function(t,n){if(t instanceof n)return!0;if(typeof t=="object"&&t!==null){var r;const i=n.prototype[Symbol.toStringTag],o=Symbol.toStringTag in t?t[Symbol.toStringTag]:(r=t.constructor)===null||r===void 0?void 0:r.name;if(i===o){const a=ma(t);throw new Error(`Cannot use ${i} "${a}" from another module or realm.

Ensure that there is only one instance of "graphql" in the node_modules
directory. If different versions of "graphql" are the dependencies of other
relied on modules, use "resolutions" to ensure only one version is installed.

https://yarnpkg.com/en/docs/selective-version-resolutions

Duplicate "graphql" modules cannot be used at the same time since different
versions may have different capabilities and behavior. The data from one
version used in the function from another could produce confusing and
spurious results.`)}}return!1};let Bl=class{constructor(t,n="GraphQL request",r={line:1,column:1}){typeof t=="string"||Dr(!1,`Body must be a string. Received: ${ma(t)}.`),this.body=t,this.name=n,this.locationOffset=r,this.locationOffset.line>0||Dr(!1,"line in locationOffset is 1-indexed and must be positive."),this.locationOffset.column>0||Dr(!1,"column in locationOffset is 1-indexed and must be positive.")}get[Symbol.toStringTag](){return"Source"}};function af(e){return of(e,Bl)}function sf(e,t){return new cf(e,t).parseDocument()}let cf=class{constructor(t,n={}){const r=af(t)?t:new Bl(t);this._lexer=new jh(r),this._options=n,this._tokenCounter=0}parseName(){const t=this.expectToken(E.NAME);return this.node(t,{kind:P.NAME,value:t.value})}parseDocument(){return this.node(this._lexer.token,{kind:P.DOCUMENT,definitions:this.many(E.SOF,this.parseDefinition,E.EOF)})}parseDefinition(){if(this.peek(E.BRACE_L))return this.parseOperationDefinition();const t=this.peekDescription(),n=t?this._lexer.lookahead():this._lexer.token;if(n.kind===E.NAME){switch(n.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}if(t)throw ye(this._lexer.source,this._lexer.token.start,"Unexpected description, descriptions are supported only on type definitions.");switch(n.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition();case"extend":return this.parseTypeSystemExtension()}}throw this.unexpected(n)}parseOperationDefinition(){const t=this._lexer.token;if(this.peek(E.BRACE_L))return this.node(t,{kind:P.OPERATION_DEFINITION,operation:an.QUERY,name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet()});const n=this.parseOperationType();let r;return this.peek(E.NAME)&&(r=this.parseName()),this.node(t,{kind:P.OPERATION_DEFINITION,operation:n,name:r,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseOperationType(){const t=this.expectToken(E.NAME);switch(t.value){case"query":return an.QUERY;case"mutation":return an.MUTATION;case"subscription":return an.SUBSCRIPTION}throw this.unexpected(t)}parseVariableDefinitions(){return this.optionalMany(E.PAREN_L,this.parseVariableDefinition,E.PAREN_R)}parseVariableDefinition(){return this.node(this._lexer.token,{kind:P.VARIABLE_DEFINITION,variable:this.parseVariable(),type:(this.expectToken(E.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(E.EQUALS)?this.parseConstValueLiteral():void 0,directives:this.parseConstDirectives()})}parseVariable(){const t=this._lexer.token;return this.expectToken(E.DOLLAR),this.node(t,{kind:P.VARIABLE,name:this.parseName()})}parseSelectionSet(){return this.node(this._lexer.token,{kind:P.SELECTION_SET,selections:this.many(E.BRACE_L,this.parseSelection,E.BRACE_R)})}parseSelection(){return this.peek(E.SPREAD)?this.parseFragment():this.parseField()}parseField(){const t=this._lexer.token,n=this.parseName();let r,i;return this.expectOptionalToken(E.COLON)?(r=n,i=this.parseName()):i=n,this.node(t,{kind:P.FIELD,alias:r,name:i,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(E.BRACE_L)?this.parseSelectionSet():void 0})}parseArguments(t){const n=t?this.parseConstArgument:this.parseArgument;return this.optionalMany(E.PAREN_L,n,E.PAREN_R)}parseArgument(t=!1){const n=this._lexer.token,r=this.parseName();return this.expectToken(E.COLON),this.node(n,{kind:P.ARGUMENT,name:r,value:this.parseValueLiteral(t)})}parseConstArgument(){return this.parseArgument(!0)}parseFragment(){const t=this._lexer.token;this.expectToken(E.SPREAD);const n=this.expectOptionalKeyword("on");return!n&&this.peek(E.NAME)?this.node(t,{kind:P.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1)}):this.node(t,{kind:P.INLINE_FRAGMENT,typeCondition:n?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentDefinition(){const t=this._lexer.token;return this.expectKeyword("fragment"),this._options.allowLegacyFragmentVariables===!0?this.node(t,{kind:P.FRAGMENT_DEFINITION,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()}):this.node(t,{kind:P.FRAGMENT_DEFINITION,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentName(){if(this._lexer.token.value==="on")throw this.unexpected();return this.parseName()}parseValueLiteral(t){const n=this._lexer.token;switch(n.kind){case E.BRACKET_L:return this.parseList(t);case E.BRACE_L:return this.parseObject(t);case E.INT:return this.advanceLexer(),this.node(n,{kind:P.INT,value:n.value});case E.FLOAT:return this.advanceLexer(),this.node(n,{kind:P.FLOAT,value:n.value});case E.STRING:case E.BLOCK_STRING:return this.parseStringLiteral();case E.NAME:switch(this.advanceLexer(),n.value){case"true":return this.node(n,{kind:P.BOOLEAN,value:!0});case"false":return this.node(n,{kind:P.BOOLEAN,value:!1});case"null":return this.node(n,{kind:P.NULL});default:return this.node(n,{kind:P.ENUM,value:n.value})}case E.DOLLAR:if(t)if(this.expectToken(E.DOLLAR),this._lexer.token.kind===E.NAME){const r=this._lexer.token.value;throw ye(this._lexer.source,n.start,`Unexpected variable "$${r}" in constant value.`)}else throw this.unexpected(n);return this.parseVariable();default:throw this.unexpected()}}parseConstValueLiteral(){return this.parseValueLiteral(!0)}parseStringLiteral(){const t=this._lexer.token;return this.advanceLexer(),this.node(t,{kind:P.STRING,value:t.value,block:t.kind===E.BLOCK_STRING})}parseList(t){const n=()=>this.parseValueLiteral(t);return this.node(this._lexer.token,{kind:P.LIST,values:this.any(E.BRACKET_L,n,E.BRACKET_R)})}parseObject(t){const n=()=>this.parseObjectField(t);return this.node(this._lexer.token,{kind:P.OBJECT,fields:this.any(E.BRACE_L,n,E.BRACE_R)})}parseObjectField(t){const n=this._lexer.token,r=this.parseName();return this.expectToken(E.COLON),this.node(n,{kind:P.OBJECT_FIELD,name:r,value:this.parseValueLiteral(t)})}parseDirectives(t){const n=[];for(;this.peek(E.AT);)n.push(this.parseDirective(t));return n}parseConstDirectives(){return this.parseDirectives(!0)}parseDirective(t){const n=this._lexer.token;return this.expectToken(E.AT),this.node(n,{kind:P.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(t)})}parseTypeReference(){const t=this._lexer.token;let n;if(this.expectOptionalToken(E.BRACKET_L)){const r=this.parseTypeReference();this.expectToken(E.BRACKET_R),n=this.node(t,{kind:P.LIST_TYPE,type:r})}else n=this.parseNamedType();return this.expectOptionalToken(E.BANG)?this.node(t,{kind:P.NON_NULL_TYPE,type:n}):n}parseNamedType(){return this.node(this._lexer.token,{kind:P.NAMED_TYPE,name:this.parseName()})}peekDescription(){return this.peek(E.STRING)||this.peek(E.BLOCK_STRING)}parseDescription(){if(this.peekDescription())return this.parseStringLiteral()}parseSchemaDefinition(){const t=this._lexer.token,n=this.parseDescription();this.expectKeyword("schema");const r=this.parseConstDirectives(),i=this.many(E.BRACE_L,this.parseOperationTypeDefinition,E.BRACE_R);return this.node(t,{kind:P.SCHEMA_DEFINITION,description:n,directives:r,operationTypes:i})}parseOperationTypeDefinition(){const t=this._lexer.token,n=this.parseOperationType();this.expectToken(E.COLON);const r=this.parseNamedType();return this.node(t,{kind:P.OPERATION_TYPE_DEFINITION,operation:n,type:r})}parseScalarTypeDefinition(){const t=this._lexer.token,n=this.parseDescription();this.expectKeyword("scalar");const r=this.parseName(),i=this.parseConstDirectives();return this.node(t,{kind:P.SCALAR_TYPE_DEFINITION,description:n,name:r,directives:i})}parseObjectTypeDefinition(){const t=this._lexer.token,n=this.parseDescription();this.expectKeyword("type");const r=this.parseName(),i=this.parseImplementsInterfaces(),o=this.parseConstDirectives(),a=this.parseFieldsDefinition();return this.node(t,{kind:P.OBJECT_TYPE_DEFINITION,description:n,name:r,interfaces:i,directives:o,fields:a})}parseImplementsInterfaces(){return this.expectOptionalKeyword("implements")?this.delimitedMany(E.AMP,this.parseNamedType):[]}parseFieldsDefinition(){return this.optionalMany(E.BRACE_L,this.parseFieldDefinition,E.BRACE_R)}parseFieldDefinition(){const t=this._lexer.token,n=this.parseDescription(),r=this.parseName(),i=this.parseArgumentDefs();this.expectToken(E.COLON);const o=this.parseTypeReference(),a=this.parseConstDirectives();return this.node(t,{kind:P.FIELD_DEFINITION,description:n,name:r,arguments:i,type:o,directives:a})}parseArgumentDefs(){return this.optionalMany(E.PAREN_L,this.parseInputValueDef,E.PAREN_R)}parseInputValueDef(){const t=this._lexer.token,n=this.parseDescription(),r=this.parseName();this.expectToken(E.COLON);const i=this.parseTypeReference();let o;this.expectOptionalToken(E.EQUALS)&&(o=this.parseConstValueLiteral());const a=this.parseConstDirectives();return this.node(t,{kind:P.INPUT_VALUE_DEFINITION,description:n,name:r,type:i,defaultValue:o,directives:a})}parseInterfaceTypeDefinition(){const t=this._lexer.token,n=this.parseDescription();this.expectKeyword("interface");const r=this.parseName(),i=this.parseImplementsInterfaces(),o=this.parseConstDirectives(),a=this.parseFieldsDefinition();return this.node(t,{kind:P.INTERFACE_TYPE_DEFINITION,description:n,name:r,interfaces:i,directives:o,fields:a})}parseUnionTypeDefinition(){const t=this._lexer.token,n=this.parseDescription();this.expectKeyword("union");const r=this.parseName(),i=this.parseConstDirectives(),o=this.parseUnionMemberTypes();return this.node(t,{kind:P.UNION_TYPE_DEFINITION,description:n,name:r,directives:i,types:o})}parseUnionMemberTypes(){return this.expectOptionalToken(E.EQUALS)?this.delimitedMany(E.PIPE,this.parseNamedType):[]}parseEnumTypeDefinition(){const t=this._lexer.token,n=this.parseDescription();this.expectKeyword("enum");const r=this.parseName(),i=this.parseConstDirectives(),o=this.parseEnumValuesDefinition();return this.node(t,{kind:P.ENUM_TYPE_DEFINITION,description:n,name:r,directives:i,values:o})}parseEnumValuesDefinition(){return this.optionalMany(E.BRACE_L,this.parseEnumValueDefinition,E.BRACE_R)}parseEnumValueDefinition(){const t=this._lexer.token,n=this.parseDescription(),r=this.parseEnumValueName(),i=this.parseConstDirectives();return this.node(t,{kind:P.ENUM_VALUE_DEFINITION,description:n,name:r,directives:i})}parseEnumValueName(){if(this._lexer.token.value==="true"||this._lexer.token.value==="false"||this._lexer.token.value==="null")throw ye(this._lexer.source,this._lexer.token.start,`${Ir(this._lexer.token)} is reserved and cannot be used for an enum value.`);return this.parseName()}parseInputObjectTypeDefinition(){const t=this._lexer.token,n=this.parseDescription();this.expectKeyword("input");const r=this.parseName(),i=this.parseConstDirectives(),o=this.parseInputFieldsDefinition();return this.node(t,{kind:P.INPUT_OBJECT_TYPE_DEFINITION,description:n,name:r,directives:i,fields:o})}parseInputFieldsDefinition(){return this.optionalMany(E.BRACE_L,this.parseInputValueDef,E.BRACE_R)}parseTypeSystemExtension(){const t=this._lexer.lookahead();if(t.kind===E.NAME)switch(t.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(t)}parseSchemaExtension(){const t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");const n=this.parseConstDirectives(),r=this.optionalMany(E.BRACE_L,this.parseOperationTypeDefinition,E.BRACE_R);if(n.length===0&&r.length===0)throw this.unexpected();return this.node(t,{kind:P.SCHEMA_EXTENSION,directives:n,operationTypes:r})}parseScalarTypeExtension(){const t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");const n=this.parseName(),r=this.parseConstDirectives();if(r.length===0)throw this.unexpected();return this.node(t,{kind:P.SCALAR_TYPE_EXTENSION,name:n,directives:r})}parseObjectTypeExtension(){const t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");const n=this.parseName(),r=this.parseImplementsInterfaces(),i=this.parseConstDirectives(),o=this.parseFieldsDefinition();if(r.length===0&&i.length===0&&o.length===0)throw this.unexpected();return this.node(t,{kind:P.OBJECT_TYPE_EXTENSION,name:n,interfaces:r,directives:i,fields:o})}parseInterfaceTypeExtension(){const t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");const n=this.parseName(),r=this.parseImplementsInterfaces(),i=this.parseConstDirectives(),o=this.parseFieldsDefinition();if(r.length===0&&i.length===0&&o.length===0)throw this.unexpected();return this.node(t,{kind:P.INTERFACE_TYPE_EXTENSION,name:n,interfaces:r,directives:i,fields:o})}parseUnionTypeExtension(){const t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");const n=this.parseName(),r=this.parseConstDirectives(),i=this.parseUnionMemberTypes();if(r.length===0&&i.length===0)throw this.unexpected();return this.node(t,{kind:P.UNION_TYPE_EXTENSION,name:n,directives:r,types:i})}parseEnumTypeExtension(){const t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");const n=this.parseName(),r=this.parseConstDirectives(),i=this.parseEnumValuesDefinition();if(r.length===0&&i.length===0)throw this.unexpected();return this.node(t,{kind:P.ENUM_TYPE_EXTENSION,name:n,directives:r,values:i})}parseInputObjectTypeExtension(){const t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");const n=this.parseName(),r=this.parseConstDirectives(),i=this.parseInputFieldsDefinition();if(r.length===0&&i.length===0)throw this.unexpected();return this.node(t,{kind:P.INPUT_OBJECT_TYPE_EXTENSION,name:n,directives:r,fields:i})}parseDirectiveDefinition(){const t=this._lexer.token,n=this.parseDescription();this.expectKeyword("directive"),this.expectToken(E.AT);const r=this.parseName(),i=this.parseArgumentDefs(),o=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");const a=this.parseDirectiveLocations();return this.node(t,{kind:P.DIRECTIVE_DEFINITION,description:n,name:r,arguments:i,repeatable:o,locations:a})}parseDirectiveLocations(){return this.delimitedMany(E.PIPE,this.parseDirectiveLocation)}parseDirectiveLocation(){const t=this._lexer.token,n=this.parseName();if(Object.prototype.hasOwnProperty.call(Oo,n.value))return n;throw this.unexpected(t)}node(t,n){return this._options.noLocation!==!0&&(n.loc=new Lh(t,this._lexer.lastToken,this._lexer.source)),n}peek(t){return this._lexer.token.kind===t}expectToken(t){const n=this._lexer.token;if(n.kind===t)return this.advanceLexer(),n;throw ye(this._lexer.source,n.start,`Expected ${Vl(t)}, found ${Ir(n)}.`)}expectOptionalToken(t){return this._lexer.token.kind===t?(this.advanceLexer(),!0):!1}expectKeyword(t){const n=this._lexer.token;if(n.kind===E.NAME&&n.value===t)this.advanceLexer();else throw ye(this._lexer.source,n.start,`Expected "${t}", found ${Ir(n)}.`)}expectOptionalKeyword(t){const n=this._lexer.token;return n.kind===E.NAME&&n.value===t?(this.advanceLexer(),!0):!1}unexpected(t){const n=t??this._lexer.token;return ye(this._lexer.source,n.start,`Unexpected ${Ir(n)}.`)}any(t,n,r){this.expectToken(t);const i=[];for(;!this.expectOptionalToken(r);)i.push(n.call(this));return i}optionalMany(t,n,r){if(this.expectOptionalToken(t)){const i=[];do i.push(n.call(this));while(!this.expectOptionalToken(r));return i}return[]}many(t,n,r){this.expectToken(t);const i=[];do i.push(n.call(this));while(!this.expectOptionalToken(r));return i}delimitedMany(t,n){this.expectOptionalToken(t);const r=[];do r.push(n.call(this));while(this.expectOptionalToken(t));return r}advanceLexer(){const{maxTokens:t}=this._options,n=this._lexer.advance();if(t!==void 0&&n.kind!==E.EOF&&(++this._tokenCounter,this._tokenCounter>t))throw ye(this._lexer.source,n.start,`Document contains more that ${t} tokens. Parsing aborted.`)}};function Ir(e){const t=e.value;return Vl(e.kind)+(t!=null?` "${t}"`:"")}function Vl(e){return Bh(e)?`"${e}"`:e}function lf(e){return`"${e.replace(uf,df)}"`}const uf=/[\x00-\x1f\x22\x5c\x7f-\x9f]/g;function df(e){return pf[e.charCodeAt(0)]}const pf=["\\u0000","\\u0001","\\u0002","\\u0003","\\u0004","\\u0005","\\u0006","\\u0007","\\b","\\t","\\n","\\u000B","\\f","\\r","\\u000E","\\u000F","\\u0010","\\u0011","\\u0012","\\u0013","\\u0014","\\u0015","\\u0016","\\u0017","\\u0018","\\u0019","\\u001A","\\u001B","\\u001C","\\u001D","\\u001E","\\u001F","","",'\\"',"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\\\","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\u007F","\\u0080","\\u0081","\\u0082","\\u0083","\\u0084","\\u0085","\\u0086","\\u0087","\\u0088","\\u0089","\\u008A","\\u008B","\\u008C","\\u008D","\\u008E","\\u008F","\\u0090","\\u0091","\\u0092","\\u0093","\\u0094","\\u0095","\\u0096","\\u0097","\\u0098","\\u0099","\\u009A","\\u009B","\\u009C","\\u009D","\\u009E","\\u009F"],hf=Object.freeze({});function zl(e,t,n=$l){const r=new Map;for(const g of Object.values(P))r.set(g,ff(t,g));let i,o=Array.isArray(e),a=[e],s=-1,l=[],u=e,d,p;const f=[],h=[];do{s++;const g=s===a.length,b=g&&l.length!==0;if(g){if(d=h.length===0?void 0:f[f.length-1],u=p,p=h.pop(),b)if(o){u=u.slice();let _=0;for(const[w,N]of l){const T=w-_;N===null?(u.splice(T,1),_++):u[T]=N}}else{u=Object.defineProperties({},Object.getOwnPropertyDescriptors(u));for(const[_,w]of l)u[_]=w}s=i.index,a=i.keys,l=i.edits,o=i.inArray,i=i.prev}else if(p){if(d=o?s:a[s],u=p[d],u==null)continue;f.push(d)}let v;if(!Array.isArray(u)){var m,y;bs(u)||Dr(!1,`Invalid AST Node: ${ma(u)}.`);const _=g?(m=r.get(u.kind))===null||m===void 0?void 0:m.leave:(y=r.get(u.kind))===null||y===void 0?void 0:y.enter;if(v=_==null?void 0:_.call(t,u,d,p,f,h),v===hf)break;if(v===!1){if(!g){f.pop();continue}}else if(v!==void 0&&(l.push([d,v]),!g))if(bs(v))u=v;else{f.pop();continue}}if(v===void 0&&b&&l.push([d,u]),g)f.pop();else{var x;i={inArray:o,index:s,keys:a,edits:l,prev:i},o=Array.isArray(u),a=o?u:(x=n[u.kind])!==null&&x!==void 0?x:[],s=-1,l=[],p&&h.push(p),p=u}}while(i!==void 0);return l.length!==0?l[l.length-1][1]:e}function ff(e,t){const n=e[t];return typeof n=="object"?n:typeof n=="function"?{enter:n,leave:void 0}:{enter:e.enter,leave:e.leave}}function mf(e){return zl(e,vf)}const gf=80,vf={Name:{leave:e=>e.value},Variable:{leave:e=>"$"+e.name},Document:{leave:e=>C(e.definitions,`

`)},OperationDefinition:{leave(e){const t=K("(",C(e.variableDefinitions,", "),")"),n=C([e.operation,C([e.name,t]),C(e.directives," ")]," ");return(n==="query"?"":n+" ")+e.selectionSet}},VariableDefinition:{leave:({variable:e,type:t,defaultValue:n,directives:r})=>e+": "+t+K(" = ",n)+K(" ",C(r," "))},SelectionSet:{leave:({selections:e})=>Be(e)},Field:{leave({alias:e,name:t,arguments:n,directives:r,selectionSet:i}){const o=K("",e,": ")+t;let a=o+K("(",C(n,", "),")");return a.length>gf&&(a=o+K(`(
`,$r(C(n,`
`)),`
)`)),C([a,C(r," "),i]," ")}},Argument:{leave:({name:e,value:t})=>e+": "+t},FragmentSpread:{leave:({name:e,directives:t})=>"..."+e+K(" ",C(t," "))},InlineFragment:{leave:({typeCondition:e,directives:t,selectionSet:n})=>C(["...",K("on ",e),C(t," "),n]," ")},FragmentDefinition:{leave:({name:e,typeCondition:t,variableDefinitions:n,directives:r,selectionSet:i})=>`fragment ${e}${K("(",C(n,", "),")")} on ${t} ${K("",C(r," ")," ")}`+i},IntValue:{leave:({value:e})=>e},FloatValue:{leave:({value:e})=>e},StringValue:{leave:({value:e,block:t})=>t?qh(e):lf(e)},BooleanValue:{leave:({value:e})=>e?"true":"false"},NullValue:{leave:()=>"null"},EnumValue:{leave:({value:e})=>e},ListValue:{leave:({values:e})=>"["+C(e,", ")+"]"},ObjectValue:{leave:({fields:e})=>"{"+C(e,", ")+"}"},ObjectField:{leave:({name:e,value:t})=>e+": "+t},Directive:{leave:({name:e,arguments:t})=>"@"+e+K("(",C(t,", "),")")},NamedType:{leave:({name:e})=>e},ListType:{leave:({type:e})=>"["+e+"]"},NonNullType:{leave:({type:e})=>e+"!"},SchemaDefinition:{leave:({description:e,directives:t,operationTypes:n})=>K("",e,`
`)+C(["schema",C(t," "),Be(n)]," ")},OperationTypeDefinition:{leave:({operation:e,type:t})=>e+": "+t},ScalarTypeDefinition:{leave:({description:e,name:t,directives:n})=>K("",e,`
`)+C(["scalar",t,C(n," ")]," ")},ObjectTypeDefinition:{leave:({description:e,name:t,interfaces:n,directives:r,fields:i})=>K("",e,`
`)+C(["type",t,K("implements ",C(n," & ")),C(r," "),Be(i)]," ")},FieldDefinition:{leave:({description:e,name:t,arguments:n,type:r,directives:i})=>K("",e,`
`)+t+(xs(n)?K(`(
`,$r(C(n,`
`)),`
)`):K("(",C(n,", "),")"))+": "+r+K(" ",C(i," "))},InputValueDefinition:{leave:({description:e,name:t,type:n,defaultValue:r,directives:i})=>K("",e,`
`)+C([t+": "+n,K("= ",r),C(i," ")]," ")},InterfaceTypeDefinition:{leave:({description:e,name:t,interfaces:n,directives:r,fields:i})=>K("",e,`
`)+C(["interface",t,K("implements ",C(n," & ")),C(r," "),Be(i)]," ")},UnionTypeDefinition:{leave:({description:e,name:t,directives:n,types:r})=>K("",e,`
`)+C(["union",t,C(n," "),K("= ",C(r," | "))]," ")},EnumTypeDefinition:{leave:({description:e,name:t,directives:n,values:r})=>K("",e,`
`)+C(["enum",t,C(n," "),Be(r)]," ")},EnumValueDefinition:{leave:({description:e,name:t,directives:n})=>K("",e,`
`)+C([t,C(n," ")]," ")},InputObjectTypeDefinition:{leave:({description:e,name:t,directives:n,fields:r})=>K("",e,`
`)+C(["input",t,C(n," "),Be(r)]," ")},DirectiveDefinition:{leave:({description:e,name:t,arguments:n,repeatable:r,locations:i})=>K("",e,`
`)+"directive @"+t+(xs(n)?K(`(
`,$r(C(n,`
`)),`
)`):K("(",C(n,", "),")"))+(r?" repeatable":"")+" on "+C(i," | ")},SchemaExtension:{leave:({directives:e,operationTypes:t})=>C(["extend schema",C(e," "),Be(t)]," ")},ScalarTypeExtension:{leave:({name:e,directives:t})=>C(["extend scalar",e,C(t," ")]," ")},ObjectTypeExtension:{leave:({name:e,interfaces:t,directives:n,fields:r})=>C(["extend type",e,K("implements ",C(t," & ")),C(n," "),Be(r)]," ")},InterfaceTypeExtension:{leave:({name:e,interfaces:t,directives:n,fields:r})=>C(["extend interface",e,K("implements ",C(t," & ")),C(n," "),Be(r)]," ")},UnionTypeExtension:{leave:({name:e,directives:t,types:n})=>C(["extend union",e,C(t," "),K("= ",C(n," | "))]," ")},EnumTypeExtension:{leave:({name:e,directives:t,values:n})=>C(["extend enum",e,C(t," "),Be(n)]," ")},InputObjectTypeExtension:{leave:({name:e,directives:t,fields:n})=>C(["extend input",e,C(t," "),Be(n)]," ")}};function C(e,t=""){var n;return(n=e==null?void 0:e.filter(r=>r).join(t))!==null&&n!==void 0?n:""}function Be(e){return K(`{
`,$r(C(e,`
`)),`
}`)}function K(e,t,n=""){return t!=null&&t!==""?e+t+n:""}function $r(e){return K("  ",e.replace(/\n/g,`
  `))}function xs(e){var t;return(t=e==null?void 0:e.some(n=>n.includes(`
`)))!==null&&t!==void 0?t:!1}var yf=e=>e instanceof Lr?e:typeof e=="object"&&e.message?new Lr(e.message,e.nodes,e.source,e.positions,e.path,e,e.extensions||{}):new Lr(e);let ga=class extends Error{constructor(t){var n=(t.graphQLErrors||[]).map(yf),r=((i,o)=>{var a="";if(i)return`[Network] ${i.message}`;if(o)for(var s of o)a&&(a+=`
`),a+=`[GraphQL] ${s.message}`;return a})(t.networkError,n);super(r),this.name="CombinedError",this.message=r,this.graphQLErrors=n,this.networkError=t.networkError,this.response=t.response}toString(){return this.message}};var Ro=(e,t)=>{for(var n=typeof t=="number"?0|t:5381,r=0,i=0|e.length;r<i;r++)n=(n<<5)+n+e.charCodeAt(r);return n},Mr=new Set,ws=new WeakMap,Fn=e=>{if(e===null||Mr.has(e))return"null";if(typeof e!="object")return JSON.stringify(e)||"";if(e.toJSON)return Fn(e.toJSON());if(Array.isArray(e)){var t="[";for(var n of e)t!=="["&&(t+=","),t+=(n=Fn(n)).length>0?n:"null";return t+="]"}var r=Object.keys(e).sort();if(!r.length&&e.constructor&&e.constructor!==Object){var i=ws.get(e)||Math.random().toString(36).slice(2);return ws.set(e,i),`{"__key":"${i}"}`}Mr.add(e);var o="{";for(var a of r){var s=Fn(e[a]);s&&(o.length>1&&(o+=","),o+=Fn(a)+":"+s)}return Mr.delete(e),o+="}"},Po=e=>(Mr.clear(),Fn(e)),bf=/("{3}[\s\S]*"{3}|"(?:\\.|[^"])*")/g,_f=/(#[^\n\r]+)?(?:\n|\r\n?|$)+/g,xf=(e,t)=>t%2==0?e.replace(_f,`
`):e,ks=e=>e.split(bf).map(xf).join("").trim(),Es=new Map,Fr=new Map,br=e=>{var t;return typeof e=="string"?t=ks(e):e.loc&&Fr.get(e.__key)===e?t=e.loc.source.body:(t=Es.get(e)||ks(mf(e)),Es.set(e,t)),typeof e!="string"&&!e.loc&&(e.loc={start:0,end:t.length,source:{body:t,name:"gql",locationOffset:{line:1,column:1}}}),t},Ns=e=>{var t=Ro(br(e));if(typeof e=="object"&&"definitions"in e){var n=Gl(e);n&&(t=Ro(`
# ${n}`,t))}return t},di=e=>{var t,n;return typeof e=="string"?(t=Ns(e),n=Fr.get(t)||sf(e,{noLocation:!0})):(t=e.__key||Ns(e),n=Fr.get(t)||e),n.loc||br(n),n.__key=t,Fr.set(t,n),n},no=(e,t)=>{t||(t={});var n=di(e),r=Po(t),i=n.__key;return r!=="{}"&&(i=Ro(r,i)),{key:i,query:n,variables:t}},Gl=e=>{for(var t of e.definitions)if(t.kind===P.OPERATION_DEFINITION&&t.name)return t.name.value},Ur=(e,t,n)=>{if(!("data"in t)&&!("errors"in t)||"incremental"in t)throw new Error("No Content");var r=e.kind==="subscription";return{operation:e,data:t.data,error:Array.isArray(t.errors)?new ga({graphQLErrors:t.errors,response:n}):void 0,extensions:typeof t.extensions=="object"&&t.extensions||void 0,hasNext:t.hasNext==null?r:t.hasNext}},wf=(e,t,n)=>{var r,i=!!e.extensions||!!t.extensions,o={...e.extensions,...t.extensions},a=e.error?e.error.graphQLErrors:[],s=t.incremental;if("path"in t&&(s=[{data:t.data,path:t.path}]),s){r={...e.data};for(var l of s){Array.isArray(l.errors)&&a.push(...l.errors),l.extensions&&(Object.assign(o,l.extensions),i=!0);for(var u=l.path[0],d=r,p=1,f=l.path.length;p<f;u=l.path[p++])d=d[u]=Array.isArray(d[u])?[...d[u]]:{...d[u]};if(Array.isArray(l.items))for(var h=+u>=0?u:0,m=0,y=l.items.length;m<y;m++)d[h+m]=l.items[m];else l.data!==void 0&&(d[u]=d[u]&&l.data?{...d[u],...l.data}:l.data)}}else r=t.data||e.data;return{operation:e.operation,data:r,error:a.length?new ga({graphQLErrors:a,response:n}):void 0,extensions:i?o:void 0,hasNext:!!t.hasNext}},Do=(e,t,n)=>({operation:e,data:void 0,error:new ga({networkError:t,response:n}),extensions:void 0});function kf(e){return{query:br(e.query),operationName:Gl(e.query),variables:e.variables||void 0,extensions:void 0}}var Ef=(e,t)=>{var n=e.kind==="query"&&e.context.preferGetMethod;if(!n||!t)return e.context.url;var r=new URL(e.context.url),i=r.searchParams;t.operationName&&i.set("operationName",t.operationName),t.query&&i.set("query",t.query),t.variables&&i.set("variables",Po(t.variables)),t.extensions&&i.set("extensions",Po(t.extensions));var o=r.toString();return o.length>2047&&n!=="force"?(e.context.preferGetMethod=!1,e.context.url):o},Nf=(e,t)=>{var n=e.kind==="query"&&!!e.context.preferGetMethod,r={accept:"multipart/mixed, application/graphql-response+json, application/graphql+json, application/json"};n||(r["content-type"]="application/json");var i=(typeof e.context.fetchOptions=="function"?e.context.fetchOptions():e.context.fetchOptions)||{};if(i.headers)for(var o in i.headers)r[o.toLowerCase()]=i.headers[o];return{...i,body:!n&&t?JSON.stringify(t):void 0,method:n?"GET":"POST",headers:r}},Tf=typeof TextDecoder<"u"?new TextDecoder:null,If=/content-type:[^\r\n]*application\/json/i,Sf=/boundary="?([^=";]+)"?/i,Cf=(e,t,n)=>{var r=n.redirect==="manual"?400:300,i=e.context.fetch;return Wt(({next:o,complete:a})=>{var s=typeof AbortController<"u"?new AbortController:null;s&&(n.signal=s.signal);var l=!1,u=(h,m,y)=>{var x=y.headers&&y.headers.get("Content-Type")||"";if(/text\//i.test(x))return y.text().then(X=>{h(Do(m,new Error(X),y))});if(!/multipart\/mixed/i.test(x))return y.text().then(X=>{h(Ur(m,JSON.parse(X),y))});var g="---",b=x.match(Sf);b&&(g="--"+b[1]);var v,_=()=>{};if(y[Symbol.asyncIterator]){var w=y[Symbol.asyncIterator]();v=w.next.bind(w)}else if("body"in y&&y.body){var N=y.body.getReader();_=()=>N.cancel(),v=()=>N.read()}else throw new TypeError("Streaming requests unsupported");var T="",I=!0,M=null,F=null;return v().then(function X(Y){if(Y.done)l=!0;else{var te=(le=Y.value).constructor.name==="Buffer"?le.toString():Tf.decode(le),O=te.indexOf(g);for(O>-1?O+=T.length:O=T.indexOf(g),T+=te;O>-1;){var H=T.slice(0,O),$=T.slice(O+g.length);if(I)I=!1;else{var j=H.indexOf(`\r
\r
`)+4,Z=H.slice(0,j),pe=H.slice(j,H.lastIndexOf(`\r
`)),U=void 0;if(If.test(Z))try{U=JSON.parse(pe),M=F=F?wf(F,U,y):Ur(m,U,y)}catch{}if($.slice(0,2)==="--"||U&&!U.hasNext){if(!F)return h(Ur(m,{},y));break}}O=(T=$).indexOf(g)}}var le;if(M&&(h(M),M=null),!Y.done&&(!F||F.hasNext))return v().then(X)}).finally(_)},d=!1,p=!1,f;return Promise.resolve().then(()=>{if(!d)return(i||fetch)(t,n)}).then(h=>{if(h)return p=(f=h).status<200||f.status>=r,u(o,e,f)}).then(a).catch(h=>{if(l)throw h;var m=Do(e,p&&f.statusText?new Error(f.statusText):h,f);o(m),a()}),()=>{d=!0,s&&s.abort()}})},Lo=(e,t)=>{if(Array.isArray(e))for(var n of e)Lo(n,t);else if(typeof e=="object"&&e!==null)for(var r in e)r==="__typename"&&typeof e[r]=="string"?t.add(e[r]):Lo(e[r],t);return t},Ts=e=>{if(!e.selectionSet)return e;for(var t of e.selectionSet.selections)if(t.kind===P.FIELD&&t.name.value==="__typename"&&!t.alias)return e;return{...e,selectionSet:{...e.selectionSet,selections:[...e.selectionSet.selections,{kind:P.FIELD,name:{kind:P.NAME,value:"__typename"}}]}}},Is=new Map,Of=e=>{var t=di(e),n=Is.get(t.__key);return n||(n=zl(t,{Field:Ts,InlineFragment:Ts}),Object.defineProperty(n,"__key",{value:t.__key,enumerable:!1}),Is.set(t.__key,n)),n},$o=(e,t)=>{if(!e||typeof e!="object")return e;if(Array.isArray(e))return e.map(i=>$o(i));if(e&&typeof e=="object"&&(t||"__typename"in e)){var n={};for(var r in e)r==="__typename"?Object.defineProperty(n,"__typename",{enumerable:!1,value:e.__typename}):n[r]=$o(e[r]);return n}else return e};function Ss(e){return e.toPromise=()=>new Promise(t=>{var n=He(r=>{!r.stale&&!r.hasNext&&Promise.resolve().then(()=>{n.unsubscribe(),t(r)})})(e)}),e}function qt(e,t,n){return n||(n=t.context),{key:t.key,query:t.query,variables:t.variables,kind:e,context:n}}var Cs=(e,t)=>qt(e.kind,e,{...e.context,meta:{...e.context.meta,...t}}),Af=()=>{},Os=(e,t,n)=>{for(var r of n)if(r.kind===P.FRAGMENT_DEFINITION){var i=r.name.value,o=br(r);e.has(i)||(e.set(i,o),t.push(r))}else t.push(r)};function Ri(){for(var e=new Map,t=[],n=[],r=Array.isArray(arguments[0])?arguments[0][0]:arguments[0]||"",i=1;i<arguments.length;i++){var o=arguments[i];o&&o.definitions?n.push(...o.definitions):r+=o,r+=arguments[0][i]}return Os(e,t,di(r).definitions),Os(e,t,n),di({kind:P.DOCUMENT,definitions:t})}var ro=({kind:e})=>e!=="mutation"&&e!=="query",Hl=({forward:e,client:t,dispatchDebug:n})=>{var r=new Map,i=new Map,o=s=>{var l=qt(s.kind,s);return l.query=Of(s.query),l},a=s=>{var{key:l,kind:u,context:{requestPolicy:d}}=s;return u==="query"&&d!=="network-only"&&(d==="cache-only"||r.has(l))};return s=>{var l=Ue(s),u=Ie(p=>{var f=r.get(p.key),h={...f,operation:Cs(p,{cacheOutcome:f?"hit":"miss"})};return p.context.requestPolicy==="cache-and-network"&&(h.stale=!0,As(t,p)),h})(ee(p=>!ro(p)&&a(p))(l)),d=et(p=>{var{operation:f}=p;if(f){var h=(T=>[...Lo(T,new Set)])(p.data).concat(f.context.additionalTypenames||[]);if(p.operation.kind==="mutation"){for(var m=new Set,y=0;y<h.length;y++){var x=h[y],g=i.get(x);g||i.set(x,g=new Set);for(var b of g.values())m.add(b);g.clear()}for(var v of m.values())r.has(v)&&(f=r.get(v).operation,r.delete(v),As(t,f))}else if(f.kind==="query"&&p.data){r.set(f.key,p);for(var _=0;_<h.length;_++){var w=h[_],N=i.get(w);N||i.set(w,N=new Set),N.add(f.key)}}}})(e(ee(p=>p.kind!=="query"||p.context.requestPolicy!=="cache-only")(Ie(p=>Cs(p,{cacheOutcome:"miss"}))(Ye([Ie(o)(ee(p=>!ro(p)&&!a(p))(l)),ee(p=>ro(p))(l)])))));return Ye([u,d])}},As=(e,t)=>e.reexecuteOperation(qt(t.kind,t,{...t.context,requestPolicy:"network-only"})),Rf=({forwardSubscription:e,enableAllOperations:t,isSubscriptionOperation:n})=>({client:r,forward:i})=>{var o=n||(a=>{var{kind:s}=a;return s==="subscription"||!!t&&(s==="query"||s==="mutation")});return a=>{var s=Ue(a),l=yr(d=>{var{key:p}=d,f=ee(h=>h.kind==="teardown"&&h.key===p)(s);return Nn(f)((h=>{var m=e({key:h.key.toString(36),query:br(h.query),variables:h.variables,context:{...h.context}});return Wt(({next:y,complete:x})=>{var g=!1,b;return Promise.resolve().then(()=>{g||(b=m.subscribe({next:v=>y(Ur(h,v)),error:v=>y(Do(h,v)),complete:()=>{g||(g=!0,h.kind==="subscription"&&r.reexecuteOperation(qt("teardown",h,h.context)),x())}}))}),()=>{g=!0,b&&b.unsubscribe()}})})(d))})(ee(o)(s)),u=i(ee(d=>!o(d))(s));return Ye([l,u])}},Ql=({forward:e,dispatchDebug:t})=>{var n=new Set,r=o=>{var{key:a,kind:s}=o;if(s==="teardown"||s==="mutation")return n.delete(a),!0;var l=n.has(a);return n.add(a),!l},i=({operation:o,hasNext:a})=>{a||n.delete(o.key)};return o=>{var a=ee(r)(o);return et(i)(e(a))}},Yl=({forward:e,dispatchDebug:t})=>n=>{var r=Ue(n),i=yr(a=>{var{key:s}=a,l=kf(a),u=Ef(a,l),d=Nf(a,l),p=Nn(ee(f=>f.kind==="teardown"&&f.key===s)(r))(Cf(a,u,d));return p})(ee(a=>a.kind==="query"||a.kind==="mutation")(r)),o=e(ee(a=>a.kind!=="query"&&a.kind!=="mutation")(r));return Ye([i,o])},Pf=e=>({client:t,forward:n,dispatchDebug:r})=>e.reduceRight((i,o)=>o({client:t,forward:i,dispatchDebug(a){}}),n),Df=[Ql,Hl,Yl],Lf=({dispatchDebug:e})=>t=>ee(()=>!1)(et(n=>{if(n.kind!=="teardown"&&!1)var r})(t)),$f=function e(t){var n=0,r=new Map,i=new Map,o=[],a={url:t.url,fetchOptions:t.fetchOptions,fetch:t.fetch,preferGetMethod:!!t.preferGetMethod,requestPolicy:t.requestPolicy||"cache-first"},{source:s,next:l}=ha(),u=!1;function d(g){if(g&&l(g),!u){for(u=!0;u&&(g=o.shift());)l(g);u=!1}}var p=g=>{var b=ee(v=>v.operation.kind===g.kind&&v.operation.key===g.key&&(!v.operation.context._instance||v.operation.context._instance===g.context._instance))(x);return t.maskTypename&&(b=Ie(v=>({...v,data:$o(v.data,!0)}))(b)),g.kind==="mutation"?Zn(1)(Xn(()=>l(g))(b)):Ue(Kn(()=>{r.delete(g.key),i.delete(g.key);for(var v=o.length-1;v>=0;v--)o[v].key===g.key&&o.splice(v,1);l(qt("teardown",g,g.context))})(et(v=>{r.set(g.key,v)})(Ol(v=>g.kind!=="query"||v.stale?er(v):Ye([er(v),Ie(()=>({...v,stale:!0}))(Zn(1)(ee(_=>_.kind==="query"&&_.key===g.key&&_.context.requestPolicy!=="cache-only")(s)))]))(Nn(ee(v=>v.kind==="teardown"&&v.key===g.key)(s))(b)))))},f=this instanceof e?this:Object.create(e.prototype),h=Object.assign(f,{suspense:!!t.suspense,operations$:s,reexecuteOperation(g){(g.kind==="mutation"||i.has(g.key))&&(o.push(g),Promise.resolve().then(d))},createRequestOperation(g,b,v){return v||(v={}),qt(g,b,{_instance:g==="mutation"?n=n+1|0:void 0,...a,...v,requestPolicy:v.requestPolicy||a.requestPolicy,suspense:v.suspense||v.suspense!==!1&&h.suspense})},executeRequestOperation(g){return g.kind==="mutation"?p(g):Wt(b=>{var v=i.get(g.key);v||i.set(g.key,v=p(g));var _=g.context.requestPolicy==="cache-and-network"||g.context.requestPolicy==="network-only";return He(b.next)(Kn(()=>{u=!1,b.complete()})(Xn(()=>{var w=r.get(g.key);if(g.kind==="subscription")return d(g);_&&d(g),w!=null&&w===r.get(g.key)?b.next(_?{...w,stale:!0}:w):_||d(g)})(v))).unsubscribe})},executeQuery(g,b){var v=h.createRequestOperation("query",g,b);return h.executeRequestOperation(v)},executeSubscription(g,b){var v=h.createRequestOperation("subscription",g,b);return h.executeRequestOperation(v)},executeMutation(g,b){var v=h.createRequestOperation("mutation",g,b);return h.executeRequestOperation(v)},query(g,b,v){return(!v||typeof v.suspense!="boolean")&&(v={...v,suspense:!1}),Ss(h.executeQuery(no(g,b),v))},readQuery(g,b,v){var _=null;return He(w=>{_=w})(h.query(g,b,v)).unsubscribe(),_},subscription:(g,b,v)=>h.executeSubscription(no(g,b),v),mutation:(g,b,v)=>Ss(h.executeMutation(no(g,b),v))}),m=Af,y=Pf(t.exchanges!==void 0?t.exchanges:Df),x=Ue(y({client:h,dispatchDebug:m,forward:Lf({dispatchDebug:m})})(s));return Al(x),h},Mf={NAME:"Name",DOCUMENT:"Document",OPERATION_DEFINITION:"OperationDefinition",VARIABLE_DEFINITION:"VariableDefinition",SELECTION_SET:"SelectionSet",FIELD:"Field",ARGUMENT:"Argument",FRAGMENT_SPREAD:"FragmentSpread",INLINE_FRAGMENT:"InlineFragment",FRAGMENT_DEFINITION:"FragmentDefinition",VARIABLE:"Variable",INT:"IntValue",FLOAT:"FloatValue",STRING:"StringValue",BOOLEAN:"BooleanValue",NULL:"NullValue",ENUM:"EnumValue",LIST:"ListValue",OBJECT:"ObjectValue",OBJECT_FIELD:"ObjectField",DIRECTIVE:"Directive",NAMED_TYPE:"NamedType",LIST_TYPE:"ListType",NON_NULL_TYPE:"NonNullType"};let Ff=class extends Error{constructor(t,n,r,i,o,a,s){super(t),this.name="GraphQLError",this.message=t,o&&(this.path=o),n&&(this.nodes=Array.isArray(n)?n:[n]),r&&(this.source=r),i&&(this.positions=i),a&&(this.originalError=a);var l=s;if(!l&&a){var u=a.extensions;u&&typeof u=="object"&&(l=u)}this.extensions=l||{}}toJSON(){return{...this,message:this.message}}toString(){return this.message}get[Symbol.toStringTag](){return"GraphQLError"}};var ce,G;function ve(e){return new Ff(`Syntax Error: Unexpected token at ${G} in ${e}`)}function Re(e){if(e.lastIndex=G,e.test(ce))return ce.slice(G,G=e.lastIndex)}var Sr=/ +(?=[^\s])/y;function Uf(e){for(var t=e.split(`
`),n="",r=0,i=0,o=t.length-1,a=0;a<t.length;a++)Sr.lastIndex=0,Sr.test(t[a])&&(a&&(!r||Sr.lastIndex<r)&&(r=Sr.lastIndex),i=i||a,o=a);for(var s=i;s<=o;s++)s!==i&&(n+=`
`),n+=t[s].slice(r).replace(/\\"""/g,'"""');return n}function J(){for(var e=0|ce.charCodeAt(G++);e===9||e===10||e===13||e===32||e===35||e===44||e===65279;e=0|ce.charCodeAt(G++))if(e===35)for(;(e=ce.charCodeAt(G++))!==10&&e!==13;);G--}var Wl=/[_A-Za-z]\w*/y;function tt(){var e;if(e=Re(Wl))return{kind:"Name",value:e}}var qf=/(?:null|true|false)/y,Jl=/\$[_A-Za-z]\w*/y,jf=/-?\d+/y,Bf=/(?:\.\d+)?[eE][+-]?\d+|\.\d+/y,Vf=/\\/g,zf=/"""(?:"""|(?:[\s\S]*?[^\\])""")/y,Gf=/"(?:"|[^\r\n]*?[^\\]")/y;function pi(e){var t,n;if(n=Re(qf))t=n==="null"?{kind:"NullValue"}:{kind:"BooleanValue",value:n==="true"};else if(!e&&(n=Re(Jl)))t={kind:"Variable",name:{kind:"Name",value:n.slice(1)}};else if(n=Re(jf)){var r=n;(n=Re(Bf))?t={kind:"FloatValue",value:r+n}:t={kind:"IntValue",value:r}}else if(n=Re(Wl))t={kind:"EnumValue",value:n};else if(n=Re(zf))t={kind:"StringValue",value:Uf(n.slice(3,-3)),block:!0};else if(n=Re(Gf))t={kind:"StringValue",value:Vf.test(n)?JSON.parse(n):n.slice(1,-1),block:!1};else if(t=function(o){var a;if(ce.charCodeAt(G)===91){G++,J();for(var s=[];a=pi(o);)s.push(a);if(ce.charCodeAt(G++)!==93)throw ve("ListValue");return J(),{kind:"ListValue",values:s}}}(e)||function(o){if(ce.charCodeAt(G)===123){G++,J();for(var a=[],s;s=tt();){if(J(),ce.charCodeAt(G++)!==58)throw ve("ObjectField");J();var l=pi(o);if(!l)throw ve("ObjectField");a.push({kind:"ObjectField",name:s,value:l})}if(ce.charCodeAt(G++)!==125)throw ve("ObjectValue");return J(),{kind:"ObjectValue",fields:a}}}(e))return t;return J(),t}function Kl(e){var t=[];if(J(),ce.charCodeAt(G)===40){G++,J();for(var n;n=tt();){if(J(),ce.charCodeAt(G++)!==58)throw ve("Argument");J();var r=pi(e);if(!r)throw ve("Argument");t.push({kind:"Argument",name:n,value:r})}if(!t.length||ce.charCodeAt(G++)!==41)throw ve("Argument");J()}return t}function bn(e){var t=[];for(J();ce.charCodeAt(G)===64;){G++;var n=tt();if(!n)throw ve("Directive");J(),t.push({kind:"Directive",name:n,arguments:Kl(e)})}return t}function Hf(){var e=tt();if(e){J();var t;if(ce.charCodeAt(G)===58){if(G++,J(),t=e,!(e=tt()))throw ve("Field");J()}return{kind:"Field",alias:t,name:e,arguments:Kl(!1),directives:bn(!1),selectionSet:Pi()}}}function Xl(){var e;if(J(),ce.charCodeAt(G)===91){G++,J();var t=Xl();if(!t||ce.charCodeAt(G++)!==93)throw ve("ListType");e={kind:"ListType",type:t}}else if(e=tt())e={kind:"NamedType",name:e};else throw ve("NamedType");return J(),ce.charCodeAt(G)===33?(G++,J(),{kind:"NonNullType",type:e}):e}var Qf=/on/y;function Zl(){if(Re(Qf)){J();var e=tt();if(!e)throw ve("NamedType");return J(),{kind:"NamedType",name:e}}}var Yf=/\.\.\./y;function Wf(){if(Re(Yf)){J();var e=G,t;if((t=tt())&&t.value!=="on")return{kind:"FragmentSpread",name:t,directives:bn(!1)};G=e;var n=Zl(),r=bn(!1),i=Pi();if(!i)throw ve("InlineFragment");return{kind:"InlineFragment",typeCondition:n,directives:r,selectionSet:i}}}function Pi(){var e;if(J(),ce.charCodeAt(G)===123){G++,J();for(var t=[];e=Wf()||Hf();)t.push(e);if(!t.length||ce.charCodeAt(G++)!==125)throw ve("SelectionSet");return J(),{kind:"SelectionSet",selections:t}}}var Jf=/fragment/y;function Kf(){if(Re(Jf)){J();var e=tt();if(!e)throw ve("FragmentDefinition");J();var t=Zl();if(!t)throw ve("FragmentDefinition");var n=bn(!1),r=Pi();if(!r)throw ve("FragmentDefinition");return{kind:"FragmentDefinition",name:e,typeCondition:t,directives:n,selectionSet:r}}}var Xf=/(?:query|mutation|subscription)/y;function Zf(){var e,t,n=[],r=[];(e=Re(Xf))&&(J(),t=tt(),n=function(){var a,s=[];if(J(),ce.charCodeAt(G)===40){for(G++,J();a=Re(Jl);){if(J(),ce.charCodeAt(G++)!==58)throw ve("VariableDefinition");var l=Xl(),u=void 0;if(ce.charCodeAt(G)===61&&(G++,J(),!(u=pi(!0))))throw ve("VariableDefinition");J(),s.push({kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:a.slice(1)}},type:l,defaultValue:u,directives:bn(!0)})}if(ce.charCodeAt(G++)!==41)throw ve("VariableDefinition");J()}return s}(),r=bn(!1));var i=Pi();if(i)return{kind:"OperationDefinition",operation:e||"query",name:t,variableDefinitions:n,directives:r,selectionSet:i}}function em(e,t){return ce=typeof e.body=="string"?e.body:e,G=0,function(){var r;J();for(var i=[];r=Kf()||Zf();)i.push(r);return{kind:"Document",definitions:i}}()}function tm(e){return JSON.stringify(e)}function nm(e){return`"""
`+e.replace(/"""/g,'\\"""')+`
"""`}var De=e=>!(!e||!e.length),Ne={OperationDefinition(e){if(e.operation==="query"&&!e.name&&!De(e.variableDefinitions)&&!De(e.directives))return Ne.SelectionSet(e.selectionSet);var t=e.operation;return e.name&&(t+=" "+e.name.value),De(e.variableDefinitions)&&(e.name||(t+=" "),t+="("+e.variableDefinitions.map(Ne.VariableDefinition).join(", ")+")"),De(e.directives)&&(t+=" "+e.directives.map(Ne.Directive).join(" ")),t+" "+Ne.SelectionSet(e.selectionSet)},VariableDefinition(e){var t=Ne.Variable(e.variable)+": "+Le(e.type);return e.defaultValue&&(t+=" = "+Le(e.defaultValue)),De(e.directives)&&(t+=" "+e.directives.map(Ne.Directive).join(" ")),t},Field(e){var t=(e.alias?e.alias.value+": ":"")+e.name.value;if(De(e.arguments)){var n=e.arguments.map(Ne.Argument),r=t+"("+n.join(", ")+")";t=r.length>80?t+`(
  `+n.join(`
`).replace(/\n/g,`
  `)+`
)`:r}return De(e.directives)&&(t+=" "+e.directives.map(Ne.Directive).join(" ")),e.selectionSet?t+" "+Ne.SelectionSet(e.selectionSet):t},StringValue:e=>e.block?nm(e.value):tm(e.value),BooleanValue:e=>""+e.value,NullValue:e=>"null",IntValue:e=>e.value,FloatValue:e=>e.value,EnumValue:e=>e.value,Name:e=>e.value,Variable:e=>"$"+e.name.value,ListValue:e=>"["+e.values.map(Le).join(", ")+"]",ObjectValue:e=>"{"+e.fields.map(Ne.ObjectField).join(", ")+"}",ObjectField:e=>e.name.value+": "+Le(e.value),Document:e=>De(e.definitions)?e.definitions.map(Le).join(`

`):"",SelectionSet:e=>`{
  `+e.selections.map(Le).join(`
`).replace(/\n/g,`
  `)+`
}`,Argument:e=>e.name.value+": "+Le(e.value),FragmentSpread(e){var t="..."+e.name.value;return De(e.directives)&&(t+=" "+e.directives.map(Ne.Directive).join(" ")),t},InlineFragment(e){var t="...";return e.typeCondition&&(t+=" on "+e.typeCondition.name.value),De(e.directives)&&(t+=" "+e.directives.map(Ne.Directive).join(" ")),t+" "+Le(e.selectionSet)},FragmentDefinition(e){var t="fragment "+e.name.value;return t+=" on "+e.typeCondition.name.value,De(e.directives)&&(t+=" "+e.directives.map(Ne.Directive).join(" ")),t+" "+Le(e.selectionSet)},Directive(e){var t="@"+e.name.value;return De(e.arguments)&&(t+="("+e.arguments.map(Ne.Argument).join(", ")+")"),t},NamedType:e=>e.name.value,ListType:e=>"["+Le(e.type)+"]",NonNullType:e=>Le(e.type)+"!"};function Le(e){return Ne[e.kind]?Ne[e.kind](e):""}var Mo=(e,t)=>{for(var n=0|(t||5381),r=0,i=0|e.length;r<i;r++)n=(n<<5)+n+e.charCodeAt(r);return n},qr=new Set,Rs=new WeakMap,rn=e=>{if(e===null||qr.has(e))return"null";if(typeof e!="object")return JSON.stringify(e)||"";if(e.toJSON)return rn(e.toJSON());if(Array.isArray(e)){var t="[";for(var n of e)t.length>1&&(t+=","),t+=rn(n)||"null";return t+="]"}else if(Ps!==hi&&e instanceof Ps||Ds!==hi&&e instanceof Ds)return"null";var r=Object.keys(e).sort();if(!r.length&&e.constructor&&e.constructor!==Object){var i=Rs.get(e)||Math.random().toString(36).slice(2);return Rs.set(e,i),rn({__key:i})}qr.add(e);var o="{";for(var a of r){var s=rn(e[a]);s&&(o.length>1&&(o+=","),o+=rn(a)+":"+s)}return qr.delete(e),o+="}"},rm=e=>(qr.clear(),rn(e));class hi{}var Ps=typeof File<"u"?File:hi,Ds=typeof Blob<"u"?Blob:hi,im=/("{3}[\s\S]*"{3}|"(?:\\.|[^"])*")/g,om=/(?:#[^\n\r]+)?(?:[\r\n]+|$)/g,am=(e,t)=>t%2==0?e.replace(om,`
`):e,Ls=e=>e.split(im).map(am).join("").trim(),$s=new Map,jr=new Map,eu=e=>{var t;return typeof e=="string"?t=Ls(e):e.loc&&jr.get(e.__key)===e?t=e.loc.source.body:(t=$s.get(e)||Ls(Le(e)),$s.set(e,t)),typeof e!="string"&&!e.loc&&(e.loc={start:0,end:t.length,source:{body:t,name:"gql",locationOffset:{line:1,column:1}}}),t},Ms=e=>{var t=Mo(eu(e));if(e.definitions){var n=lm(e);n&&(t=Mo(`
# ${n}`,t))}return t},sm=e=>{var t,n;return typeof e=="string"?(t=Ms(e),n=jr.get(t)||em(e)):(t=e.__key||Ms(e),n=jr.get(t)||e),n.loc||eu(n),n.__key=t,jr.set(t,n),n},cm=(e,t,n)=>{var r=t||{},i=sm(e),o=rm(r),a=i.__key;return o!=="{}"&&(a=Mo(o,a)),{key:a,query:i,variables:r,extensions:n}},lm=e=>{for(var t of e.definitions)if(t.kind===Mf.OPERATION_DEFINITION)return t.name?t.name.value:void 0};typeof TextDecoder<"u"&&new TextDecoder;function um(e,t,n){return{...t,kind:e,context:t.context?{...t.context,...n}:n||t.context}}const io=(e,t)=>um(e.kind,e,{...e.context,authAttempt:t});function dm({addAuthToOperation:e,getAuth:t,didAuthError:n,willAuthError:r}){return({client:i,forward:o})=>{const a=new Map,{source:s,next:l}=ha();let u=null;return d=>{function p(_,w,N){const T=i.createRequestOperation("mutation",cm(_,w),N);return Rl(Zn(1)(ee(I=>I.operation.key===T.key)(Xn(()=>l(T))(v))))}const f=_=>{u=_,h=void 0,a.forEach(l),a.clear()};let h=Promise.resolve().then(()=>t({authState:u,mutate:p})).then(f);const m=_=>{_=io(_,!0),a.set(_.key,_),h||(h=t({authState:u,mutate:p}).then(f).catch(()=>f(null)))},y=Ue(d),x=ee(_=>_.kind==="teardown")(y),g=ee(_=>_.kind!=="teardown")(y),b=Ie(_=>e({operation:_,authState:u}))(Ye([s,yr(_=>{if(a.has(_.key))return gs;if(!h&&r&&r({operation:_,authState:u}))return m(_),gs;if(!h)return er(io(_,!1));const w=ee(N=>N.kind==="teardown"&&N.key===_.key)(y);return Nn(w)(Ie(()=>io(_,!1))(Sh(h)))})(g)])),v=Ue(o(Ye([b,x])));return ee(({error:_,operation:w})=>_&&n&&n({error:_,authState:u})&&!w.context.authAttempt?(m(w),!1):!0)(v)}}}function Ce(e){return e===null?"null":Array.isArray(e)?"array":typeof e}function Ct(e){return Ce(e)==="object"}function pm(e){return Array.isArray(e)&&e.length>0&&e.every(t=>"message"in t)}function Fs(e,t){return e.length<124?e:t}const hm="graphql-transport-ws";var Ae;(function(e){e[e.InternalServerError=4500]="InternalServerError",e[e.InternalClientError=4005]="InternalClientError",e[e.BadRequest=4400]="BadRequest",e[e.BadResponse=4004]="BadResponse",e[e.Unauthorized=4401]="Unauthorized",e[e.Forbidden=4403]="Forbidden",e[e.SubprotocolNotAcceptable=4406]="SubprotocolNotAcceptable",e[e.ConnectionInitialisationTimeout=4408]="ConnectionInitialisationTimeout",e[e.ConnectionAcknowledgementTimeout=4504]="ConnectionAcknowledgementTimeout",e[e.SubscriberAlreadyExists=4409]="SubscriberAlreadyExists",e[e.TooManyInitialisationRequests=4429]="TooManyInitialisationRequests"})(Ae||(Ae={}));var fe;(function(e){e.ConnectionInit="connection_init",e.ConnectionAck="connection_ack",e.Ping="ping",e.Pong="pong",e.Subscribe="subscribe",e.Next="next",e.Error="error",e.Complete="complete"})(fe||(fe={}));function tu(e){if(!Ct(e))throw new Error(`Message is expected to be an object, but got ${Ce(e)}`);if(!e.type)throw new Error("Message is missing the 'type' property");if(typeof e.type!="string")throw new Error(`Message is expects the 'type' property to be a string, but got ${Ce(e.type)}`);switch(e.type){case fe.ConnectionInit:case fe.ConnectionAck:case fe.Ping:case fe.Pong:{if(e.payload!=null&&!Ct(e.payload))throw new Error(`"${e.type}" message expects the 'payload' property to be an object or nullish or missing, but got "${e.payload}"`);break}case fe.Subscribe:{if(typeof e.id!="string")throw new Error(`"${e.type}" message expects the 'id' property to be a string, but got ${Ce(e.id)}`);if(!e.id)throw new Error(`"${e.type}" message requires a non-empty 'id' property`);if(!Ct(e.payload))throw new Error(`"${e.type}" message expects the 'payload' property to be an object, but got ${Ce(e.payload)}`);if(typeof e.payload.query!="string")throw new Error(`"${e.type}" message payload expects the 'query' property to be a string, but got ${Ce(e.payload.query)}`);if(e.payload.variables!=null&&!Ct(e.payload.variables))throw new Error(`"${e.type}" message payload expects the 'variables' property to be a an object or nullish or missing, but got ${Ce(e.payload.variables)}`);if(e.payload.operationName!=null&&Ce(e.payload.operationName)!=="string")throw new Error(`"${e.type}" message payload expects the 'operationName' property to be a string or nullish or missing, but got ${Ce(e.payload.operationName)}`);if(e.payload.extensions!=null&&!Ct(e.payload.extensions))throw new Error(`"${e.type}" message payload expects the 'extensions' property to be a an object or nullish or missing, but got ${Ce(e.payload.extensions)}`);break}case fe.Next:{if(typeof e.id!="string")throw new Error(`"${e.type}" message expects the 'id' property to be a string, but got ${Ce(e.id)}`);if(!e.id)throw new Error(`"${e.type}" message requires a non-empty 'id' property`);if(!Ct(e.payload))throw new Error(`"${e.type}" message expects the 'payload' property to be an object, but got ${Ce(e.payload)}`);break}case fe.Error:{if(typeof e.id!="string")throw new Error(`"${e.type}" message expects the 'id' property to be a string, but got ${Ce(e.id)}`);if(!e.id)throw new Error(`"${e.type}" message requires a non-empty 'id' property`);if(!pm(e.payload))throw new Error(`"${e.type}" message expects the 'payload' property to be an array of GraphQL errors, but got ${JSON.stringify(e.payload)}`);break}case fe.Complete:{if(typeof e.id!="string")throw new Error(`"${e.type}" message expects the 'id' property to be a string, but got ${Ce(e.id)}`);if(!e.id)throw new Error(`"${e.type}" message requires a non-empty 'id' property`);break}default:throw new Error(`Invalid message 'type' property "${e.type}"`)}return e}function fm(e,t){return tu(typeof e=="string"?JSON.parse(e,t):e)}function Ln(e,t){return tu(e),JSON.stringify(e,t)}var ln=globalThis&&globalThis.__await||function(e){return this instanceof ln?(this.v=e,this):new ln(e)},mm=globalThis&&globalThis.__asyncGenerator||function(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,o=[];return i={},a("next"),a("throw"),a("return"),i[Symbol.asyncIterator]=function(){return this},i;function a(f){r[f]&&(i[f]=function(h){return new Promise(function(m,y){o.push([f,h,m,y])>1||s(f,h)})})}function s(f,h){try{l(r[f](h))}catch(m){p(o[0][3],m)}}function l(f){f.value instanceof ln?Promise.resolve(f.value.v).then(u,d):p(o[0][2],f)}function u(f){s("next",f)}function d(f){s("throw",f)}function p(f,h){f(h),o.shift(),o.length&&s(o[0][0],o[0][1])}};function gm(e){const{url:t,connectionParams:n,lazy:r=!0,onNonLazyError:i=console.error,lazyCloseTimeout:o=0,keepAlive:a=0,disablePong:s,connectionAckWaitTimeout:l=0,retryAttempts:u=5,retryWait:d=async function(H){let $=1e3;for(let j=0;j<H;j++)$*=2;await new Promise(j=>setTimeout(j,$+Math.floor(Math.random()*(3e3-300)+300)))},shouldRetry:p=Cr,isFatalConnectionProblem:f,on:h,webSocketImpl:m,generateID:y=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,H=>{const $=Math.random()*16|0;return(H=="x"?$:$&3|8).toString(16)})},jsonMessageReplacer:x,jsonMessageReviver:g}=e;let b;if(m){if(!ym(m))throw new Error("Invalid WebSocket implementation provided");b=m}else typeof WebSocket<"u"?b=WebSocket:typeof global<"u"?b=global.WebSocket||global.MozWebSocket:typeof window<"u"&&(b=window.WebSocket||window.MozWebSocket);if(!b)throw new Error("WebSocket implementation missing; on Node you can `import WebSocket from 'ws';` and pass `webSocketImpl: WebSocket` to `createClient`");const v=b,_=(()=>{const O=(()=>{const $={};return{on(j,Z){return $[j]=Z,()=>{delete $[j]}},emit(j){var Z;"id"in j&&((Z=$[j.id])===null||Z===void 0||Z.call($,j))}}})(),H={connecting:h!=null&&h.connecting?[h.connecting]:[],opened:h!=null&&h.opened?[h.opened]:[],connected:h!=null&&h.connected?[h.connected]:[],ping:h!=null&&h.ping?[h.ping]:[],pong:h!=null&&h.pong?[h.pong]:[],message:h!=null&&h.message?[O.emit,h.message]:[O.emit],closed:h!=null&&h.closed?[h.closed]:[],error:h!=null&&h.error?[h.error]:[]};return{onMessage:O.on,on($,j){const Z=H[$];return Z.push(j),()=>{Z.splice(Z.indexOf(j),1)}},emit($,...j){for(const Z of[...H[$]])Z(...j)}}})();function w(O){const H=[_.on("error",$=>{H.forEach(j=>j()),O($)}),_.on("closed",$=>{H.forEach(j=>j()),O($)})]}let N,T=0,I,M=!1,F=0,X=!1;async function Y(){clearTimeout(I);const[O,H]=await(N??(N=new Promise((Z,pe)=>(async()=>{if(M){if(await d(F),!T)return N=void 0,pe({code:1e3,reason:"All Subscriptions Gone"});F++}_.emit("connecting");const U=new v(typeof t=="function"?await t():t,hm);let le,ot;function Tr(){isFinite(a)&&a>0&&(clearTimeout(ot),ot=setTimeout(()=>{U.readyState===v.OPEN&&(U.send(Ln({type:fe.Ping})),_.emit("ping",!1,void 0))},a))}w(xe=>{N=void 0,clearTimeout(le),clearTimeout(ot),pe(xe),Cr(xe)&&xe.code===4499&&(U.close(4499,"Terminated"),U.onerror=null,U.onclose=null)}),U.onerror=xe=>_.emit("error",xe),U.onclose=xe=>_.emit("closed",xe),U.onopen=async()=>{try{_.emit("opened",U);const xe=typeof n=="function"?await n():n;if(U.readyState!==v.OPEN)return;U.send(Ln(xe?{type:fe.ConnectionInit,payload:xe}:{type:fe.ConnectionInit},x)),isFinite(l)&&l>0&&(le=setTimeout(()=>{U.close(Ae.ConnectionAcknowledgementTimeout,"Connection acknowledgement timeout")},l)),Tr()}catch(xe){_.emit("error",xe),U.close(Ae.InternalClientError,Fs(xe instanceof Error?xe.message:new Error(xe).message,"Internal client error"))}};let Zt=!1;U.onmessage=({data:xe})=>{try{const we=fm(xe,g);if(_.emit("message",we),we.type==="ping"||we.type==="pong"){_.emit(we.type,!0,we.payload),we.type==="pong"?Tr():s||(U.send(Ln(we.payload?{type:fe.Pong,payload:we.payload}:{type:fe.Pong})),_.emit("pong",!1,we.payload));return}if(Zt)return;if(we.type!==fe.ConnectionAck)throw new Error(`First message cannot be of type ${we.type}`);clearTimeout(le),Zt=!0,_.emit("connected",U,we.payload),M=!1,F=0,Z([U,new Promise((Uw,Cd)=>w(Cd))])}catch(we){U.onmessage=null,_.emit("error",we),U.close(Ae.BadResponse,Fs(we instanceof Error?we.message:new Error(we).message,"Bad response"))}}})())));O.readyState===v.CLOSING&&await H;let $=()=>{};const j=new Promise(Z=>$=Z);return[O,$,Promise.race([j.then(()=>{if(!T){const Z=()=>O.close(1e3,"Normal Closure");isFinite(o)&&o>0?I=setTimeout(()=>{O.readyState===v.OPEN&&Z()},o):Z()}}),H])]}function te(O){if(Cr(O)&&(vm(O.code)||[Ae.InternalServerError,Ae.InternalClientError,Ae.BadRequest,Ae.BadResponse,Ae.Unauthorized,Ae.SubprotocolNotAcceptable,Ae.SubscriberAlreadyExists,Ae.TooManyInitialisationRequests].includes(O.code)))throw O;if(X)return!1;if(Cr(O)&&O.code===1e3)return T>0;if(!u||F>=u||!p(O)||f!=null&&f(O))throw O;return M=!0}return r||(async()=>{for(T++;;)try{const[,,O]=await Y();await O}catch(O){try{if(!te(O))return}catch(H){return i==null?void 0:i(H)}}})(),{on:_.on,subscribe(O,H){const $=y(O);let j=!1,Z=!1,pe=()=>{T--,j=!0};return(async()=>{for(T++;;)try{const[U,le,ot]=await Y();if(j)return le();const Tr=_.onMessage($,Zt=>{switch(Zt.type){case fe.Next:{H.next(Zt.payload);return}case fe.Error:{Z=!0,j=!0,H.error(Zt.payload),pe();return}case fe.Complete:{j=!0,pe();return}}});U.send(Ln({id:$,type:fe.Subscribe,payload:O},x)),pe=()=>{!j&&U.readyState===v.OPEN&&U.send(Ln({id:$,type:fe.Complete},x)),T--,j=!0,le()},await ot.finally(Tr);return}catch(U){if(!te(U))return}})().then(()=>{Z||H.complete()}).catch(U=>{H.error(U)}),()=>{j||pe()}},iterate(O){const H=[],$={done:!1,error:null,resolve:()=>{}},j=this.subscribe(O,{next(pe){H.push(pe),$.resolve()},error(pe){$.done=!0,$.error=pe,$.resolve()},complete(){$.done=!0,$.resolve()}}),Z=function(){return mm(this,arguments,function*(){for(;;){for(H.length||(yield ln(new Promise(le=>$.resolve=le)));H.length;)yield yield ln(H.shift());if($.error)throw $.error;if($.done)return yield ln(void 0)}})}();return Z.throw=async pe=>($.done||($.done=!0,$.error=pe,$.resolve()),{done:!0,value:void 0}),Z.return=async()=>(j(),{done:!0,value:void 0}),Z},async dispose(){if(X=!0,N){const[O]=await N;O.close(1e3,"Normal Closure")}},terminate(){N&&_.emit("closed",{code:4499,reason:"Terminated",wasClean:!1})}}}function Cr(e){return Ct(e)&&"code"in e&&"reason"in e}function vm(e){return[1e3,1001,1006,1005,1012,1013,1013].includes(e)?!1:e>=1e3&&e<=1999}function ym(e){return typeof e=="function"&&"constructor"in e&&"CLOSED"in e&&"CLOSING"in e&&"CONNECTING"in e&&"OPEN"in e}var oo;function nu(){return oo||(oo=xh({namespace:"truffle-injected-unprivileged-embed-api-v1",useDirectParent:!0})),oo}var bm="https://mycelium.staging.bio/graphql";async function _m(){return await nu().call("userGetAccessToken")}function Us(e={}){const t=e.url||bm,n=gm({url:t.replace("http","ws"),retryAttempts:99999,retryWait:async r=>{const i=Math.min((r+1)*400,5e3);await new Promise(o=>setTimeout(o,i))},shouldRetry:()=>!0});return new $f({url:t,exchanges:[Ql,Hl,dm({async getAuth({authState:r}){const i=r??{};if(i.userAccessToken||(i.userAccessToken=e.userAccessToken||await _m()),e.orgId)i.orgId=e.orgId;else{const o=JSON.parse(atob(i.userAccessToken.split(".")[1]));i.orgId=o.orgId}return i},addAuthToOperation({authState:r,operation:i}){const o=r,a=typeof i.context.fetchOptions=="function"?i.context.fetchOptions():i.context.fetchOptions||{},s={};return o.userAccessToken&&(s["x-access-token"]=o.userAccessToken),o.orgId&&(s["x-org-id"]=o.orgId),qt(i.kind,i,{...i.context,fetchOptions:{...a,headers:{...a.headers,...s}}})},didAuthError({error:r}){var o;return(o=r==null?void 0:r.graphQLErrors)==null?void 0:o.some(a=>{var s;return((s=a.extensions)==null?void 0:s.code)===401})},willAuthError(){return!1}}),Yl,Rf({forwardSubscription(r){return{subscribe:i=>({unsubscribe:n.subscribe(r,i)})}}})],...e.urqlOptions})}var va=class{constructor(e){this._observable=e,this._observers=[],this._subscription=null,this._hasGottenFirstValue=!1}_subscribeToObservable(){this._subscription=this._observable.subscribe({next:e=>{this._hasGottenFirstValue=!0,this._latestValue=e,this._observers.forEach(t=>{t.next(e)})},error:e=>{this._observers.forEach(t=>{var n;(n=t.error)==null||n.call(t,e)})},complete:()=>{this._observers.forEach(e=>{var t;(t=e.complete)==null||t.call(e)})}})}subscribe(e){this._subscription||this._subscribeToObservable(),this._observers.push(e),this._hasGottenFirstValue&&e.next(this._latestValue);let t=!1;return{unsubscribe:()=>{var n;this._observers=this._observers.filter(r=>r!==e),t=!0,this._observers.length===0&&((n=this._subscription)==null||n.unsubscribe(),this._subscription=null)},get closed(){return t}}}switch(e){this._subscription&&(this._subscription.unsubscribe(),this._subscription=null),this._observable=e,this._subscribeToObservable()}},xm=Ri`
  query SDKOrgQuery($id: ID, $slug: String) {
    org(input: { id: $id, slug: $slug }) {
      id
      slug
      name
    }
  }
`,wm=class{constructor(e,t){this._gqlClient=e,this._orgInput=t,this._observable=new va(this._getOrgObservable())}_getOrgObservable(){return Ci(this._gqlClient.query(xm,this._orgInput),Ie(e=>{var t;return(t=e.data)==null?void 0:t.org}),fa)}get gqlClient(){return this._gqlClient}set gqlClient(e){this._gqlClient=e}get observable(){return this._observable}},km=Ri`
  query SDKOrgUserQuery($id: ID, $userId: ID, $orgId: ID) {
    orgUser(input: { id: $id, userId: $userId, orgId: $orgId }) {
      id
      name
      # TODO: refactor this into a role client object
      roleConnection {
        nodes {
          id
          slug
          name
          permissionConnection {
            nodes {
              id
              filters
              action
              value
            }
          }
        }
      }
      # TODO: refactor this into a powerup client object
      activePowerupConnection {
        nodes {
          powerup {
            id
            slug
            jsx
            componentRels {
              props
            }
          }
        }
      }
    }
  }
`,Em=class{constructor(e,t){this._gqlClient=e,this._input=t,this._observable=new va(this._getOrgUserObservable())}_getOrgUserObservable(){return Ci(this._gqlClient.query(km,this._input),Ie(e=>{var t;return(t=e.data)==null?void 0:t.orgUser}),fa)}get observable(){return this._observable}get gqlClient(){return this._gqlClient}set gqlClient(e){this._gqlClient=e;const t=this._getOrgUserObservable();this._observable.switch(t)}},Nm=class{constructor(e){this._isAuthenticated=!1;const t=n=>{this._gqlClient=Us(n),this._user.gqlClient=this._gqlClient,this._orgUser.gqlClient=this._gqlClient,this._org.gqlClient=this._gqlClient};(!(e!=null&&e.userAccessToken)||!(e!=null&&e.orgId))&&nu().call("userOnAccessTokenChanged",n=>{t({userAccessToken:n,...e})},{immediate:!1}).catch(n=>console.warn("[@trufflehq/sdk] Failed to listen for access token changes",n)),this._gqlClient=Us(e),this._user=new Im(this._gqlClient),this._orgUser=new Em(this._gqlClient),this._org=new wm(this._gqlClient)}get isAuthenticated(){return this._isAuthenticated}get gqlClient(){return this._gqlClient}get user(){return this._user}get org(){return this._org}get orgUser(){return this._orgUser}},Tm=Ri`
  query SDKMeQuery {
    me {
      id
      name
      avatarImage {
        cdn
        prefix
        ext
        variations {
          postfix
          width
          height
        }
        aspectRatio
      }
    }
  }
`;Ri`
  mutation SDKUserAnonCreate {
    userLoginAnon {
      accessToken
    }
  }
`;var Im=class{constructor(e){this._gqlClient=e,this._observable=new va(this._getUserObservable())}_getUserObservable(){return Ci(this._gqlClient.query(Tm,{}),Ie(e=>{var t;return(t=e.data)==null?void 0:t.me}),fa)}get gqlClient(){return this._gqlClient}set gqlClient(e){this._gqlClient=e;const t=this._getUserObservable();this._observable.switch(t)}get observable(){return this._observable}};const Sm=Object.prototype.hasOwnProperty;function be(e){return Array.isArray(e)}function ru(e){return typeof e=="string"}function Me(e){return!!e&&typeof e=="object"&&!be(e)}function qe(e){return typeof e=="function"}function Ze(e){const t=typeof e;return e!==void 0&&t!=="object"&&t!=="function"}function iu(e){return typeof e=="boolean"}function jt(e){return e instanceof Promise}function Et(e){if(!e)return!1;if(be(e))return e.length===0;for(const t in e)if(Sm.call(e,t))return!1;return!0}const Cm=new Set(["boolean","string","number"]);function Om(e){return Cm.has(typeof e)}function Di(e){return!!e.parent}let Gn=0;const ou=[],Nt={current:void 0,inRemoteChange:!1};function Am(){ou.push(Nt.current),Gn++,Nt.current={}}function Rm(){Gn--,Gn<0&&(Gn=0),Nt.current=ou.pop()}function Br(e,t){if(Gn){const n=Nt.current;if(n){n.nodes||(n.nodes=new Map);const r=n.nodes.get(e);r?(r.track=r.track||t,r.num++):n.nodes.set(e,{node:e,track:t,num:1})}}}const Pm=Symbol.toPrimitive,_r=Symbol("isObservable"),Li=Symbol("isEvent"),ya=Symbol("getNode"),In=Symbol("delete"),fi=Symbol("opaque"),ba=Symbol("optimized"),Dm=new Map,qs=new Map;function au(e){const t=e.root,n=t.activate;n&&(t.activate=void 0,n())}function su(e,t){return Br(e,t),$i(e)}function $i(e){return au(e),Ge(e)}const js=[];function Ge(e){let t=0,n=e;for(;Di(n);)js[t++]=n.key,n=n.parent;let r=e.root._;for(let i=t-1;r&&i>=0;i--){const o=js[i];r=r instanceof Map||r instanceof WeakMap?r.get(o):r[o]}return r}function _n(e,t){var n;let r=(n=e.children)===null||n===void 0?void 0:n.get(t);return r||(r={root:e.root,parent:e,key:t},e.children||(e.children=new Map),e.children.set(t,r)),r}function cu(e){let t=Ge(e);if(!t)if(Di(e)){const n=cu(e.parent);t=n[e.key]={}}else t=e.root._={};return t}function Lm(e,t){let n=Me(e)?"id"in e?"id":"key"in e?"key":"_id"in e?"_id":"__id"in e?"__id":void 0:void 0;if(!n&&t.parent){const r=Ge(t.parent)[t.key+"_keyExtractor"];r&&qe(r)&&(n=r)}return n}let Hn,Qn=0,ao=!1,so=!1,Fo=[],nr=new Map;function $m(){nr.size>0&&Jt(!0)}function Mm(e,t){let n=e?JSON.parse(JSON.stringify(e)):{};for(let r=0;r<t.length;r++){const{path:i,prevAtPath:o}=t[r];let a=n;if(i.length>0){let s;for(s=0;s<i.length-1;s++)a=a[i[s]];a[i[s]]=o}else n=o}return n}function Fm(e,t){return function(){return Mm(e,t)}}function Yn(e,t,n,r,i){const o=new Map;_a(o,e,t,[],[],t,n,!0,r,i),lu(o,!0);const a=nr.get(e);a?a.value=t:nr.set(e,{value:t,prev:n,level:r,whenOptimizedOnlyIf:i}),Qn<=0&&uu()}function Um(e,t,n,r,i,o,a,s,l,u){if(s?t.listenersImmediate:t.listeners){const d={path:r,pathTypes:i,valueAtPath:o,prevAtPath:a},p=e.get(t);p&&r.length>0?p.changes.push(d):e.set(t,{level:l,value:n,whenOptimizedOnlyIf:u,changes:[d]})}}function _a(e,t,n,r,i,o,a,s,l,u){if(Um(e,t,n,r,i,o,a,s,l,u),t.parent){const d=t.parent;if(d){const p=Ge(d);_a(e,d,p,[t.key].concat(r),[be(n)?"array":"object"].concat(i),o,a,s,l+1,u)}}}function lu(e,t){const n=new Set;e.forEach(({changes:r,level:i,value:o,whenOptimizedOnlyIf:a},s)=>{const l=t?s.listenersImmediate:s.listeners;if(l){let u;const d=Array.from(l);for(let p=0;p<d.length;p++){const f=d[p],{track:h,noArgs:m,listener:y}=f;n.has(y)||(h===!0||h==="shallow"?i<=0:h!==ba||a&&i<=0)&&(!m&&!u&&(u={value:o,getPrevious:Fm(o,r),changes:r}),h||n.add(y),y(u))}}})}function uu(){const e=nr;nr=new Map;const t=new Map;e.forEach(({value:n,prev:r,level:i,whenOptimizedOnlyIf:o},a)=>{_a(t,a,n,[],[],n,r,!1,i,o)}),lu(t,!1)}function xa(e,t){t&&Fo.push(t),xr();try{e()}finally{Jt()}}function xr(){Qn++,Hn||(Hn=setTimeout($m,0))}function Jt(e){if(Qn--,Qn<=0||e)if(ao)so=!0;else{Hn&&(clearTimeout(Hn),Hn=void 0),Qn=0;const t=Fo;t.length&&(Fo=[]),ao=!0,uu(),ao=!1;for(let n=0;n<t.length;n++)t[n]();so&&(so=!1,Jt(!0))}}function Mi(e){return e&&!!e[_r]}function du(e,t){let n=e;return qe(n)&&(n=t?n(t):n()),Mi(n)?n.get():n}function pu(e){return e[ya]}function mi(e){return e&&(e[fi]=!0),e}function co(e,t){var n;const r=(n=pu(e))===null||n===void 0?void 0:n.root;r&&(r.locked=t)}function hu(e,t,n,r,i,o){let a=e,s=i;if(t.length>0)for(let l=0;l<t.length;l++){const u=t[l];if(l===t.length-1)a[u]!==r&&(a[u]=r);else if(a[u]===In){s&&(a[u]=s[u],o==null||o(t.slice(0,l+1),a[u]));break}else(a[u]===void 0||a[u]===null)&&(a[u]=n[l]==="array"?[]:{});a=a[u],s&&(s=s[u])}else e=r;return e}function Bs(e,t,n,r){let i=e,o=n;for(let a=0;a<t.length;a++){const s=t[a];i=i[s],o=o[s]}o===In?i.delete():r==="assign"&&i.assign&&Me(i.peek())?i.assign(o):i.set(o)}function fu(e,...t){xr();const n=mu(e,...t);return Jt(),n}function mu(e,...t){var n;if(!t.length)return e;for(let r=0;r<t.length;r++){const i=t[r],o=Mi(e),a=o?e.peek():e,s=be(a);if(!s&&Me(a)&&Me(i)&&!Et(a)||s&&be(i)&&a.length>0)for(const u in i){const d=i[u];if(d===In)o&&(!((n=e[u])===null||n===void 0)&&n.delete)?e[u].delete():delete e[u];else{const p=Me(d),f=!p&&be(d),h=e[u];(p||f)&&h&&(o||!Et(h))?!o&&(!h||(p?!Me(h):!be(h)))?e[u]=d:mu(h,d):o?h.set(d):e[u]=d}}else i!==void 0&&(o?e.set(i):e=i)}return e}function gu(e,t,n){let r;if(e.length>0){let i=r={};for(let o=0;o<e.length;o++){const a=e[o];i[a]=o===e.length-1?t:n[o]==="array"?[]:{},i=i[a]}}else r=t;return r}function vu(e,t){let n=t;for(let r=0;r<e.length;r++){const i=e[r];n=n[i]}return n}function qm(e){return!!e&&(!Me(e)&&!be(e)||!Et(e))}function wa(e,t,n={}){const{initial:r,immediate:i,noArgs:o}=n;let{trackingType:a}=n;a==="optimize"&&(a=ba);let s=i?e.listenersImmediate:e.listeners;s||(s=new Set,i?e.listenersImmediate=s:e.listeners=s),au(e);const l={listener:t,track:a,noArgs:o};s.add(l);let u=e.parent;for(;u&&!u.descendantHasListener;)u.descendantHasListener=!0,u=u.parent;if(r){const d=Ge(e);t({value:d,changes:[{path:[],pathTypes:[],prevAtPath:d,valueAtPath:d}],getPrevious:()=>{}})}return()=>s.delete(l)}function Vs(e,t,n,r){let i=[];return e==null||e.forEach(o=>{const{node:a,track:s}=o;i.push(wa(a,t,{trackingType:s,immediate:r,noArgs:n}))}),()=>{if(i){for(let o=0;o<i.length;o++)i[o]();i=void 0}}}function yu(e,t,n,r,i){let o,a,s,l,u,d=t,p=!0;return Mi(e)?(a=e.peek(),s=e.onChange(t,{noArgs:!0}),u=i&&e.onChange(t,{noArgs:!0})):(Am(),a=e&&du(e,n),l=Nt.current,o=l.nodes,Rm()),n!=null&&n.cancel||(s=Vs(o,d,p,r==null?void 0:r.immediate),u=i&&(()=>Vs(o,d,p))),{value:a,dispose:s,resubscribe:u}}const jm=new Set(["copyWithin","fill","from","pop","push","reverse","shift","sort","splice","unshift"]),Bm=new Set(["every","filter","find","findIndex","forEach","includes","join","map","some"]),Vm=new Set(["filter","find"]),zs=new Map,bu=new Map([["get",su],["set",Fi],["peek",$i],["onChange",wa],["assign",Qm],["delete",Ym],["toggle",Hm]]);function zm(e,t,n,...r){var i;const o=be(t)&&t.slice()||t,a=t[n].apply(t,r);if(e){const s=Di(e),l=s?e.key:"_",u=s?Ge(e.parent):e.root;u[l]=o,rr((i=e.parent)!==null&&i!==void 0?i:e,s?l:void 0,t)}return a}function Uo(e,t,n){if(Me(t)&&t[fi]||Me(n)&&n[fi]){const h=t!==n;return h&&(e.listeners||e.listenersImmediate)&&Yn(e,t,n,0),h}const r=be(t);let i,o;const a=t instanceof Map,s=t?a?Array.from(t.keys()):Object.keys(t):[],l=n?a?Array.from(n.keys()):Object.keys(n):[];let u,d,p=!1,f;if(r&&be(n)){if(n.length>0){const h=n[0];if(h!==void 0&&(u=Lm(h,e),u&&(d=qe(u),i=new Map,o=[],e.children)))for(let m=0;m<n.length;m++){const y=n[m];if(y){const x=e.children.get(m+"");if(x){const g=d?u(y):y[u];i.set(g,x)}}}}}else if(n&&(!t||t.hasOwnProperty)){const h=l.length;for(let m=0;m<h;m++){const y=l[m];if(!s.includes(y)){p=!0;const x=_n(e,y),g=a?n.get(y):n[y];g!==void 0&&(Ze(g)||Uo(x,void 0,g),(x.listeners||x.listenersImmediate)&&Yn(x,void 0,g,0))}}}if(t&&!Ze(t)){const h=s.length;p=p||(s==null?void 0:s.length)!==(l==null?void 0:l.length);const m=p;let y=!1;if(e.descendantHasListener||!p){for(let x=0;x<h;x++){const g=s[x],b=a?t.get(g):t[g],v=a?n==null?void 0:n.get(g):n==null?void 0:n[g];let _=b!==v;if(_){const w=u&&b?d?u(b):b[u]:void 0;let N=_n(e,g);if(r&&w!==void 0){const T=w!==void 0?i==null?void 0:i.get(w):void 0;if(!T)_=!1,p=!0;else if(T!==void 0&&T.key!==g){const I=n[T.key];m&&(N=T,e.children.delete(N.key),N.key=g,o.push([g,N])),y=!0,_=I!==b}}if(_)if(Ze(b))p=!0;else{const T=(!p||N.descendantHasListener)&&Uo(N,b,v);p=p||T}(_||!m)&&(N.listeners||N.listenersImmediate)&&Yn(N,b,v,0,!m)}}if(o)for(let x=0;x<o.length;x++){const[g,b]=o[x];e.children.set(g,b)}}f=p||y}else n!==void 0&&(f=!0);return f??!1}function ct(e,t){return t!==void 0&&(e=_n(e,t)),e.proxy||(e.proxy=new Proxy(e,Gm))}const Gm={get(e,t){if(t===Pm)throw new Error("[legend-state] observable is not a primitive.");if(t===_r)return!0;if(t===Li)return!1;if(t===ya)return e;const n=$i(e);if(n instanceof Map||n instanceof WeakMap||n instanceof Set||n instanceof WeakSet){const s=Wm(e,t,n);if(s!==void 0)return s}const r=bu.get(t);if(r)return function(s,l,u){switch(arguments.length){case 0:return r(e);case 1:return r(e,s);case 2:return r(e,s,l);default:return r(e,s,l,u)}};const i=zs.get(t);if(i)return i.get(e);const o=Ze(n);if((n==null||o)&&qs.size&&(e.isActivatedPrimitive||Dm.has(t))){e.isActivatedPrimitive=!0;const s=qs.get(t);if(s!==void 0)return qe(s)?s(ct(e)):s}const a=n==null?void 0:n[t];if(Me(n)&&n[fi])return a;if(qe(a)){if(be(n)){if(jm.has(t))return(...s)=>zm(e,n,t,...s);if(Bm.has(t))return Br(e),function(s,l){function u(d,p,f){return s(ct(e,p+""),p,f)}if(Vm.has(t)){const d=t==="find",p=[];for(let f=0;f<n.length;f++)if(u(n[f],f,n)){const h=ct(e,f+"");if(d)return h;p.push(h)}return d?void 0:p}else return n[t](u,l)}}return a.bind(n)}return Ze(a)&&be(n)&&t==="length"?(Br(e,!0),a):ct(e,t)},getPrototypeOf(e){const t=Ge(e);return t!==null&&typeof t=="object"?Reflect.getPrototypeOf(t):null},ownKeys(e){const t=Ge(e);if(Ze(t))return[];const n=t?Reflect.ownKeys(t):[];return Br(e,!0),be(t)&&n[n.length-1]==="length"&&n.splice(n.length-1,1),n},getOwnPropertyDescriptor(e,t){const n=Ge(e);return Ze(n)?void 0:Reflect.getOwnPropertyDescriptor(n,t)},set(e,t,n){if(e.isSetting)return Reflect.set(e,t,n);if(e.isAssigning)return rr(e,t,n),!0;const r=zs.get(t);return r?r.set(e,n):!1},deleteProperty(e,t){return e.isSetting?Reflect.deleteProperty(e,t):!1},has(e,t){const n=Ge(e);return Reflect.has(n,t)}};function Fi(e,t){return e.parent?rr(e.parent,e.key,t):rr(e,void 0,t)}function Hm(e){const t=Ge(e);if(t===void 0||iu(t))return Fi(e,!t),!t}function rr(e,t,n,r){if(e.root.locked&&!e.root.set)throw new Error("[legend-state] Modified locked observable");const i=n===In;i&&(n=void 0);const o=!e.parent&&t===void 0;o&&(t="_");const a=o?e:_n(e,t),s=o?e.root:cu(e),l=s[t],u=qe(n);n=!e.isAssigning&&u?n(l):Me(n)&&(n!=null&&n[_r])?n.peek():n;const d=Ze(n)||n instanceof Date;try{e.isSetting=(e.isSetting||0)+1,i?delete s[t]:s[t]=n}finally{e.isSetting--}return e.root.locked&&e.root.set&&e.root.set(e.root._),n!==l&&Vr(e,n,l,a,d,o,r),u?n:o?ct(e):ct(e,t)}function Qm(e,t){const n=ct(e);xr(),Ze(e.root._)&&(e.root._={}),e.isAssigning=(e.isAssigning||0)+1;try{Object.assign(n,t)}finally{e.isAssigning--}return Jt(),n}function Ym(e,t){t===void 0&&Di(e)&&(t=e.key,e=e.parent),rr(e,t,In,-1)}function Wm(e,t,n){const r=n==null?void 0:n[t];if(qe(r))return function(i,o,a){const s=arguments.length;if(t==="get"){if(s>0&&typeof i!="boolean"&&i!==ba)return ct(e,i)}else if(t==="set"){if(s===2){const u=n.get(i),d=n.set(i,o);return u!==o&&Vr(_n(e,i),o,u),d}}else if(t==="delete"){if(s>0){const u=n.get?n.get(i):i,d=n.delete(i);return d&&Vr(_n(e,i),void 0,u),d}}else if(t==="clear"){const u=new Map(n),d=n.size;n.clear(),d&&Vr(e,n,u);return}else if(t==="add"){const u=new Set(n),d=n.add(i);return n.has(t)||Yn(e,d,u,0),d}const l=bu.get(t);if(l)switch(s){case 0:return l(e);case 1:return l(e,i);case 2:return l(e,i,o);default:return l(e,i,o,a)}else return n[t](i,o)}}function Vr(e,t,n,r,i,o,a){r||(r=e),xr();let s=i,l=!1;(!i||n&&!Ze(n))&&(s=Uo(r,t,n),be(t)&&(l=(t==null?void 0:t.length)!==(n==null?void 0:n.length))),(i||!t||Et(t)?t!==n:s)&&Yn(i&&o?e:r,t,n,a??n===void 0?-1:s?0:1,l),Jt()}function it(e){this._node=e,this.set=this.set.bind(this),this.toggle=this.toggle.bind(this)}Object.defineProperty(it.prototype,ya,{configurable:!0,get(){return this._node}});Object.defineProperty(it.prototype,_r,{configurable:!0,value:!0});Object.defineProperty(it.prototype,Li,{configurable:!0,value:!1});it.prototype.peek=function(){return $i(this._node)};it.prototype.get=function(){return su(this._node)};it.prototype.set=function(e){return Fi(this._node,e)};it.prototype.toggle=function(){const e=this.peek();return(e===void 0||iu(e))&&this.set(!e),!e};it.prototype.delete=function(){return this.set(void 0),this};it.prototype.onChange=function(e,t){return wa(this._node,e,t)};function Jm(e,t){const n=jt(e),i={root:{_:n?void 0:e}},o=t||Om(e)?new it(i):ct(i);return n&&(e.catch(a=>{o.set({error:a})}),e.then(a=>{o.set(a)})),o}function re(e){return Jm(e)}function gi(e,t,n){let r;qe(t)?r=t:n=t;let i;const o={num:0},a=function(){o.onCleanup&&(o.onCleanup(),o.onCleanup=void 0),xr(),delete o.value,i==null||i();const{dispose:s,value:l}=yu(e,a,o,n);i=s,o.value=l,o.onCleanupReaction&&(o.onCleanupReaction(),o.onCleanupReaction=void 0),r&&(o.num>0||!(e!=null&&e[Li]))&&o.previous!==o.value&&r(o),o.previous=o.value,o.num++,Jt()};return a(),()=>{var s,l;(s=o.onCleanup)===null||s===void 0||s.call(o),o.onCleanup=void 0,(l=o.onCleanupReaction)===null||l===void 0||l.call(o),o.onCleanupReaction=void 0,i()}}function _e(e,t){const n=re();co(n,!0);const r=pu(n),i=function(o){o!==n.peek()&&(co(n,!1),Fi(r,o),co(n,!0))};return r.root.activate=()=>{gi(e,({value:o})=>{jt(o)?o.then(a=>i(a)):i(o)},{immediate:!0})},t&&(r.root.set=o=>{xa(()=>t(o))}),n}function Km(){const e=re(0);return{fire:function(){e.set(t=>t+1)},on:function(t){return e.onChange(t)},get:()=>e.get(),[_r]:!0,[Li]:!0}}function Xm(e,t,n){let r;function i(o){const a=du(e);(n?qm(a):a)&&(r=a,t==null||t(a),o.cancel=!0)}return gi(i),r!==void 0?Promise.resolve(r):new Promise(a=>{if(t){const s=t;t=l=>{const u=s(l);a(u)}}else t=a})}function ut(e,t){return Xm(e,t,!1)}var _u={exports:{}},lo={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gs;function Zm(){if(Gs)return lo;Gs=1;var e=fl;function t(p,f){return p===f&&(p!==0||1/p===1/f)||p!==p&&f!==f}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,i=e.useEffect,o=e.useLayoutEffect,a=e.useDebugValue;function s(p,f){var h=f(),m=r({inst:{value:h,getSnapshot:f}}),y=m[0].inst,x=m[1];return o(function(){y.value=h,y.getSnapshot=f,l(y)&&x({inst:y})},[p,h,f]),i(function(){return l(y)&&x({inst:y}),p(function(){l(y)&&x({inst:y})})},[p]),a(h),h}function l(p){var f=p.getSnapshot;p=p.value;try{var h=f();return!n(p,h)}catch{return!0}}function u(p,f){return f()}var d=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:s;return lo.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:d,lo}(function(e){e.exports=Zm()})(_u);function eg(){let e=0,t,n;const r=()=>{e++,t==null||t()};return{subscribe:i=>(t=i,()=>{n==null||n(),n=void 0}),getVersion:()=>e,run:i=>{n==null||n();const{value:o,dispose:a,resubscribe:s}=yu(i,r,void 0,void 0,!0);return n=a,o}}}function Hs(e){const t=ft();t.current||(t.current=eg());const{subscribe:n,getVersion:r,run:i}=t.current,o=i(e);return _u.exports.useSyncExternalStore(n,r,r),o}const Qs=typeof Symbol=="function"&&Symbol.for;function tg(e,t,n,r){const i=Qs?Symbol.for("react.forward_ref"):typeof Rt=="function"&&Rt(f=>null).$$typeof,o=Qs?Symbol.for("react.memo"):typeof Rt=="function"&&oi(f=>null).$$typeof;if(e.__legend_proxied)return e;let a=!1,s=!1,l=e;o&&l.$$typeof===o&&l.type&&(s=!0,l=l.type),i&&l.$$typeof===i&&(a=!0,l=l.render);const u={apply(f,h,m){if(n){const y=m[0],x={},g=Object.keys(y);for(let b=0;b<g.length;b++){const v=g[b],_=y[v];if(v.startsWith("$")||v.endsWith("$")){const w=v.endsWith("$")?v.slice(0,-1):v.slice(1);x[w]=Hs(_);const N=r==null?void 0:r[w];if(N&&Mi(_)){N.defaultValue!==void 0&&x[w]===void 0&&(x[w]=N.defaultValue);const T=I=>{var M;_.set(N.getValue(I)),(M=y[N.handler])===null||M===void 0||M.call(y,I)};x[N.handler]=Ft(T,[y[N.handler],r])}delete x[v]}else x[v]===void 0&&(x[v]=_)}m[0]=x}return t?Hs(()=>Reflect.apply(f,h,m)):Reflect.apply(f,h,m)}},d=new Proxy(l,u);let p;return a?(p=Rt(d),p.__legend_proxied=!0):p=d,t||s?oi(p):p}function B(e){return tg(e,!0)}function ng(e,t,n){!n&&be(t)&&(n=t,t=void 0);const r=ft({});return r.current.compute=e,r.current.set=t,de(()=>_e(()=>qe(r.current.compute)?r.current.compute():r.current.compute,t?i=>r.current.set(i):void 0),n||[])}const rg=e=>{Te(e,[])};function oe(e){return de(()=>re(qe(e)?e():e),[])}function ig(e){return rg(()=>e)}function og(e,t,n){let r;qe(t)?r=t:n=t;const i=ft();return i.current||(i.current={dispose:gi(e,r)}),i.current.selector=e,i.current.reaction=r,i.current||(i.current.dispose=gi(o=>{const{selector:a}=i.current;return qe(a)?a(o):a},o=>{var a,s;return(s=(a=i.current).reaction)===null||s===void 0?void 0:s.call(a,o)},n)),ig(()=>{var o,a;(a=(o=i.current)===null||o===void 0?void 0:o.dispose)===null||a===void 0||a.call(o),i.current=void 0}),i.current.dispose}const un={};function ag(e){Object.assign(un,e)}function xu(e,t,n){const r={};let i=r;for(let s=0;s<e.length;s++)i=i[e[s]]=s===e.length-1?null:t[s]==="array"?[]:{};let o=Pt(r,n);const a=[];for(let s=0;s<e.length;s++){const l=Object.keys(o)[0];a.push(l),o=o[l]}return a}function Pt(e,t){let n=e;if(e){if(e===In)return e;if(ru(e))return t[e];n={};const r=Object.keys(t).length===1&&t._dict;for(const i in e){let o=e[i];if(r)n[i]=Pt(o,r);else{const a=t[i];if(a===void 0)i!=="@"&&(n[i]=o);else if(a!==null){if(o!=null){if(t[i+"_val"]){const s=t[i+"_val"];be(o)?o=o.map(l=>s[l]):o=s[o]}else if(t[i+"_arr"]&&be(o)){const s=t[i+"_arr"];o=o.map(l=>Pt(l,s))}else if(Me(o)){if(t[i+"_obj"])o=Pt(o,t[i+"_obj"]);else if(t[i+"_dict"]){const s=t[i+"_dict"],l={};for(const u in o)l[u]=Pt(o[u],s);o=l}}}n[a]=o}}}}return n}function sg(e,t,n,r){const i=gu(t,e,n),o=Pt(i,r),a=xu(t,n,r);return{path:a,obj:vu(a,o)}}const Ys=new WeakMap;function vi(e){const t=Ys.get(e);if(t)return t;const n={};for(const r in e){const i=e[r];if(r==="_dict")n[r]=vi(i);else if(r.endsWith("_obj")||r.endsWith("_dict")||r.endsWith("_arr")||r.endsWith("_val")){const o=e[r.replace(/_obj|_dict|_arr|_val$/,"")],a=r.match(/_obj|_dict|_arr|_val$/)[0];n[o+a]=vi(i)}else typeof i=="string"&&(n[i]=r)}return Ys.set(e,n),n}const dn=new WeakMap,uo=re({inRemoteSync:!1});let qo=!1;const yi=new WeakMap,jo=new Set;function Ui(e){return ru(e)?{table:e,config:{name:e}}:{table:e.name,config:e}}function Bo(e,t){return jt(e)?e.then(t):t(e)}function Ws(e,t,n,{adjustData:r,fieldTransforms:i}){if(i||r!=null&&r.save){const o=()=>{if(i){const{obj:a,path:s}=sg(e,t,n,i);e=a,t=s}return{value:e,path:t}};if(r!=null&&r.save){const a=gu(t,e,n),s=r.save(a);return Bo(s,u=>(e=vu(t,u),o()))}return o()}return{value:e,path:t}}function ka(e,{adjustData:t,fieldTransforms:n}){if(n){const r=vi(n);e=Pt(e,r)}return t!=null&&t.load&&(e=t.load(e)),e}async function wu(e,t,n,r,i){const o=Array.from(jo);o.length>0&&await Promise.all(o);const{persistenceLocal:a}=t,s=r.local,{table:l,config:u}=Ui(s),d=yi.get(e),{modified:p,pending:f}=i;if(f||p&&(!d||p!==d.modified)){const m=Object.assign({},d,i);yi.set(e,m),await a.updateMetadata(l,m,u),p&&n.dateModified.set(p)}}function ku(e,t,n,r,i){t.timeoutSaveMetadata&&clearTimeout(t.timeoutSaveMetadata),t.timeoutSaveMetadata=setTimeout(()=>wu(e,t,n,r,i),30)}let bi=[];async function cg(){const e=bi;bi=[],(await Promise.all(e.map(lg))).forEach(ug)}async function lg(e){const{obsState:t,changes:n,localState:r,persistOptions:i,inRemoteChange:o,isApplyingPending:a}=e,s=i.local,{config:l}=Ui(s),u=i.remote,d=s&&!l.readonly&&!a&&t.isEnabledLocal.peek(),p=!o&&u&&!u.readonly&&t.isEnabledRemote.peek();if(d||p){if(d&&!t.isLoadedLocal.peek()){console.error("[legend-state] WARNING: An observable was changed before being loaded from persistence",s);return}const f=[],h=[],m=new Set;let y=[];for(let x=n.length-1;x>=0;x--){const{path:g}=n[x];let b=!1;if(m.size>0){for(let v=1;v<g.length;v++)if(m.has((v===g.length-1?g:g.slice(0,v+1)).join("/"))){b=!0;break}}if(!b){const v=g.join("/");m.add(v);const{prevAtPath:_,valueAtPath:w,pathTypes:N}=n[x];if(d){const T=Ws(w,g,N,l);y.push(Bo(T,({path:I,value:M})=>{I.includes(void 0)||f.push({path:I,pathTypes:N,prevAtPath:_,valueAtPath:M,pathStr:v})}))}if(p){const T=Ws(w,g,N,u);y.push(Bo(T,({path:I,value:M})=>{I.includes(void 0)||(r.pendingChanges||(r.pendingChanges={}),r.pendingChanges[v]||(r.pendingChanges[v]={p:_??null,t:N}),r.pendingChanges[v].v=w,h.push({path:I,pathTypes:N,prevAtPath:_,valueAtPath:M,pathStr:v}))}))}}}return y=y.filter(Boolean),y.length>0&&await Promise.all(y),{queuedChange:e,changesLocal:f,changesRemote:h}}}async function ug(e){var t,n;if(!e)return;const{queuedChange:r,changesLocal:i,changesRemote:o}=e,{obs:a,obsState:s,localState:l,persistOptions:u}=r,{persistenceLocal:d,persistenceRemote:p}=l,f=u.local,{table:h,config:m}=Ui(f),y=u.remote;if(o.length>0&&await wu(a,l,s,u,{pending:l.pendingChanges}),i.length>0){let x=d.set(h,i,m);x&&(x=x.then(()=>{jo.delete(x)}),jo.add(x),await x)}if(o.length>0){await ut(()=>s.isLoadedRemote.get()||y.allowSaveIfError&&s.remoteError.get());const x=await Promise.all(o.map(async g=>{const{path:b,valueAtPath:v,prevAtPath:_,pathTypes:w,pathStr:N}=g;return p.save({obs:a,state:s,options:u,path:b,pathTypes:w,valueAtPath:v,prevAtPath:_}).then(({changes:T,dateModified:I})=>({changes:T,dateModified:I,pathStr:N}))}));if(x.filter(Boolean).length>0){if(f){const g={},b=(t=d.getMetadata(h,m))===null||t===void 0?void 0:t.pending;let v=[];for(let _=0;_<x.length;_++){const w=x[_];if(w){const{changes:N,dateModified:T,pathStr:I}=w;b!=null&&b[I]&&(delete b[I],delete l.pendingChanges[I],g.pending=b),T&&(g.modified=T),N&&!Et(N)&&v.push(ka(N,u.remote))}}v.length>0&&(v.some(_=>jt(_))&&(v=await Promise.all(v)),Vo(()=>fu(a,...v))),f&&!Et(g)&&ku(a,l,s,u,g)}(n=l.onSaveRemote)===null||n===void 0||n.call(l)}}}function Js(e,t,n,r,{changes:i}){if(!qo){const o=Nt.inRemoteChange,a=n.isApplyingPending;bi.push({obs:e,obsState:t,localState:n,persistOptions:r,changes:i,inRemoteChange:o,isApplyingPending:a}),bi.length===1&&queueMicrotask(cg)}}function Vo(e){ut(()=>!uo.inRemoteSync.get(),()=>{uo.inRemoteSync.set(!0),Nt.inRemoteChange=!0,xa(e,()=>{Nt.inRemoteChange=!1,uo.inRemoteSync.set(!1)})})}async function dg(e,t,n,r){var i,o;const{local:a}=t,s=t.persistLocal||un.persistLocal;if(a){const{table:l,config:u}=Ui(a);if(!s)throw new Error("Local persistence is not configured");if(!dn.has(s)){const m=new s,y={persist:m,initialized:re(!1)};if(dn.set(s,y),m.initialize){const x=(i=m.initialize)===null||i===void 0?void 0:i.call(m,un.persistLocalOptions);jt(x)&&await x}y.initialized.set(!0)}const{persist:d,initialized:p}=dn.get(s);if(r.persistenceLocal=d,p.get()||await ut(p),d.loadTable){const m=d.loadTable(l,u);m&&await m}let f=d.getTable(l,u);const h=d.getMetadata(l,u);if(h&&(yi.set(e,h),r.pendingChanges=h.pending,n.dateModified.set(h.modified)),f!=null){let{adjustData:m,fieldTransforms:y}=u;if(y){const x=(o=d.getTableTransformed)===null||o===void 0?void 0:o.call(d,l,u);x&&(f=x,y=void 0)}f=ka(f,{adjustData:m,fieldTransforms:y}),jt(f)&&(f=await f),xa(()=>{qo=!0,fu(e,f)},()=>{qo=!1})}n.peek().clearLocal=()=>Promise.all([d.deleteTable(l,u),d.deleteMetadata(l,u)])}n.isLoadedLocal.set(!0)}function Eu(e,t){const{remote:n,local:r}=t,i=t.persistRemote||(un==null?void 0:un.persistRemote),o={},a=re({isLoadedLocal:!1,isLoadedRemote:!1,isEnabledLocal:!0,isEnabledRemote:!0,clearLocal:void 0,sync:()=>Promise.resolve(),getPendingChanges:()=>o.pendingChanges});if(r&&dg(e,t,a,o),n){if(!i)throw new Error("Remote persistence is not configured");dn.has(i)||dn.set(i,{persist:new i}),o.persistenceRemote=dn.get(i).persist;let s=!1;const l=async()=>{var u,d;if(!s){s=!0,o.onSaveRemote=(u=t.remote)===null||u===void 0?void 0:u.onSaveRemote;const p=(d=yi.get(e))===null||d===void 0?void 0:d.modified;o.persistenceRemote.listen({state:a,obs:e,options:t,dateModified:p,onLoad:()=>{a.isLoadedRemote.set(!0)},onChange:async({value:h,path:m,pathTypes:y,mode:x,dateModified:g})=>{if(h!==void 0){h=ka(h,n),jt(h)&&(h=await h);const b=n.fieldTransforms&&vi(n.fieldTransforms);if(m.length&&b&&(m=xu(m,y,b)),x==="dateModified")g&&!Et(h)&&Vo(()=>{Bs(e,m,h,"assign")});else{const v=o.pendingChanges;v&&Object.keys(v).forEach(_=>{const w=_.split("/").filter(I=>I!==""),{v:N,t:T}=v[_];h=hu(h,w,T,N,e.peek(),(I,M)=>{delete v[_],v[I.join("/")]={p:null,v:M,t:T.slice(0,I.length)}})}),Vo(()=>{Bs(e,m,h,x)})}}g&&r&&ku(e,o,a,t,{modified:g})}}),await ut(()=>a.isLoadedRemote.get()||n.allowSaveIfError&&a.remoteError.get());const f=o.pendingChanges;if(f&&!Et(f)){o.isApplyingPending=!0;const h=Object.keys(f),m=[];for(let y=0;y<h.length;y++){const x=h[y],g=x.split("/").filter(w=>w!==""),{p:b,v,t:_}=f[x];m.push({path:g,valueAtPath:v,prevAtPath:b,pathTypes:_})}Js(e,a,o,t,{value:e.peek(),getPrevious:()=>{},changes:m}),o.isApplyingPending=!1}}};n.manual?a.assign({sync:l}):ut(()=>!r||a.isLoadedLocal.get(),l)}return ut(a.isLoadedLocal,()=>{e.onChange(Js.bind(this,e,a,o,t))}),a}const po="__m";class pg{constructor(){this.data={}}getTable(t){if(!(typeof localStorage>"u")){if(this.data[t]===void 0)try{const n=localStorage.getItem(t);this.data[t]=n?JSON.parse(n):void 0}catch{console.error("[legend-state] ObservablePersistLocalStorage failed to parse",t)}return this.data[t]}}getMetadata(t){return this.getTable(t+po)}get(t,n){const r=this.getTable(t);return r==null?void 0:r[n]}set(t,n){this.data[t]||(this.data[t]={});for(let r=0;r<n.length;r++){const{path:i,valueAtPath:o,pathTypes:a}=n[r];this.data[t]=hu(this.data[t],i,a,o)}this.save(t)}updateMetadata(t,n){return this.setValue(t+po,n)}deleteTable(t){delete this.data[t],localStorage.removeItem(t)}deleteMetadata(t){this.deleteTable(t+po)}setValue(t,n){this.data[t]=n,this.save(t)}save(t){if(typeof localStorage>"u")return;const n=this.data[t];n!=null?localStorage.setItem(t,JSON.stringify(n)):localStorage.removeItem(t)}}var Un=(e=>(e.Staging="staging",e.Production="production",e.Local="local",e.Unknown="unknown",e))(Un||{});function ir(e){switch(_t()){case"local":return`http://localhost:8080/oauth/callback/${e}`;case"staging":return`https://app.staging.bio/oauth/callback/${e}`;case"production":return`https://app.truffle.vip/oauth/callback/${e}`;default:throw new Error(`Unknown env: ${_t()}`)}}function ne(){const e=_t();switch(e){case"local":return"http://localhost:50420/graphql";case"staging":return"https://mycelium.staging.bio/graphql";case"production":return"https://mycelium.truffle.vip/graphql";default:throw new Error(`Unknown env: ${e}`)}}function Nu(){const e=_t();switch(e){case"local":return"http://localhost:3000/graphql";case"staging":return"https://mothertree.staging.bio/graphql";case"production":return"https://mothertree.truffle.vip/graphql";default:throw new Error(`Unknown env: ${e}`)}}function _t(){const e=window.location.origin;return e.includes("truffle.vip")?"production":e.includes("staging.bio")||e.includes(".app-truffle-vip.pages.dev")?"staging":e.includes("localhost")?"local":"unknown"}function zo(e,t,n={}){let r=`${e}=${t};`;n.expires&&(r+=` expires=${n.expires.toUTCString()};`),n.path&&(r+=` path=${n.path};`),n.sameSite&&(r+=` sameSite=${n.sameSite};`),n.secure&&(r+=" secure;"),document.cookie=r}function Ea(e){const t=document.cookie.match(new RegExp("(^| )"+e+"=([^;]+)"));return t?t[2]:""}var hg=Object.defineProperty,fg=(e,t,n)=>t in e?hg(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,se=(e,t,n)=>(fg(e,typeof t!="symbol"?t+"":t,n),n),mg=class{constructor(e){se(this,"_isConnected"),se(this,"_messageHandler"),se(this,"_messageHandlerWrapper"),se(this,"_options"),this._options=e,this._isConnected=!1,this._messageHandler=()=>{},this._messageHandlerWrapper=t=>{var n;(n=this._options)!=null&&n.allowedOrigins&&!this._options.allowedOrigins.includes(t.origin)||this._messageHandler(t.data)}}get isConnected(){return this._isConnected}connect(){window.addEventListener("message",this._messageHandlerWrapper),this._isConnected=!0}disconnect(){window.removeEventListener("message",this._messageHandlerWrapper),this._isConnected=!1}sendMessage(e){var n,r,i;let t;if((n=this._options)!=null&&n.providerWindow?t=this._options.providerWindow:(r=this._options)!=null&&r.useDirectParent?t=window.parent:t=window.top,!t)throw new Error("No parent window to send message to");(i=this._options)!=null&&i.allowedOrigins?this._options.allowedOrigins.forEach(o=>{t.postMessage(e,o)}):t.postMessage(e,"*")}onMessage(e){this._messageHandler=e}},gg=class{constructor(e){se(this,"_isListening",!1),se(this,"_messageHandler",()=>{}),se(this,"_frameIdMap",new Map),se(this,"_options"),se(this,"_messageHandlerWrapper",t=>{var a;if((a=this._options)!=null&&a.allowedOrigins&&!this._options.allowedOrigins.includes(t.origin))return;const n=t.source;if(!n)throw new Error("Somehow the event source is null");const i={fromId:this._frameIdMap.get(t.source),event:t},o=s=>{n.postMessage(s,t.origin)};this._messageHandler(t.data,o,i)}),this._options=e}get isListening(){return this._isListening}listen(){window.addEventListener("message",this._messageHandlerWrapper),this._isListening=!0}close(){window.removeEventListener("message",this._messageHandlerWrapper),this._isListening=!1}onMessage(e){this._messageHandler=e}registerFrame(e,t){if(!(e!=null&&e.contentWindow))throw new Error("Frame must have a contentWindow");this._frameIdMap.set(e.contentWindow,t)}};function Na(){const e=new Uint8Array(16);return crypto.getRandomValues(e),Array.from(e,t=>t.toString(16).padStart(2,"0")).join("")}var Ke=(e=>(e.RPC_REQUEST="rpc-request",e.RPC_RESPONSE="rpc-response",e.RPC_CALLBACK_CALL="rpc-callback-call",e.RPC_CONNECT_REQUEST="rpc-connect-request",e.RPC_CONNECT_RESPONSE="rpc-connect-response",e))(Ke||{});function vg({namespace:e}){return{_transframe:!0,type:Ke.RPC_CONNECT_REQUEST,namespace:e}}function yg({namespace:e,methods:t}){return{_transframe:!0,type:Ke.RPC_CONNECT_RESPONSE,namespace:e,methods:t}}function bg({requestId:e,method:t,payload:n,namespace:r}){return{_transframe:!0,type:Ke.RPC_REQUEST,requestId:e??Na(),method:t,payload:n,namespace:r}}function _g({requestId:e,result:t,error:n=!1,namespace:r}){return{_transframe:!0,type:Ke.RPC_RESPONSE,requestId:e,result:t,error:n,namespace:r}}function xg(e){return{_transframeCallback:!0,callbackId:e}}function wg({callbackId:e,payload:t,namespace:n}){return{_transframe:!0,type:Ke.RPC_CALLBACK_CALL,callbackId:e,payload:t,namespace:n}}function Kt(e){return(e==null?void 0:e._transframe)===!0}function kg(e){return Kt(e)&&e.type===Ke.RPC_REQUEST}function Eg(e){return Kt(e)&&e.type===Ke.RPC_RESPONSE}function Ng(e){return Kt(e)&&e.type===Ke.RPC_CALLBACK_CALL}function Tg(e){return(e==null?void 0:e._transframeCallback)===!0}function Ig(e){return Kt(e)&&e.type===Ke.RPC_CONNECT_REQUEST}function Sg(e){return Kt(e)&&e.type===Ke.RPC_CONNECT_RESPONSE}var Cg=3e3,Og=50,Ag=60,Rg=class{constructor(e,t){var n;this._interface=e,se(this,"_options"),se(this,"_api"),se(this,"_requestCallbacks",new Map),se(this,"_rpcCallbacks",new Map),se(this,"_availableMethods",new Set),se(this,"_isConnected",!1),se(this,"_isConnecting",!1),se(this,"_apiCallQueue",[]),se(this,"_buildApi",()=>new Proxy({},{get:(i,o,a)=>["Symbol(Symbol.toPrimitive)","then"].includes(String(o))?Reflect.get(i,o,a):(...s)=>this.call(o,...s)})),se(this,"connect",async()=>{var o;if(this._isConnecting||this._isConnected)return;this._interface.connect();const r=vg({namespace:(o=this._options)==null?void 0:o.namespace});this._isConnecting=!0;const i=await new Promise((a,s)=>{this._requestCallbacks.set("connect",[a,s]);let l=0;const u=()=>{this._interface.sendMessage(r),l++};u();const d=setInterval(()=>{var p;this._isConnected?clearInterval(d):l<Ag?u():(clearInterval(d),this._requestCallbacks.delete("connect"),this._isConnected=!1,this._isConnecting=!1,this._apiCallQueue.forEach(([,f])=>{var h;return f(new Error(`Failed to call api method: could not connect to provider ${((h=this._options)==null?void 0:h.namespace)??""}`))}),s(new Error(`Could not connect to provider ${((p=this._options)==null?void 0:p.namespace)??""}`)))},Og)});this._availableMethods.clear(),i.forEach(a=>this._availableMethods.add(a)),this._isConnected=!0,this._isConnecting=!1,this._processApiCallQueue()}),se(this,"_messageHandler",r=>{var i;if(Kt(r)&&r.namespace===((i=this._options)==null?void 0:i.namespace)){if(Eg(r)){const[o,a]=this._requestCallbacks.get(r.requestId)??[];if(!(o&&a))return;r.error?a(r.result):o(r.result),this._requestCallbacks.delete(r.requestId)}else if(Ng(r)){const o=this._rpcCallbacks.get(r.callbackId);if(!o)return;o(...r.payload)}else if(Sg(r)){const[o,a]=this._requestCallbacks.get("connect")??[];if(!(o&&a))return;o(r.methods),this._requestCallbacks.delete("connect")}}}),se(this,"call",async(r,...i)=>{var u;if(!this._isConnected&&!this._isConnecting)throw new Error("Cannot call any api methods: Not connected to provider");this._isConnecting&&await new Promise((d,p)=>{this._apiCallQueue.push([d,p])});const o=String(r);if(!this.hasMethod(o))throw new Error(`Method ${o} is not available`);const a=i.map(d=>{if(typeof d=="function"){const p=Na();return this._rpcCallbacks.set(p,d),xg(p)}else return d}),s=bg({method:o,payload:a,namespace:(u=this._options)==null?void 0:u.namespace});return this._interface.sendMessage(s),await Promise.race([new Promise((d,p)=>{this._requestCallbacks.set(s.requestId,[d,p])}),new Promise((d,p)=>{var f;setTimeout(()=>{p(new Error("RPC request timed out. Check that you can connect to the provider and that the method exists."))},((f=this._options)==null?void 0:f.apiCallTimeout)??Cg)})])}),this._options=t,this._api=this._buildApi(),this._interface.onMessage(this._messageHandler),((n=this._options)==null?void 0:n.connectImmediately)!==!1&&this.connect()}_processApiCallQueue(){this._apiCallQueue.forEach(([e])=>e()),this._apiCallQueue=[]}get api(){return this._api}get isConnected(){return this._isConnected&&this._interface.isConnected}hasMethod(e){return this._availableMethods.has(e)}},Pg=class{constructor(e,t){this._interface=e,se(this,"_options"),se(this,"registerFrame",(n,r)=>(r??(r=Na()),this._interface.registerFrame(n,r),r)),se(this,"listen",()=>{this._interface.listen()}),se(this,"close",()=>{this._interface.close()}),se(this,"_messageHandler",async(n,r,i)=>{if(Kt(n)&&n.namespace===this._options.namespace&&!(this._options.strictMode&&i.fromId==null)){if(kg(n)){const o=n.payload.map(d=>{if(Tg(d)){const p=d.callbackId;return(...h)=>{const m=wg({callbackId:p,payload:h,namespace:this._options.namespace});r(m)}}else return d}),a=this._options.api[n.method];if(!a)return;let s=!1,l;try{l=await a(i,...o)}catch(d){s=!0,l=d}const u=_g({requestId:n.requestId,result:l,error:s,namespace:this._options.namespace});r(u)}else if(Ig(n)){const o=Object.keys(this._options.api),a=yg({methods:o,namespace:n.namespace});r(a)}}}),this._options=t,this._interface.onMessage(this._messageHandler),(this._options.listenImmediately??!0)&&this.listen()}get isListening(){return this._interface.isListening}get api(){return this._options.api}};function Tu(e){if(!("window"in globalThis))throw new Error('Transframe: global "window" not available. Cannot initialize a provider.');return new Pg(new gg(e),e)}function Ta(e){if(!("window"in globalThis))throw new Error('Transframe: global "window" not available. Cannot initialize a consumer.');return new Rg(new mg(e),e)}const Iu=Ta({providerWindow:window,namespace:"truffle-privileged-api-v1",connectImmediately:!1});Iu.connect().catch(e=>{});const Tt=Iu.api;function ke(e,t="value"){return n=>e.set(n.target[t])}function Ks(){return new Date(Date.now()+31536e6)}function Dg(e,t=navigator.language){const n=typeof e=="string"?new Date(e).getTime():typeof e=="number"?e:e.getTime(),r=Math.round((n-Date.now())/1e3),i=[60,3600,86400,86400*7,86400*30,86400*365,1/0],o=["second","minute","hour","day","week","month","year"],a=i.findIndex(u=>u>Math.abs(r)),s=a?i[a-1]:1;return new Intl.RelativeTimeFormat(t,{numeric:"always",style:"short"}).format(Math.floor(r/s),o[a])}const Su="globalAccessToken",Xs="savedAnonAccessToken",Lg=1e3;async function $g(){let e=Ea(Su);if(e)Fg(e);else try{e=await Mg()}catch{e=await Ou()}return e}function Mg(){return Promise.race([Tt.getGlobalUserAccessToken(),new Promise((e,t)=>{setTimeout(()=>{t(new Error("Timed out waiting for access token"))},Lg)})])}function Fg(e){try{Tt.getGlobalUserAccessToken().then(t=>{t!==e&&Cu(e)})}catch{}}async function Cu(e,{shouldSkipExtension:t=!1}={}){return e=e||await Ou(),t||Tt.setGlobalUserAccessToken(e).catch(n=>{}),Au(Su,e),e}async function Ug(){const e=`
    mutation UserAnonCreate {
      userLoginAnon {
        accessToken
      }
    }
  `,{data:t,error:n}=await fetch(ne(),{method:"POST",body:JSON.stringify({query:e})}).then(r=>r.json());if(!(t!=null&&t.userLoginAnon))throw new Error("Failed to get anonymous access token",{cause:n});return t.userLoginAnon.accessToken}async function Ou(){let e=Ea(Xs);return e||(e=await Ug(),Au(Xs,e)),e}function Au(e,t){zo(e,t,{expires:Ks(),secure:_t()!==Un.Local,sameSite:_t()===Un.Local?"lax":"none",path:"/"}),zo(e,t,{expires:Ks(),secure:_t()!==Un.Local,sameSite:_t()===Un.Local?"lax":"none",path:"/auth"})}const nt=re($g()),Ru=_e(()=>{const e=nt.get();if(!e)return{};const[t,n,r]=e.split(".");return JSON.parse(atob(n))}),Sn=_e(()=>!Ru.get().isAnon);_e(()=>!!Ru.get().userId);function Ia(){return ut(nt)}async function wr(e,{shouldSkipExtension:t=!1}={}){const n=await Cu(e,{shouldSkipExtension:t});nt.set(n)}Tt.onGlobalUserAccessTokenChanged(e=>{wr(e,{shouldSkipExtension:!0})}).catch(()=>null);const Cn=_e(()=>mi(new Nm({url:Nu(),userAccessToken:nt.get()})));function Qe(){return Cn.peek()}function zr(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?zr=function(n){return typeof n}:zr=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},zr(e)}function qg(e){return zr(e)=="object"&&e!==null}var Pu=typeof Symbol=="function"&&Symbol.toStringTag!=null?Symbol.toStringTag:"@@toStringTag";function Go(e,t){for(var n=/\r\n|[\n\r]/g,r=1,i=t+1,o;(o=n.exec(e.body))&&o.index<t;)r+=1,i=t+1-(o.index+o[0].length);return{line:r,column:i}}function jg(e){return Du(e.source,Go(e.source,e.start))}function Du(e,t){var n=e.locationOffset.column-1,r=Gr(n)+e.body,i=t.line-1,o=e.locationOffset.line-1,a=t.line+o,s=t.line===1?n:0,l=t.column+s,u="".concat(e.name,":").concat(a,":").concat(l,`
`),d=r.split(/\r\n|[\n\r]/g),p=d[i];if(p.length>120){for(var f=Math.floor(l/80),h=l%80,m=[],y=0;y<p.length;y+=80)m.push(p.slice(y,y+80));return u+Zs([["".concat(a),m[0]]].concat(m.slice(1,f+1).map(function(x){return["",x]}),[[" ",Gr(h-1)+"^"],["",m[f+1]]]))}return u+Zs([["".concat(a-1),d[i-1]],["".concat(a),p],["",Gr(l-1)+"^"],["".concat(a+1),d[i+1]]])}function Zs(e){var t=e.filter(function(r){r[0];var i=r[1];return i!==void 0}),n=Math.max.apply(Math,t.map(function(r){var i=r[0];return i.length}));return t.map(function(r){var i=r[0],o=r[1];return Bg(n,i)+(o?" | "+o:" |")}).join(`
`)}function Gr(e){return Array(e+1).join(" ")}function Bg(e,t){return Gr(e-t.length)+t}function Hr(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Hr=function(n){return typeof n}:Hr=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Hr(e)}function ec(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Vg(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ec(Object(n),!0).forEach(function(r){zg(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ec(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function zg(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Gg(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Hg(e,t,n){return t&&tc(e.prototype,t),n&&tc(e,n),e}function Qg(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&or(e,t)}function Yg(e){var t=$u();return function(){var r=ar(e),i;if(t){var o=ar(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return Lu(this,i)}}function Lu(e,t){return t&&(Hr(t)==="object"||typeof t=="function")?t:qn(e)}function qn(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ho(e){var t=typeof Map=="function"?new Map:void 0;return Ho=function(r){if(r===null||!Wg(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(typeof t<"u"){if(t.has(r))return t.get(r);t.set(r,i)}function i(){return Qr(r,arguments,ar(this).constructor)}return i.prototype=Object.create(r.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),or(i,r)},Ho(e)}function Qr(e,t,n){return $u()?Qr=Reflect.construct:Qr=function(i,o,a){var s=[null];s.push.apply(s,o);var l=Function.bind.apply(i,s),u=new l;return a&&or(u,a.prototype),u},Qr.apply(null,arguments)}function $u(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function Wg(e){return Function.toString.call(e).indexOf("[native code]")!==-1}function or(e,t){return or=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},or(e,t)}function ar(e){return ar=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},ar(e)}var Yr=function(e){Qg(n,e);var t=Yg(n);function n(r,i,o,a,s,l,u){var d,p,f,h;Gg(this,n),h=t.call(this,r),h.name="GraphQLError",h.originalError=l??void 0,h.nodes=nc(Array.isArray(i)?i:i?[i]:void 0);for(var m=[],y=0,x=(g=h.nodes)!==null&&g!==void 0?g:[];y<x.length;y++){var g,b=x[y],v=b.loc;v!=null&&m.push(v)}m=nc(m),h.source=o??((d=m)===null||d===void 0?void 0:d[0].source),h.positions=a??((p=m)===null||p===void 0?void 0:p.map(function(w){return w.start})),h.locations=a&&o?a.map(function(w){return Go(o,w)}):(f=m)===null||f===void 0?void 0:f.map(function(w){return Go(w.source,w.start)}),h.path=s??void 0;var _=l==null?void 0:l.extensions;return u==null&&qg(_)?h.extensions=Vg({},_):h.extensions=u??{},Object.defineProperties(qn(h),{message:{enumerable:!0},locations:{enumerable:h.locations!=null},path:{enumerable:h.path!=null},extensions:{enumerable:h.extensions!=null&&Object.keys(h.extensions).length>0},name:{enumerable:!1},nodes:{enumerable:!1},source:{enumerable:!1},positions:{enumerable:!1},originalError:{enumerable:!1}}),l!=null&&l.stack?(Object.defineProperty(qn(h),"stack",{value:l.stack,writable:!0,configurable:!0}),Lu(h)):(Error.captureStackTrace?Error.captureStackTrace(qn(h),n):Object.defineProperty(qn(h),"stack",{value:Error().stack,writable:!0,configurable:!0}),h)}return Hg(n,[{key:"toString",value:function(){return Jg(this)}},{key:Pu,get:function(){return"Object"}}]),n}(Ho(Error));function nc(e){return e===void 0||e.length===0?void 0:e}function Jg(e){var t=e.message;if(e.nodes)for(var n=0,r=e.nodes;n<r.length;n++){var i=r[n];i.loc&&(t+=`

`+jg(i.loc))}else if(e.source&&e.locations)for(var o=0,a=e.locations;o<a.length;o++){var s=a[o];t+=`

`+Du(e.source,s)}return t}function Pe(e,t,n){return new Yr("Syntax Error: ".concat(n),void 0,e,[t])}var L=Object.freeze({NAME:"Name",DOCUMENT:"Document",OPERATION_DEFINITION:"OperationDefinition",VARIABLE_DEFINITION:"VariableDefinition",SELECTION_SET:"SelectionSet",FIELD:"Field",ARGUMENT:"Argument",FRAGMENT_SPREAD:"FragmentSpread",INLINE_FRAGMENT:"InlineFragment",FRAGMENT_DEFINITION:"FragmentDefinition",VARIABLE:"Variable",INT:"IntValue",FLOAT:"FloatValue",STRING:"StringValue",BOOLEAN:"BooleanValue",NULL:"NullValue",ENUM:"EnumValue",LIST:"ListValue",OBJECT:"ObjectValue",OBJECT_FIELD:"ObjectField",DIRECTIVE:"Directive",NAMED_TYPE:"NamedType",LIST_TYPE:"ListType",NON_NULL_TYPE:"NonNullType",SCHEMA_DEFINITION:"SchemaDefinition",OPERATION_TYPE_DEFINITION:"OperationTypeDefinition",SCALAR_TYPE_DEFINITION:"ScalarTypeDefinition",OBJECT_TYPE_DEFINITION:"ObjectTypeDefinition",FIELD_DEFINITION:"FieldDefinition",INPUT_VALUE_DEFINITION:"InputValueDefinition",INTERFACE_TYPE_DEFINITION:"InterfaceTypeDefinition",UNION_TYPE_DEFINITION:"UnionTypeDefinition",ENUM_TYPE_DEFINITION:"EnumTypeDefinition",ENUM_VALUE_DEFINITION:"EnumValueDefinition",INPUT_OBJECT_TYPE_DEFINITION:"InputObjectTypeDefinition",DIRECTIVE_DEFINITION:"DirectiveDefinition",SCHEMA_EXTENSION:"SchemaExtension",SCALAR_TYPE_EXTENSION:"ScalarTypeExtension",OBJECT_TYPE_EXTENSION:"ObjectTypeExtension",INTERFACE_TYPE_EXTENSION:"InterfaceTypeExtension",UNION_TYPE_EXTENSION:"UnionTypeExtension",ENUM_TYPE_EXTENSION:"EnumTypeExtension",INPUT_OBJECT_TYPE_EXTENSION:"InputObjectTypeExtension"});function Kg(e,t){var n=!!e;if(!n)throw new Error(t??"Unexpected invariant triggered.")}var Xg=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):void 0;const Qo=Xg;function Mu(e){var t=e.prototype.toJSON;typeof t=="function"||Kg(0),e.prototype.inspect=t,Qo&&(e.prototype[Qo]=t)}var Fu=function(){function e(n,r,i){this.start=n.start,this.end=r.end,this.startToken=n,this.endToken=r,this.source=i}var t=e.prototype;return t.toJSON=function(){return{start:this.start,end:this.end}},e}();Mu(Fu);var he=function(){function e(n,r,i,o,a,s,l){this.kind=n,this.start=r,this.end=i,this.line=o,this.column=a,this.value=l,this.prev=s,this.next=null}var t=e.prototype;return t.toJSON=function(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}},e}();Mu(he);function rc(e){return e!=null&&typeof e.kind=="string"}var k=Object.freeze({SOF:"<SOF>",EOF:"<EOF>",BANG:"!",DOLLAR:"$",AMP:"&",PAREN_L:"(",PAREN_R:")",SPREAD:"...",COLON:":",EQUALS:"=",AT:"@",BRACKET_L:"[",BRACKET_R:"]",BRACE_L:"{",PIPE:"|",BRACE_R:"}",NAME:"Name",INT:"Int",FLOAT:"Float",STRING:"String",BLOCK_STRING:"BlockString",COMMENT:"Comment"});function Wr(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Wr=function(n){return typeof n}:Wr=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Wr(e)}var Zg=10,Uu=2;function qu(e){return qi(e,[])}function qi(e,t){switch(Wr(e)){case"string":return JSON.stringify(e);case"function":return e.name?"[function ".concat(e.name,"]"):"[function]";case"object":return e===null?"null":ev(e,t);default:return String(e)}}function ev(e,t){if(t.indexOf(e)!==-1)return"[Circular]";var n=[].concat(t,[e]),r=rv(e);if(r!==void 0){var i=r.call(e);if(i!==e)return typeof i=="string"?i:qi(i,n)}else if(Array.isArray(e))return nv(e,n);return tv(e,n)}function tv(e,t){var n=Object.keys(e);if(n.length===0)return"{}";if(t.length>Uu)return"["+iv(e)+"]";var r=n.map(function(i){var o=qi(e[i],t);return i+": "+o});return"{ "+r.join(", ")+" }"}function nv(e,t){if(e.length===0)return"[]";if(t.length>Uu)return"[Array]";for(var n=Math.min(Zg,e.length),r=e.length-n,i=[],o=0;o<n;++o)i.push(qi(e[o],t));return r===1?i.push("... 1 more item"):r>1&&i.push("... ".concat(r," more items")),"["+i.join(", ")+"]"}function rv(e){var t=e[String(Qo)];if(typeof t=="function")return t;if(typeof e.inspect=="function")return e.inspect}function iv(e){var t=Object.prototype.toString.call(e).replace(/^\[object /,"").replace(/]$/,"");if(t==="Object"&&typeof e.constructor=="function"){var n=e.constructor.name;if(typeof n=="string"&&n!=="")return n}return t}function ho(e,t){var n=!!e;if(!n)throw new Error(t)}const ov=function(t,n){return t instanceof n};function ic(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function av(e,t,n){return t&&ic(e.prototype,t),n&&ic(e,n),e}var ju=function(){function e(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"GraphQL request",r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{line:1,column:1};typeof t=="string"||ho(0,"Body must be a string. Received: ".concat(qu(t),".")),this.body=t,this.name=n,this.locationOffset=r,this.locationOffset.line>0||ho(0,"line in locationOffset is 1-indexed and must be positive."),this.locationOffset.column>0||ho(0,"column in locationOffset is 1-indexed and must be positive.")}return av(e,[{key:Pu,get:function(){return"Source"}}]),e}();function sv(e){return ov(e,ju)}var cv=Object.freeze({QUERY:"QUERY",MUTATION:"MUTATION",SUBSCRIPTION:"SUBSCRIPTION",FIELD:"FIELD",FRAGMENT_DEFINITION:"FRAGMENT_DEFINITION",FRAGMENT_SPREAD:"FRAGMENT_SPREAD",INLINE_FRAGMENT:"INLINE_FRAGMENT",VARIABLE_DEFINITION:"VARIABLE_DEFINITION",SCHEMA:"SCHEMA",SCALAR:"SCALAR",OBJECT:"OBJECT",FIELD_DEFINITION:"FIELD_DEFINITION",ARGUMENT_DEFINITION:"ARGUMENT_DEFINITION",INTERFACE:"INTERFACE",UNION:"UNION",ENUM:"ENUM",ENUM_VALUE:"ENUM_VALUE",INPUT_OBJECT:"INPUT_OBJECT",INPUT_FIELD_DEFINITION:"INPUT_FIELD_DEFINITION"});function lv(e){var t=e.split(/\r\n|[\n\r]/g),n=uv(e);if(n!==0)for(var r=1;r<t.length;r++)t[r]=t[r].slice(n);for(var i=0;i<t.length&&oc(t[i]);)++i;for(var o=t.length;o>i&&oc(t[o-1]);)--o;return t.slice(i,o).join(`
`)}function oc(e){for(var t=0;t<e.length;++t)if(e[t]!==" "&&e[t]!=="	")return!1;return!0}function uv(e){for(var t,n=!0,r=!0,i=0,o=null,a=0;a<e.length;++a)switch(e.charCodeAt(a)){case 13:e.charCodeAt(a+1)===10&&++a;case 10:n=!1,r=!0,i=0;break;case 9:case 32:++i;break;default:r&&!n&&(o===null||i<o)&&(o=i),r=!1}return(t=o)!==null&&t!==void 0?t:0}function dv(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=e.indexOf(`
`)===-1,i=e[0]===" "||e[0]==="	",o=e[e.length-1]==='"',a=e[e.length-1]==="\\",s=!r||o||a||n,l="";return s&&!(r&&i)&&(l+=`
`+t),l+=t?e.replace(/\n/g,`
`+t):e,s&&(l+=`
`),'"""'+l.replace(/"""/g,'\\"""')+'"""'}var pv=function(){function e(n){var r=new he(k.SOF,0,0,0,0,null);this.source=n,this.lastToken=r,this.token=r,this.line=1,this.lineStart=0}var t=e.prototype;return t.advance=function(){this.lastToken=this.token;var r=this.token=this.lookahead();return r},t.lookahead=function(){var r=this.token;if(r.kind!==k.EOF)do{var i;r=(i=r.next)!==null&&i!==void 0?i:r.next=fv(this,r)}while(r.kind===k.COMMENT);return r},e}();function hv(e){return e===k.BANG||e===k.DOLLAR||e===k.AMP||e===k.PAREN_L||e===k.PAREN_R||e===k.SPREAD||e===k.COLON||e===k.EQUALS||e===k.AT||e===k.BRACKET_L||e===k.BRACKET_R||e===k.BRACE_L||e===k.PIPE||e===k.BRACE_R}function Bt(e){return isNaN(e)?k.EOF:e<127?JSON.stringify(String.fromCharCode(e)):'"\\u'.concat(("00"+e.toString(16).toUpperCase()).slice(-4),'"')}function fv(e,t){for(var n=e.source,r=n.body,i=r.length,o=t.end;o<i;){var a=r.charCodeAt(o),s=e.line,l=1+o-e.lineStart;switch(a){case 65279:case 9:case 32:case 44:++o;continue;case 10:++o,++e.line,e.lineStart=o;continue;case 13:r.charCodeAt(o+1)===10?o+=2:++o,++e.line,e.lineStart=o;continue;case 33:return new he(k.BANG,o,o+1,s,l,t);case 35:return gv(n,o,s,l,t);case 36:return new he(k.DOLLAR,o,o+1,s,l,t);case 38:return new he(k.AMP,o,o+1,s,l,t);case 40:return new he(k.PAREN_L,o,o+1,s,l,t);case 41:return new he(k.PAREN_R,o,o+1,s,l,t);case 46:if(r.charCodeAt(o+1)===46&&r.charCodeAt(o+2)===46)return new he(k.SPREAD,o,o+3,s,l,t);break;case 58:return new he(k.COLON,o,o+1,s,l,t);case 61:return new he(k.EQUALS,o,o+1,s,l,t);case 64:return new he(k.AT,o,o+1,s,l,t);case 91:return new he(k.BRACKET_L,o,o+1,s,l,t);case 93:return new he(k.BRACKET_R,o,o+1,s,l,t);case 123:return new he(k.BRACE_L,o,o+1,s,l,t);case 124:return new he(k.PIPE,o,o+1,s,l,t);case 125:return new he(k.BRACE_R,o,o+1,s,l,t);case 34:return r.charCodeAt(o+1)===34&&r.charCodeAt(o+2)===34?bv(n,o,s,l,t,e):yv(n,o,s,l,t);case 45:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return vv(n,o,a,s,l,t);case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:case 95:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:case 108:case 109:case 110:case 111:case 112:case 113:case 114:case 115:case 116:case 117:case 118:case 119:case 120:case 121:case 122:return xv(n,o,s,l,t)}throw Pe(n,o,mv(a))}var u=e.line,d=1+o-e.lineStart;return new he(k.EOF,i,i,u,d,t)}function mv(e){return e<32&&e!==9&&e!==10&&e!==13?"Cannot contain the invalid character ".concat(Bt(e),"."):e===39?`Unexpected single quote character ('), did you mean to use a double quote (")?`:"Cannot parse the unexpected character ".concat(Bt(e),".")}function gv(e,t,n,r,i){var o=e.body,a,s=t;do a=o.charCodeAt(++s);while(!isNaN(a)&&(a>31||a===9));return new he(k.COMMENT,t,s,n,r,i,o.slice(t+1,s))}function vv(e,t,n,r,i,o){var a=e.body,s=n,l=t,u=!1;if(s===45&&(s=a.charCodeAt(++l)),s===48){if(s=a.charCodeAt(++l),s>=48&&s<=57)throw Pe(e,l,"Invalid number, unexpected digit after 0: ".concat(Bt(s),"."))}else l=fo(e,l,s),s=a.charCodeAt(l);if(s===46&&(u=!0,s=a.charCodeAt(++l),l=fo(e,l,s),s=a.charCodeAt(l)),(s===69||s===101)&&(u=!0,s=a.charCodeAt(++l),(s===43||s===45)&&(s=a.charCodeAt(++l)),l=fo(e,l,s),s=a.charCodeAt(l)),s===46||wv(s))throw Pe(e,l,"Invalid number, expected digit but got: ".concat(Bt(s),"."));return new he(u?k.FLOAT:k.INT,t,l,r,i,o,a.slice(t,l))}function fo(e,t,n){var r=e.body,i=t,o=n;if(o>=48&&o<=57){do o=r.charCodeAt(++i);while(o>=48&&o<=57);return i}throw Pe(e,i,"Invalid number, expected digit but got: ".concat(Bt(o),"."))}function yv(e,t,n,r,i){for(var o=e.body,a=t+1,s=a,l=0,u="";a<o.length&&!isNaN(l=o.charCodeAt(a))&&l!==10&&l!==13;){if(l===34)return u+=o.slice(s,a),new he(k.STRING,t,a+1,n,r,i,u);if(l<32&&l!==9)throw Pe(e,a,"Invalid character within String: ".concat(Bt(l),"."));if(++a,l===92){switch(u+=o.slice(s,a-1),l=o.charCodeAt(a),l){case 34:u+='"';break;case 47:u+="/";break;case 92:u+="\\";break;case 98:u+="\b";break;case 102:u+="\f";break;case 110:u+=`
`;break;case 114:u+="\r";break;case 116:u+="	";break;case 117:{var d=_v(o.charCodeAt(a+1),o.charCodeAt(a+2),o.charCodeAt(a+3),o.charCodeAt(a+4));if(d<0){var p=o.slice(a+1,a+5);throw Pe(e,a,"Invalid character escape sequence: \\u".concat(p,"."))}u+=String.fromCharCode(d),a+=4;break}default:throw Pe(e,a,"Invalid character escape sequence: \\".concat(String.fromCharCode(l),"."))}++a,s=a}}throw Pe(e,a,"Unterminated string.")}function bv(e,t,n,r,i,o){for(var a=e.body,s=t+3,l=s,u=0,d="";s<a.length&&!isNaN(u=a.charCodeAt(s));){if(u===34&&a.charCodeAt(s+1)===34&&a.charCodeAt(s+2)===34)return d+=a.slice(l,s),new he(k.BLOCK_STRING,t,s+3,n,r,i,lv(d));if(u<32&&u!==9&&u!==10&&u!==13)throw Pe(e,s,"Invalid character within String: ".concat(Bt(u),"."));u===10?(++s,++o.line,o.lineStart=s):u===13?(a.charCodeAt(s+1)===10?s+=2:++s,++o.line,o.lineStart=s):u===92&&a.charCodeAt(s+1)===34&&a.charCodeAt(s+2)===34&&a.charCodeAt(s+3)===34?(d+=a.slice(l,s)+'"""',s+=4,l=s):++s}throw Pe(e,s,"Unterminated string.")}function _v(e,t,n,r){return Or(e)<<12|Or(t)<<8|Or(n)<<4|Or(r)}function Or(e){return e>=48&&e<=57?e-48:e>=65&&e<=70?e-55:e>=97&&e<=102?e-87:-1}function xv(e,t,n,r,i){for(var o=e.body,a=o.length,s=t+1,l=0;s!==a&&!isNaN(l=o.charCodeAt(s))&&(l===95||l>=48&&l<=57||l>=65&&l<=90||l>=97&&l<=122);)++s;return new he(k.NAME,t,s,n,r,i,o.slice(t,s))}function wv(e){return e===95||e>=65&&e<=90||e>=97&&e<=122}function kv(e,t){var n=new Ev(e,t);return n.parseDocument()}var Ev=function(){function e(n,r){var i=sv(n)?n:new ju(n);this._lexer=new pv(i),this._options=r}var t=e.prototype;return t.parseName=function(){var r=this.expectToken(k.NAME);return{kind:L.NAME,value:r.value,loc:this.loc(r)}},t.parseDocument=function(){var r=this._lexer.token;return{kind:L.DOCUMENT,definitions:this.many(k.SOF,this.parseDefinition,k.EOF),loc:this.loc(r)}},t.parseDefinition=function(){if(this.peek(k.NAME))switch(this._lexer.token.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition();case"schema":case"scalar":case"type":case"interface":case"union":case"enum":case"input":case"directive":return this.parseTypeSystemDefinition();case"extend":return this.parseTypeSystemExtension()}else{if(this.peek(k.BRACE_L))return this.parseOperationDefinition();if(this.peekDescription())return this.parseTypeSystemDefinition()}throw this.unexpected()},t.parseOperationDefinition=function(){var r=this._lexer.token;if(this.peek(k.BRACE_L))return{kind:L.OPERATION_DEFINITION,operation:"query",name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet(),loc:this.loc(r)};var i=this.parseOperationType(),o;return this.peek(k.NAME)&&(o=this.parseName()),{kind:L.OPERATION_DEFINITION,operation:i,name:o,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(r)}},t.parseOperationType=function(){var r=this.expectToken(k.NAME);switch(r.value){case"query":return"query";case"mutation":return"mutation";case"subscription":return"subscription"}throw this.unexpected(r)},t.parseVariableDefinitions=function(){return this.optionalMany(k.PAREN_L,this.parseVariableDefinition,k.PAREN_R)},t.parseVariableDefinition=function(){var r=this._lexer.token;return{kind:L.VARIABLE_DEFINITION,variable:this.parseVariable(),type:(this.expectToken(k.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(k.EQUALS)?this.parseValueLiteral(!0):void 0,directives:this.parseDirectives(!0),loc:this.loc(r)}},t.parseVariable=function(){var r=this._lexer.token;return this.expectToken(k.DOLLAR),{kind:L.VARIABLE,name:this.parseName(),loc:this.loc(r)}},t.parseSelectionSet=function(){var r=this._lexer.token;return{kind:L.SELECTION_SET,selections:this.many(k.BRACE_L,this.parseSelection,k.BRACE_R),loc:this.loc(r)}},t.parseSelection=function(){return this.peek(k.SPREAD)?this.parseFragment():this.parseField()},t.parseField=function(){var r=this._lexer.token,i=this.parseName(),o,a;return this.expectOptionalToken(k.COLON)?(o=i,a=this.parseName()):a=i,{kind:L.FIELD,alias:o,name:a,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(k.BRACE_L)?this.parseSelectionSet():void 0,loc:this.loc(r)}},t.parseArguments=function(r){var i=r?this.parseConstArgument:this.parseArgument;return this.optionalMany(k.PAREN_L,i,k.PAREN_R)},t.parseArgument=function(){var r=this._lexer.token,i=this.parseName();return this.expectToken(k.COLON),{kind:L.ARGUMENT,name:i,value:this.parseValueLiteral(!1),loc:this.loc(r)}},t.parseConstArgument=function(){var r=this._lexer.token;return{kind:L.ARGUMENT,name:this.parseName(),value:(this.expectToken(k.COLON),this.parseValueLiteral(!0)),loc:this.loc(r)}},t.parseFragment=function(){var r=this._lexer.token;this.expectToken(k.SPREAD);var i=this.expectOptionalKeyword("on");return!i&&this.peek(k.NAME)?{kind:L.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1),loc:this.loc(r)}:{kind:L.INLINE_FRAGMENT,typeCondition:i?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(r)}},t.parseFragmentDefinition=function(){var r,i=this._lexer.token;return this.expectKeyword("fragment"),((r=this._options)===null||r===void 0?void 0:r.experimentalFragmentVariables)===!0?{kind:L.FRAGMENT_DEFINITION,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(i)}:{kind:L.FRAGMENT_DEFINITION,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(i)}},t.parseFragmentName=function(){if(this._lexer.token.value==="on")throw this.unexpected();return this.parseName()},t.parseValueLiteral=function(r){var i=this._lexer.token;switch(i.kind){case k.BRACKET_L:return this.parseList(r);case k.BRACE_L:return this.parseObject(r);case k.INT:return this._lexer.advance(),{kind:L.INT,value:i.value,loc:this.loc(i)};case k.FLOAT:return this._lexer.advance(),{kind:L.FLOAT,value:i.value,loc:this.loc(i)};case k.STRING:case k.BLOCK_STRING:return this.parseStringLiteral();case k.NAME:switch(this._lexer.advance(),i.value){case"true":return{kind:L.BOOLEAN,value:!0,loc:this.loc(i)};case"false":return{kind:L.BOOLEAN,value:!1,loc:this.loc(i)};case"null":return{kind:L.NULL,loc:this.loc(i)};default:return{kind:L.ENUM,value:i.value,loc:this.loc(i)}}case k.DOLLAR:if(!r)return this.parseVariable();break}throw this.unexpected()},t.parseStringLiteral=function(){var r=this._lexer.token;return this._lexer.advance(),{kind:L.STRING,value:r.value,block:r.kind===k.BLOCK_STRING,loc:this.loc(r)}},t.parseList=function(r){var i=this,o=this._lexer.token,a=function(){return i.parseValueLiteral(r)};return{kind:L.LIST,values:this.any(k.BRACKET_L,a,k.BRACKET_R),loc:this.loc(o)}},t.parseObject=function(r){var i=this,o=this._lexer.token,a=function(){return i.parseObjectField(r)};return{kind:L.OBJECT,fields:this.any(k.BRACE_L,a,k.BRACE_R),loc:this.loc(o)}},t.parseObjectField=function(r){var i=this._lexer.token,o=this.parseName();return this.expectToken(k.COLON),{kind:L.OBJECT_FIELD,name:o,value:this.parseValueLiteral(r),loc:this.loc(i)}},t.parseDirectives=function(r){for(var i=[];this.peek(k.AT);)i.push(this.parseDirective(r));return i},t.parseDirective=function(r){var i=this._lexer.token;return this.expectToken(k.AT),{kind:L.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(r),loc:this.loc(i)}},t.parseTypeReference=function(){var r=this._lexer.token,i;return this.expectOptionalToken(k.BRACKET_L)?(i=this.parseTypeReference(),this.expectToken(k.BRACKET_R),i={kind:L.LIST_TYPE,type:i,loc:this.loc(r)}):i=this.parseNamedType(),this.expectOptionalToken(k.BANG)?{kind:L.NON_NULL_TYPE,type:i,loc:this.loc(r)}:i},t.parseNamedType=function(){var r=this._lexer.token;return{kind:L.NAMED_TYPE,name:this.parseName(),loc:this.loc(r)}},t.parseTypeSystemDefinition=function(){var r=this.peekDescription()?this._lexer.lookahead():this._lexer.token;if(r.kind===k.NAME)switch(r.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}throw this.unexpected(r)},t.peekDescription=function(){return this.peek(k.STRING)||this.peek(k.BLOCK_STRING)},t.parseDescription=function(){if(this.peekDescription())return this.parseStringLiteral()},t.parseSchemaDefinition=function(){var r=this._lexer.token,i=this.parseDescription();this.expectKeyword("schema");var o=this.parseDirectives(!0),a=this.many(k.BRACE_L,this.parseOperationTypeDefinition,k.BRACE_R);return{kind:L.SCHEMA_DEFINITION,description:i,directives:o,operationTypes:a,loc:this.loc(r)}},t.parseOperationTypeDefinition=function(){var r=this._lexer.token,i=this.parseOperationType();this.expectToken(k.COLON);var o=this.parseNamedType();return{kind:L.OPERATION_TYPE_DEFINITION,operation:i,type:o,loc:this.loc(r)}},t.parseScalarTypeDefinition=function(){var r=this._lexer.token,i=this.parseDescription();this.expectKeyword("scalar");var o=this.parseName(),a=this.parseDirectives(!0);return{kind:L.SCALAR_TYPE_DEFINITION,description:i,name:o,directives:a,loc:this.loc(r)}},t.parseObjectTypeDefinition=function(){var r=this._lexer.token,i=this.parseDescription();this.expectKeyword("type");var o=this.parseName(),a=this.parseImplementsInterfaces(),s=this.parseDirectives(!0),l=this.parseFieldsDefinition();return{kind:L.OBJECT_TYPE_DEFINITION,description:i,name:o,interfaces:a,directives:s,fields:l,loc:this.loc(r)}},t.parseImplementsInterfaces=function(){var r;if(!this.expectOptionalKeyword("implements"))return[];if(((r=this._options)===null||r===void 0?void 0:r.allowLegacySDLImplementsInterfaces)===!0){var i=[];this.expectOptionalToken(k.AMP);do i.push(this.parseNamedType());while(this.expectOptionalToken(k.AMP)||this.peek(k.NAME));return i}return this.delimitedMany(k.AMP,this.parseNamedType)},t.parseFieldsDefinition=function(){var r;return((r=this._options)===null||r===void 0?void 0:r.allowLegacySDLEmptyFields)===!0&&this.peek(k.BRACE_L)&&this._lexer.lookahead().kind===k.BRACE_R?(this._lexer.advance(),this._lexer.advance(),[]):this.optionalMany(k.BRACE_L,this.parseFieldDefinition,k.BRACE_R)},t.parseFieldDefinition=function(){var r=this._lexer.token,i=this.parseDescription(),o=this.parseName(),a=this.parseArgumentDefs();this.expectToken(k.COLON);var s=this.parseTypeReference(),l=this.parseDirectives(!0);return{kind:L.FIELD_DEFINITION,description:i,name:o,arguments:a,type:s,directives:l,loc:this.loc(r)}},t.parseArgumentDefs=function(){return this.optionalMany(k.PAREN_L,this.parseInputValueDef,k.PAREN_R)},t.parseInputValueDef=function(){var r=this._lexer.token,i=this.parseDescription(),o=this.parseName();this.expectToken(k.COLON);var a=this.parseTypeReference(),s;this.expectOptionalToken(k.EQUALS)&&(s=this.parseValueLiteral(!0));var l=this.parseDirectives(!0);return{kind:L.INPUT_VALUE_DEFINITION,description:i,name:o,type:a,defaultValue:s,directives:l,loc:this.loc(r)}},t.parseInterfaceTypeDefinition=function(){var r=this._lexer.token,i=this.parseDescription();this.expectKeyword("interface");var o=this.parseName(),a=this.parseImplementsInterfaces(),s=this.parseDirectives(!0),l=this.parseFieldsDefinition();return{kind:L.INTERFACE_TYPE_DEFINITION,description:i,name:o,interfaces:a,directives:s,fields:l,loc:this.loc(r)}},t.parseUnionTypeDefinition=function(){var r=this._lexer.token,i=this.parseDescription();this.expectKeyword("union");var o=this.parseName(),a=this.parseDirectives(!0),s=this.parseUnionMemberTypes();return{kind:L.UNION_TYPE_DEFINITION,description:i,name:o,directives:a,types:s,loc:this.loc(r)}},t.parseUnionMemberTypes=function(){return this.expectOptionalToken(k.EQUALS)?this.delimitedMany(k.PIPE,this.parseNamedType):[]},t.parseEnumTypeDefinition=function(){var r=this._lexer.token,i=this.parseDescription();this.expectKeyword("enum");var o=this.parseName(),a=this.parseDirectives(!0),s=this.parseEnumValuesDefinition();return{kind:L.ENUM_TYPE_DEFINITION,description:i,name:o,directives:a,values:s,loc:this.loc(r)}},t.parseEnumValuesDefinition=function(){return this.optionalMany(k.BRACE_L,this.parseEnumValueDefinition,k.BRACE_R)},t.parseEnumValueDefinition=function(){var r=this._lexer.token,i=this.parseDescription(),o=this.parseName(),a=this.parseDirectives(!0);return{kind:L.ENUM_VALUE_DEFINITION,description:i,name:o,directives:a,loc:this.loc(r)}},t.parseInputObjectTypeDefinition=function(){var r=this._lexer.token,i=this.parseDescription();this.expectKeyword("input");var o=this.parseName(),a=this.parseDirectives(!0),s=this.parseInputFieldsDefinition();return{kind:L.INPUT_OBJECT_TYPE_DEFINITION,description:i,name:o,directives:a,fields:s,loc:this.loc(r)}},t.parseInputFieldsDefinition=function(){return this.optionalMany(k.BRACE_L,this.parseInputValueDef,k.BRACE_R)},t.parseTypeSystemExtension=function(){var r=this._lexer.lookahead();if(r.kind===k.NAME)switch(r.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(r)},t.parseSchemaExtension=function(){var r=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");var i=this.parseDirectives(!0),o=this.optionalMany(k.BRACE_L,this.parseOperationTypeDefinition,k.BRACE_R);if(i.length===0&&o.length===0)throw this.unexpected();return{kind:L.SCHEMA_EXTENSION,directives:i,operationTypes:o,loc:this.loc(r)}},t.parseScalarTypeExtension=function(){var r=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");var i=this.parseName(),o=this.parseDirectives(!0);if(o.length===0)throw this.unexpected();return{kind:L.SCALAR_TYPE_EXTENSION,name:i,directives:o,loc:this.loc(r)}},t.parseObjectTypeExtension=function(){var r=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");var i=this.parseName(),o=this.parseImplementsInterfaces(),a=this.parseDirectives(!0),s=this.parseFieldsDefinition();if(o.length===0&&a.length===0&&s.length===0)throw this.unexpected();return{kind:L.OBJECT_TYPE_EXTENSION,name:i,interfaces:o,directives:a,fields:s,loc:this.loc(r)}},t.parseInterfaceTypeExtension=function(){var r=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");var i=this.parseName(),o=this.parseImplementsInterfaces(),a=this.parseDirectives(!0),s=this.parseFieldsDefinition();if(o.length===0&&a.length===0&&s.length===0)throw this.unexpected();return{kind:L.INTERFACE_TYPE_EXTENSION,name:i,interfaces:o,directives:a,fields:s,loc:this.loc(r)}},t.parseUnionTypeExtension=function(){var r=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");var i=this.parseName(),o=this.parseDirectives(!0),a=this.parseUnionMemberTypes();if(o.length===0&&a.length===0)throw this.unexpected();return{kind:L.UNION_TYPE_EXTENSION,name:i,directives:o,types:a,loc:this.loc(r)}},t.parseEnumTypeExtension=function(){var r=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");var i=this.parseName(),o=this.parseDirectives(!0),a=this.parseEnumValuesDefinition();if(o.length===0&&a.length===0)throw this.unexpected();return{kind:L.ENUM_TYPE_EXTENSION,name:i,directives:o,values:a,loc:this.loc(r)}},t.parseInputObjectTypeExtension=function(){var r=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");var i=this.parseName(),o=this.parseDirectives(!0),a=this.parseInputFieldsDefinition();if(o.length===0&&a.length===0)throw this.unexpected();return{kind:L.INPUT_OBJECT_TYPE_EXTENSION,name:i,directives:o,fields:a,loc:this.loc(r)}},t.parseDirectiveDefinition=function(){var r=this._lexer.token,i=this.parseDescription();this.expectKeyword("directive"),this.expectToken(k.AT);var o=this.parseName(),a=this.parseArgumentDefs(),s=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");var l=this.parseDirectiveLocations();return{kind:L.DIRECTIVE_DEFINITION,description:i,name:o,arguments:a,repeatable:s,locations:l,loc:this.loc(r)}},t.parseDirectiveLocations=function(){return this.delimitedMany(k.PIPE,this.parseDirectiveLocation)},t.parseDirectiveLocation=function(){var r=this._lexer.token,i=this.parseName();if(cv[i.value]!==void 0)return i;throw this.unexpected(r)},t.loc=function(r){var i;if(((i=this._options)===null||i===void 0?void 0:i.noLocation)!==!0)return new Fu(r,this._lexer.lastToken,this._lexer.source)},t.peek=function(r){return this._lexer.token.kind===r},t.expectToken=function(r){var i=this._lexer.token;if(i.kind===r)return this._lexer.advance(),i;throw Pe(this._lexer.source,i.start,"Expected ".concat(Bu(r),", found ").concat(mo(i),"."))},t.expectOptionalToken=function(r){var i=this._lexer.token;if(i.kind===r)return this._lexer.advance(),i},t.expectKeyword=function(r){var i=this._lexer.token;if(i.kind===k.NAME&&i.value===r)this._lexer.advance();else throw Pe(this._lexer.source,i.start,'Expected "'.concat(r,'", found ').concat(mo(i),"."))},t.expectOptionalKeyword=function(r){var i=this._lexer.token;return i.kind===k.NAME&&i.value===r?(this._lexer.advance(),!0):!1},t.unexpected=function(r){var i=r??this._lexer.token;return Pe(this._lexer.source,i.start,"Unexpected ".concat(mo(i),"."))},t.any=function(r,i,o){this.expectToken(r);for(var a=[];!this.expectOptionalToken(o);)a.push(i.call(this));return a},t.optionalMany=function(r,i,o){if(this.expectOptionalToken(r)){var a=[];do a.push(i.call(this));while(!this.expectOptionalToken(o));return a}return[]},t.many=function(r,i,o){this.expectToken(r);var a=[];do a.push(i.call(this));while(!this.expectOptionalToken(o));return a},t.delimitedMany=function(r,i){this.expectOptionalToken(r);var o=[];do o.push(i.call(this));while(this.expectOptionalToken(r));return o},e}();function mo(e){var t=e.value;return Bu(e.kind)+(t!=null?' "'.concat(t,'"'):"")}function Bu(e){return hv(e)?'"'.concat(e,'"'):e}var Nv={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},Tv=Object.freeze({});function Vu(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Nv,r=void 0,i=Array.isArray(e),o=[e],a=-1,s=[],l=void 0,u=void 0,d=void 0,p=[],f=[],h=e;do{a++;var m=a===o.length,y=m&&s.length!==0;if(m){if(u=f.length===0?void 0:p[p.length-1],l=d,d=f.pop(),y){if(i)l=l.slice();else{for(var x={},g=0,b=Object.keys(l);g<b.length;g++){var v=b[g];x[v]=l[v]}l=x}for(var _=0,w=0;w<s.length;w++){var N=s[w][0],T=s[w][1];i&&(N-=_),i&&T===null?(l.splice(N,1),_++):l[N]=T}}a=r.index,o=r.keys,s=r.edits,i=r.inArray,r=r.prev}else{if(u=d?i?a:o[a]:void 0,l=d?d[u]:h,l==null)continue;d&&p.push(u)}var I=void 0;if(!Array.isArray(l)){if(!rc(l))throw new Error("Invalid AST Node: ".concat(qu(l),"."));var M=Iv(t,l.kind,m);if(M){if(I=M.call(t,l,u,d,p,f),I===Tv)break;if(I===!1){if(!m){p.pop();continue}}else if(I!==void 0&&(s.push([u,I]),!m))if(rc(I))l=I;else{p.pop();continue}}}if(I===void 0&&y&&s.push([u,l]),m)p.pop();else{var F;r={inArray:i,index:a,keys:o,edits:s,prev:r},i=Array.isArray(l),o=i?l:(F=n[l.kind])!==null&&F!==void 0?F:[],a=-1,s=[],d&&f.push(d),d=l}}while(r!==void 0);return s.length!==0&&(h=s[s.length-1][1]),h}function Iv(e,t,n){var r=e[t];if(r){if(!n&&typeof r=="function")return r;var i=n?r.leave:r.enter;if(typeof i=="function")return i}else{var o=n?e.leave:e.enter;if(o){if(typeof o=="function")return o;var a=o[t];if(typeof a=="function")return a}}}function Sv(e){return Vu(e,{leave:Ov})}var Cv=80,Ov={Name:function(t){return t.value},Variable:function(t){return"$"+t.name},Document:function(t){return S(t.definitions,`

`)+`
`},OperationDefinition:function(t){var n=t.operation,r=t.name,i=ue("(",S(t.variableDefinitions,", "),")"),o=S(t.directives," "),a=t.selectionSet;return!r&&!o&&!i&&n==="query"?a:S([n,S([r,i]),o,a]," ")},VariableDefinition:function(t){var n=t.variable,r=t.type,i=t.defaultValue,o=t.directives;return n+": "+r+ue(" = ",i)+ue(" ",S(o," "))},SelectionSet:function(t){var n=t.selections;return ze(n)},Field:function(t){var n=t.alias,r=t.name,i=t.arguments,o=t.directives,a=t.selectionSet,s=ue("",n,": ")+r,l=s+ue("(",S(i,", "),")");return l.length>Cv&&(l=s+ue(`(
`,Jr(S(i,`
`)),`
)`)),S([l,S(o," "),a]," ")},Argument:function(t){var n=t.name,r=t.value;return n+": "+r},FragmentSpread:function(t){var n=t.name,r=t.directives;return"..."+n+ue(" ",S(r," "))},InlineFragment:function(t){var n=t.typeCondition,r=t.directives,i=t.selectionSet;return S(["...",ue("on ",n),S(r," "),i]," ")},FragmentDefinition:function(t){var n=t.name,r=t.typeCondition,i=t.variableDefinitions,o=t.directives,a=t.selectionSet;return"fragment ".concat(n).concat(ue("(",S(i,", "),")")," ")+"on ".concat(r," ").concat(ue("",S(o," ")," "))+a},IntValue:function(t){var n=t.value;return n},FloatValue:function(t){var n=t.value;return n},StringValue:function(t,n){var r=t.value,i=t.block;return i?dv(r,n==="description"?"":"  "):JSON.stringify(r)},BooleanValue:function(t){var n=t.value;return n?"true":"false"},NullValue:function(){return"null"},EnumValue:function(t){var n=t.value;return n},ListValue:function(t){var n=t.values;return"["+S(n,", ")+"]"},ObjectValue:function(t){var n=t.fields;return"{"+S(n,", ")+"}"},ObjectField:function(t){var n=t.name,r=t.value;return n+": "+r},Directive:function(t){var n=t.name,r=t.arguments;return"@"+n+ue("(",S(r,", "),")")},NamedType:function(t){var n=t.name;return n},ListType:function(t){var n=t.type;return"["+n+"]"},NonNullType:function(t){var n=t.type;return n+"!"},SchemaDefinition:Ve(function(e){var t=e.directives,n=e.operationTypes;return S(["schema",S(t," "),ze(n)]," ")}),OperationTypeDefinition:function(t){var n=t.operation,r=t.type;return n+": "+r},ScalarTypeDefinition:Ve(function(e){var t=e.name,n=e.directives;return S(["scalar",t,S(n," ")]," ")}),ObjectTypeDefinition:Ve(function(e){var t=e.name,n=e.interfaces,r=e.directives,i=e.fields;return S(["type",t,ue("implements ",S(n," & ")),S(r," "),ze(i)]," ")}),FieldDefinition:Ve(function(e){var t=e.name,n=e.arguments,r=e.type,i=e.directives;return t+(ac(n)?ue(`(
`,Jr(S(n,`
`)),`
)`):ue("(",S(n,", "),")"))+": "+r+ue(" ",S(i," "))}),InputValueDefinition:Ve(function(e){var t=e.name,n=e.type,r=e.defaultValue,i=e.directives;return S([t+": "+n,ue("= ",r),S(i," ")]," ")}),InterfaceTypeDefinition:Ve(function(e){var t=e.name,n=e.interfaces,r=e.directives,i=e.fields;return S(["interface",t,ue("implements ",S(n," & ")),S(r," "),ze(i)]," ")}),UnionTypeDefinition:Ve(function(e){var t=e.name,n=e.directives,r=e.types;return S(["union",t,S(n," "),r&&r.length!==0?"= "+S(r," | "):""]," ")}),EnumTypeDefinition:Ve(function(e){var t=e.name,n=e.directives,r=e.values;return S(["enum",t,S(n," "),ze(r)]," ")}),EnumValueDefinition:Ve(function(e){var t=e.name,n=e.directives;return S([t,S(n," ")]," ")}),InputObjectTypeDefinition:Ve(function(e){var t=e.name,n=e.directives,r=e.fields;return S(["input",t,S(n," "),ze(r)]," ")}),DirectiveDefinition:Ve(function(e){var t=e.name,n=e.arguments,r=e.repeatable,i=e.locations;return"directive @"+t+(ac(n)?ue(`(
`,Jr(S(n,`
`)),`
)`):ue("(",S(n,", "),")"))+(r?" repeatable":"")+" on "+S(i," | ")}),SchemaExtension:function(t){var n=t.directives,r=t.operationTypes;return S(["extend schema",S(n," "),ze(r)]," ")},ScalarTypeExtension:function(t){var n=t.name,r=t.directives;return S(["extend scalar",n,S(r," ")]," ")},ObjectTypeExtension:function(t){var n=t.name,r=t.interfaces,i=t.directives,o=t.fields;return S(["extend type",n,ue("implements ",S(r," & ")),S(i," "),ze(o)]," ")},InterfaceTypeExtension:function(t){var n=t.name,r=t.interfaces,i=t.directives,o=t.fields;return S(["extend interface",n,ue("implements ",S(r," & ")),S(i," "),ze(o)]," ")},UnionTypeExtension:function(t){var n=t.name,r=t.directives,i=t.types;return S(["extend union",n,S(r," "),i&&i.length!==0?"= "+S(i," | "):""]," ")},EnumTypeExtension:function(t){var n=t.name,r=t.directives,i=t.values;return S(["extend enum",n,S(r," "),ze(i)]," ")},InputObjectTypeExtension:function(t){var n=t.name,r=t.directives,i=t.fields;return S(["extend input",n,S(r," "),ze(i)]," ")}};function Ve(e){return function(t){return S([t.description,e(t)],`
`)}}function S(e){var t,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return(t=e==null?void 0:e.filter(function(r){return r}).join(n))!==null&&t!==void 0?t:""}function ze(e){return ue(`{
`,Jr(S(e,`
`)),`
}`)}function ue(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"";return t!=null&&t!==""?e+t+n:""}function Jr(e){return ue("  ",e.replace(/\n/g,`
  `))}function Av(e){return e.indexOf(`
`)!==-1}function ac(e){return e!=null&&e.some(Av)}var Rv=e=>e instanceof Yr?e:typeof e=="object"&&e.message?new Yr(e.message,e.nodes,e.source,e.positions,e.path,e,e.extensions||{}):new Yr(e);class Sa extends Error{constructor(t){var n=(t.graphQLErrors||[]).map(Rv),r=((i,o)=>{var a="";if(i)return`[Network] ${i.message}`;if(o)for(var s of o)a&&(a+=`
`),a+=`[GraphQL] ${s.message}`;return a})(t.networkError,n);super(r),this.name="CombinedError",this.message=r,this.graphQLErrors=n,this.networkError=t.networkError,this.response=t.response}toString(){return this.message}}var Yo=(e,t)=>{for(var n=typeof t=="number"?0|t:5381,r=0,i=0|e.length;r<i;r++)n=(n<<5)+n+e.charCodeAt(r);return n},Kr=new Set,sc=new WeakMap,jn=e=>{if(e===null||Kr.has(e))return"null";if(typeof e!="object")return JSON.stringify(e)||"";if(e.toJSON)return jn(e.toJSON());if(Array.isArray(e)){var t="[";for(var n of e)t!=="["&&(t+=","),t+=(n=jn(n)).length>0?n:"null";return t+="]"}var r=Object.keys(e).sort();if(!r.length&&e.constructor&&e.constructor!==Object){var i=sc.get(e)||Math.random().toString(36).slice(2);return sc.set(e,i),`{"__key":"${i}"}`}Kr.add(e);var o="{";for(var a of r){var s=jn(e[a]);s&&(o.length>1&&(o+=","),o+=jn(a)+":"+s)}return Kr.delete(e),o+="}"},Wo=e=>(Kr.clear(),jn(e)),Pv=/("{3}[\s\S]*"{3}|"(?:\\.|[^"])*")/g,Dv=/(#[^\n\r]+)?(?:\n|\r\n?|$)+/g,Lv=(e,t)=>t%2==0?e.replace(Dv,`
`):e,cc=e=>e.split(Pv).map(Lv).join("").trim(),lc=new Map,Xr=new Map,ji=e=>{var t;return typeof e=="string"?t=cc(e):e.loc&&Xr.get(e.__key)===e?t=e.loc.source.body:(t=lc.get(e)||cc(Sv(e)),lc.set(e,t)),typeof e!="string"&&!e.loc&&(e.loc={start:0,end:t.length,source:{body:t,name:"gql",locationOffset:{line:1,column:1}}}),t},uc=e=>{var t=Yo(ji(e));if(typeof e=="object"&&"definitions"in e){var n=zu(e);n&&(t=Yo(`
# ${n}`,t))}return t},_i=e=>{var t,n;return typeof e=="string"?(t=uc(e),n=Xr.get(t)||kv(e,{noLocation:!0})):(t=e.__key||uc(e),n=Xr.get(t)||e),n.loc||ji(n),n.__key=t,Xr.set(t,n),n},pn=(e,t)=>{t||(t={});var n=_i(e),r=Wo(t),i=n.__key;return r!=="{}"&&(i=Yo(r,i)),{key:i,query:n,variables:t}},zu=e=>{for(var t of e.definitions)if(t.kind===L.OPERATION_DEFINITION&&t.name)return t.name.value},go=(e,t,n)=>{if(!("data"in t)&&!("errors"in t)||"incremental"in t)throw new Error("No Content");var r=e.kind==="subscription";return{operation:e,data:t.data,error:Array.isArray(t.errors)?new Sa({graphQLErrors:t.errors,response:n}):void 0,extensions:typeof t.extensions=="object"&&t.extensions||void 0,hasNext:t.hasNext==null?r:t.hasNext}},$v=(e,t,n)=>{var r,i=!!e.extensions||!!t.extensions,o={...e.extensions,...t.extensions},a=e.error?e.error.graphQLErrors:[],s=t.incremental;if("path"in t&&(s=[{data:t.data,path:t.path}]),s){r={...e.data};for(var l of s){Array.isArray(l.errors)&&a.push(...l.errors),l.extensions&&(Object.assign(o,l.extensions),i=!0);for(var u=l.path[0],d=r,p=1,f=l.path.length;p<f;u=l.path[p++])d=d[u]=Array.isArray(d[u])?[...d[u]]:{...d[u]};if(Array.isArray(l.items))for(var h=+u>=0?u:0,m=0,y=l.items.length;m<y;m++)d[h+m]=l.items[m];else l.data!==void 0&&(d[u]=d[u]&&l.data?{...d[u],...l.data}:l.data)}}else r=t.data||e.data;return{operation:e.operation,data:r,error:a.length?new Sa({graphQLErrors:a,response:n}):void 0,extensions:i?o:void 0,hasNext:!!t.hasNext}},dc=(e,t,n)=>({operation:e,data:void 0,error:new Sa({networkError:t,response:n}),extensions:void 0});function Mv(e){return{query:ji(e.query),operationName:zu(e.query),variables:e.variables||void 0,extensions:void 0}}var Fv=(e,t)=>{var n=e.kind==="query"&&e.context.preferGetMethod;if(!n||!t)return e.context.url;var r=new URL(e.context.url),i=r.searchParams;t.operationName&&i.set("operationName",t.operationName),t.query&&i.set("query",t.query),t.variables&&i.set("variables",Wo(t.variables)),t.extensions&&i.set("extensions",Wo(t.extensions));var o=r.toString();return o.length>2047&&n!=="force"?(e.context.preferGetMethod=!1,e.context.url):o},Uv=(e,t)=>{var n=e.kind==="query"&&!!e.context.preferGetMethod,r={accept:"multipart/mixed, application/graphql-response+json, application/graphql+json, application/json"};n||(r["content-type"]="application/json");var i=(typeof e.context.fetchOptions=="function"?e.context.fetchOptions():e.context.fetchOptions)||{};if(i.headers)for(var o in i.headers)r[o.toLowerCase()]=i.headers[o];return{...i,body:!n&&t?JSON.stringify(t):void 0,method:n?"GET":"POST",headers:r}},qv=typeof TextDecoder<"u"?new TextDecoder:null,jv=/content-type:[^\r\n]*application\/json/i,Bv=/boundary="?([^=";]+)"?/i,Vv=(e,t,n)=>{var r=n.redirect==="manual"?400:300,i=e.context.fetch;return Wt(({next:o,complete:a})=>{var s=typeof AbortController<"u"?new AbortController:null;s&&(n.signal=s.signal);var l=!1,u=(h,m,y)=>{var x=y.headers&&y.headers.get("Content-Type")||"";if(/text\//i.test(x))return y.text().then(X=>{h(dc(m,new Error(X),y))});if(!/multipart\/mixed/i.test(x))return y.text().then(X=>{h(go(m,JSON.parse(X),y))});var g="---",b=x.match(Bv);b&&(g="--"+b[1]);var v,_=()=>{};if(y[Symbol.asyncIterator]){var w=y[Symbol.asyncIterator]();v=w.next.bind(w)}else if("body"in y&&y.body){var N=y.body.getReader();_=()=>N.cancel(),v=()=>N.read()}else throw new TypeError("Streaming requests unsupported");var T="",I=!0,M=null,F=null;return v().then(function X(Y){if(Y.done)l=!0;else{var te=(le=Y.value).constructor.name==="Buffer"?le.toString():qv.decode(le),O=te.indexOf(g);for(O>-1?O+=T.length:O=T.indexOf(g),T+=te;O>-1;){var H=T.slice(0,O),$=T.slice(O+g.length);if(I)I=!1;else{var j=H.indexOf(`\r
\r
`)+4,Z=H.slice(0,j),pe=H.slice(j,H.lastIndexOf(`\r
`)),U=void 0;if(jv.test(Z))try{U=JSON.parse(pe),M=F=F?$v(F,U,y):go(m,U,y)}catch{}if($.slice(0,2)==="--"||U&&!U.hasNext){if(!F)return h(go(m,{},y));break}}O=(T=$).indexOf(g)}}var le;if(M&&(h(M),M=null),!Y.done&&(!F||F.hasNext))return v().then(X)}).finally(_)},d=!1,p=!1,f;return Promise.resolve().then(()=>{if(!d)return(i||fetch)(t,n)}).then(h=>{if(h)return p=(f=h).status<200||f.status>=r,u(o,e,f)}).then(a).catch(h=>{if(l)throw h;var m=dc(e,p&&f.statusText?new Error(f.statusText):h,f);o(m),a()}),()=>{d=!0,s&&s.abort()}})},Jo=(e,t)=>{if(Array.isArray(e))for(var n of e)Jo(n,t);else if(typeof e=="object"&&e!==null)for(var r in e)r==="__typename"&&typeof e[r]=="string"?t.add(e[r]):Jo(e[r],t);return t},pc=e=>{if(!e.selectionSet)return e;for(var t of e.selectionSet.selections)if(t.kind===L.FIELD&&t.name.value==="__typename"&&!t.alias)return e;return{...e,selectionSet:{...e.selectionSet,selections:[...e.selectionSet.selections,{kind:L.FIELD,name:{kind:L.NAME,value:"__typename"}}]}}},hc=new Map,zv=e=>{var t=_i(e),n=hc.get(t.__key);return n||(n=Vu(t,{Field:pc,InlineFragment:pc}),Object.defineProperty(n,"__key",{value:t.__key,enumerable:!1}),hc.set(t.__key,n)),n},Ko=(e,t)=>{if(!e||typeof e!="object")return e;if(Array.isArray(e))return e.map(i=>Ko(i));if(e&&typeof e=="object"&&(t||"__typename"in e)){var n={};for(var r in e)r==="__typename"?Object.defineProperty(n,"__typename",{enumerable:!1,value:e.__typename}):n[r]=Ko(e[r]);return n}else return e};function fc(e){return e.toPromise=()=>new Promise(t=>{var n=He(r=>{!r.stale&&!r.hasNext&&Promise.resolve().then(()=>{n.unsubscribe(),t(r)})})(e)}),e}function sr(e,t,n){return n||(n=t.context),{key:t.key,query:t.query,variables:t.variables,kind:e,context:n}}var mc=(e,t)=>sr(e.kind,e,{...e.context,meta:{...e.context.meta,...t}}),Gv=()=>{},gc=(e,t,n)=>{for(var r of n)if(r.kind===L.FRAGMENT_DEFINITION){var i=r.name.value,o=ji(r);e.has(i)||(e.set(i,o),t.push(r))}else t.push(r)};function z(){for(var e=new Map,t=[],n=[],r=Array.isArray(arguments[0])?arguments[0][0]:arguments[0]||"",i=1;i<arguments.length;i++){var o=arguments[i];o&&o.definitions?n.push(...o.definitions):r+=o,r+=arguments[0][i]}return gc(e,t,_i(r).definitions),gc(e,t,n),_i({kind:L.DOCUMENT,definitions:t})}var vo=({kind:e})=>e!=="mutation"&&e!=="query",Hv=({forward:e,client:t,dispatchDebug:n})=>{var r=new Map,i=new Map,o=s=>{var l=sr(s.kind,s);return l.query=zv(s.query),l},a=s=>{var{key:l,kind:u,context:{requestPolicy:d}}=s;return u==="query"&&d!=="network-only"&&(d==="cache-only"||r.has(l))};return s=>{var l=Ue(s),u=Ie(p=>{var f=r.get(p.key),h={...f,operation:mc(p,{cacheOutcome:f?"hit":"miss"})};return p.context.requestPolicy==="cache-and-network"&&(h.stale=!0,vc(t,p)),h})(ee(p=>!vo(p)&&a(p))(l)),d=et(p=>{var{operation:f}=p;if(f){var h=(T=>[...Jo(T,new Set)])(p.data).concat(f.context.additionalTypenames||[]);if(p.operation.kind==="mutation"){for(var m=new Set,y=0;y<h.length;y++){var x=h[y],g=i.get(x);g||i.set(x,g=new Set);for(var b of g.values())m.add(b);g.clear()}for(var v of m.values())r.has(v)&&(f=r.get(v).operation,r.delete(v),vc(t,f))}else if(f.kind==="query"&&p.data){r.set(f.key,p);for(var _=0;_<h.length;_++){var w=h[_],N=i.get(w);N||i.set(w,N=new Set),N.add(f.key)}}}})(e(ee(p=>p.kind!=="query"||p.context.requestPolicy!=="cache-only")(Ie(p=>mc(p,{cacheOutcome:"miss"}))(Ye([Ie(o)(ee(p=>!vo(p)&&!a(p))(l)),ee(p=>vo(p))(l)])))));return Ye([u,d])}},vc=(e,t)=>e.reexecuteOperation(sr(t.kind,t,{...t.context,requestPolicy:"network-only"})),Qv=({forward:e,dispatchDebug:t})=>{var n=new Set,r=o=>{var{key:a,kind:s}=o;if(s==="teardown"||s==="mutation")return n.delete(a),!0;var l=n.has(a);return n.add(a),!l},i=({operation:o,hasNext:a})=>{a||n.delete(o.key)};return o=>{var a=ee(r)(o);return et(i)(e(a))}},Yv=({forward:e,dispatchDebug:t})=>n=>{var r=Ue(n),i=yr(a=>{var{key:s}=a,l=Mv(a),u=Fv(a,l),d=Uv(a,l),p=Nn(ee(f=>f.kind==="teardown"&&f.key===s)(r))(Vv(a,u,d));return p})(ee(a=>a.kind==="query"||a.kind==="mutation")(r)),o=e(ee(a=>a.kind!=="query"&&a.kind!=="mutation")(r));return Ye([i,o])},Wv=e=>({client:t,forward:n,dispatchDebug:r})=>e.reduceRight((i,o)=>o({client:t,forward:i,dispatchDebug(a){}}),n),Jv=[Qv,Hv,Yv],Kv=({dispatchDebug:e})=>t=>ee(()=>!1)(et(n=>{if(n.kind!=="teardown"&&!1)var r})(t)),Xv=function e(t){var n=0,r=new Map,i=new Map,o=[],a={url:t.url,fetchOptions:t.fetchOptions,fetch:t.fetch,preferGetMethod:!!t.preferGetMethod,requestPolicy:t.requestPolicy||"cache-first"},{source:s,next:l}=ha(),u=!1;function d(g){if(g&&l(g),!u){for(u=!0;u&&(g=o.shift());)l(g);u=!1}}var p=g=>{var b=ee(v=>v.operation.kind===g.kind&&v.operation.key===g.key&&(!v.operation.context._instance||v.operation.context._instance===g.context._instance))(x);return t.maskTypename&&(b=Ie(v=>({...v,data:Ko(v.data,!0)}))(b)),g.kind==="mutation"?Zn(1)(Xn(()=>l(g))(b)):Ue(Kn(()=>{r.delete(g.key),i.delete(g.key);for(var v=o.length-1;v>=0;v--)o[v].key===g.key&&o.splice(v,1);l(sr("teardown",g,g.context))})(et(v=>{r.set(g.key,v)})(Ol(v=>g.kind!=="query"||v.stale?er(v):Ye([er(v),Ie(()=>({...v,stale:!0}))(Zn(1)(ee(_=>_.kind==="query"&&_.key===g.key&&_.context.requestPolicy!=="cache-only")(s)))]))(Nn(ee(v=>v.kind==="teardown"&&v.key===g.key)(s))(b)))))},f=this instanceof e?this:Object.create(e.prototype),h=Object.assign(f,{suspense:!!t.suspense,operations$:s,reexecuteOperation(g){(g.kind==="mutation"||i.has(g.key))&&(o.push(g),Promise.resolve().then(d))},createRequestOperation(g,b,v){return v||(v={}),sr(g,b,{_instance:g==="mutation"?n=n+1|0:void 0,...a,...v,requestPolicy:v.requestPolicy||a.requestPolicy,suspense:v.suspense||v.suspense!==!1&&h.suspense})},executeRequestOperation(g){return g.kind==="mutation"?p(g):Wt(b=>{var v=i.get(g.key);v||i.set(g.key,v=p(g));var _=g.context.requestPolicy==="cache-and-network"||g.context.requestPolicy==="network-only";return He(b.next)(Kn(()=>{u=!1,b.complete()})(Xn(()=>{var w=r.get(g.key);if(g.kind==="subscription")return d(g);_&&d(g),w!=null&&w===r.get(g.key)?b.next(_?{...w,stale:!0}:w):_||d(g)})(v))).unsubscribe})},executeQuery(g,b){var v=h.createRequestOperation("query",g,b);return h.executeRequestOperation(v)},executeSubscription(g,b){var v=h.createRequestOperation("subscription",g,b);return h.executeRequestOperation(v)},executeMutation(g,b){var v=h.createRequestOperation("mutation",g,b);return h.executeRequestOperation(v)},query(g,b,v){return(!v||typeof v.suspense!="boolean")&&(v={...v,suspense:!1}),fc(h.executeQuery(pn(g,b),v))},readQuery(g,b,v){var _=null;return He(w=>{_=w})(h.query(g,b,v)).unsubscribe(),_},subscription:(g,b,v)=>h.executeSubscription(pn(g,b),v),mutation:(g,b,v)=>fc(h.executeMutation(pn(g,b),v))}),m=Gv,y=Wv(t.exchanges!==void 0?t.exchanges:Jv),x=Ue(y({client:h,dispatchDebug:m,forward:Kv({dispatchDebug:m})})(s));return Al(x),h},Ca=Xv,Zv=Ca({url:"/graphql"}),Bi=kn(Zv),ey=Bi.Provider;Bi.Consumer;Bi.displayName="UrqlContext";var Gu=()=>{var e=Qt(Bi);return e},Xo={fetching:!1,stale:!1,error:void 0,data:void 0,extensions:void 0,operation:void 0},yo=(e,t)=>{var n={...e,...t,data:t.data!==void 0||t.error?t.data:e.data,fetching:!!t.fetching,stale:!!t.stale};return((r,i)=>{if(typeof r!="object"||typeof i!="object")return r!==i;for(var o in r)if(!(o in i))return!0;for(var a in i)if(r[a]!==i[a])return!0;return!1})(e,n)?n:e},ty=(e,t)=>{for(var n=0,r=t.length;n<r;n++)if(e[n]!==t[n])return!0;return!1};function Se(e){var t=ft(!0),n=Gu(),[r,i]=It(Xo),o=Ft((a,s)=>(i({...Xo,fetching:!0}),Rl(n.executeMutation(pn(e,a),s||{})).then(l=>(t.current&&i({fetching:!1,stale:!!l.stale,data:l.data,error:l.error,extensions:l.extensions,operation:l.operation}),l))),[n,e,i]);return Te(()=>(t.current=!0,()=>{t.current=!1}),[]),[r,o]}function ny(e,t){var n=ft(void 0);return de(()=>{var r=pn(e,t);return n.current!==void 0&&n.current.key===r.key?n.current:(n.current=r,r)},[e,t])}function rt(e){var t=Gu(),n=(f=>{if(!f._react){var h=new Set,m=new Map;f.operations$&&He(y=>{y.kind==="teardown"&&h.has(y.key)&&(h.delete(y.key),m.delete(y.key))})(f.operations$),f._react={get:y=>m.get(y),set(y,x){h.delete(y),m.set(y,x)},dispose(y){h.add(y)}}}return f._react})(t),r=((f,h)=>f.suspense&&(!h||h.suspense!==!1))(t,e.context),i=ny(e.query,e.variables),o=de(()=>{if(e.pause)return null;var f=t.executeQuery(i,{requestPolicy:e.requestPolicy,...e.context});return r?et(h=>{n.set(i.key,h)})(f):f},[n,t,i,r,e.pause,e.requestPolicy,e.context]),a=Ft((f,h)=>{if(!f)return{fetching:!1};var m=n.get(i.key);if(m){if(h&&m!=null&&"then"in m)throw m}else{var y,x=He(b=>{m=b,y&&y(m)})(Eh(()=>h&&!y||!m)(f));if(m==null&&h){var g=new Promise(b=>{y=b});throw n.set(i.key,g),g}else x.unsubscribe()}return m||{fetching:!0}},[n,i]),s=[t,i,e.requestPolicy,e.context,e.pause],[l,u]=It(()=>[o,yo(Xo,a(o,r)),s]),d=l[1];o!==l[0]&&ty(l[2],s)&&u([o,d=yo(l[1],a(o,r)),s]),Te(()=>{var f=l[0],h=l[2][1],m=!1,y=g=>{m=!0,u(b=>{var v=yo(b[1],g);return b[1]!==v?[b[0],v,b[2]]:b})};if(f){var x=He(y)(Kn(()=>{y({fetching:!1})})(f));return m||y({fetching:!0}),()=>{n.dispose(h.key),x.unsubscribe()}}else y({fetching:!1})},[n,l[0],l[2][1]]);var p=Ft(f=>{var h={requestPolicy:e.requestPolicy,...e.context,...f};u(m=>[r?et(y=>{n.set(i.key,y)})(t.executeQuery(i,h)):t.executeQuery(i,h),m[1],s])},[t,n,i,r,a,e.requestPolicy,e.context]);return[d,p]}var ry=0;function c(e,t,n,r,i,o){var a,s,l={};for(s in t)s=="ref"?a=t[s]:l[s]=t[s];var u={type:e,props:l,key:n,ref:a,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:--ry,__source:i,__self:o};if(typeof e=="function"&&(a=e.defaultProps))for(s in a)l[s]===void 0&&(l[s]=a[s]);return A.vnode&&A.vnode(u),u}const iy=B(({children:e})=>c(ey,{value:Cn.get().gqlClient,children:e}));var On=(e=>(e.Toast="toast",e.Modal="modal",e.Page="page",e))(On||{});const bt=re([]),Zo=re(),Zr=re(!1),kr=e=>{switch(console.log("creating error"),console.error(e.message),e.type){case"toast":bt.set([...bt.peek(),e]),console.log(bt.peek()),setTimeout(()=>{bt.set(bt.peek().filter(t=>t!==e))},3e3);break;case"modal":Zo.set(e),Zr.set(!0);break}};function D(e){document.adoptedStyleSheets.push(e)}function R(e,...t){var i;let n="";e.forEach((o,a)=>{const s=t[a];n+=o,s&&(n+=s)});const r=new CSSStyleSheet;return(i=r.replaceSync)==null||i.call(r,n),r}const oy=R`.c-toast {
  position: fixed;
  bottom: 0;
  right: 0;
  display: flex;
  flex-direction: column-reverse;
  align-items: flex-end;
  padding: 1em;
  gap: 1em;
}
.c-toast > .toast-item {
  display: flex;
  align-items: center;
  justify-content: center;
  background-color: #1f1f1f;
  color: white;
  padding: 1em;
  border-radius: 0.5em;
  cursor: pointer;
  animation: fadeInOut 2s forwards;
}

@keyframes fadeInOut {
  0% {
    opacity: 0;
    transform: translateX(-100%);
  }
  10%, 90% {
    opacity: 1;
    transform: translateX(0);
  }
  100% {
    opacity: 0;
    transform: translateX(100%);
  }
}`,ay=B(()=>(D(oy),c("div",{className:"c-toast",children:bt.get().map((e,t)=>c("div",{className:"toast-item",children:e.title},t))}))),sy=R`* {
  font-family: "Inter";
  font-style: normal;
  font-weight: 600;
}

html,
body,
#app,
.root-layout {
  --truffle-bg-color: #101010;
  --de-emphasized-text: #9f9f9f;
  --truffle-primary-color: #f357a1;
  height: 100%;
  background: var(--truffle-bg-color);
  color: #fff;
}

body {
  margin: 0;
}

.root-layout {
  max-width: 1440px;
  margin: 0 auto;
  color: white;
  overflow: auto;
  position: relative;
  height: 100%;
  display: flex;
  flex-direction: column;
}

.t-centered-page {
  flex: 1; /*parent is root-layout and is a flexbox so this should center*/
  background: var(--truffle-bg-color);
  color: white;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  margin: 20px 0px;
}

.t-button {
  background: #f357a1;
  border-radius: 4px;
  color: white;
  padding: 12px 20px;
  border: none;
  font-size: 16px;
  color: white;
  text-decoration: none;
}
.t-button:hover {
  cursor: pointer;
  /* ask rachel what color for hover */
}
.t-button:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

.t-button-dark {
  border-radius: 2px;
  color: white;
  border: 1px solid white;
  padding: 4px 10px;
  background: var(--truffle-bg-color);
}

.t-label {
  font-weight: 500;
  font-size: 14px;
  color: #ffffff;
  margin-bottom: 8px;
}

.t-divider {
  margin: 0px;
  padding: 0px;
  height: 1px;
  width: 100%;
  background: rgba(255, 255, 255, 0.12);
}

.t-caps-title {
  color: var(--de-emphasized-text, #9f9f9f);
  font-size: 12px;
  font-family: Inter;
  font-weight: 700;
  line-height: 16px;
  letter-spacing: 0.5px;
  text-transform: uppercase;
  margin: 7px 0px;
  margin-bottom: 4px;
}

.t-input {
  background: #303030;
  border-radius: 4px;
  border: none;
  font-weight: 500;
  color: white;
  padding: 12px 14px;
}
.t-input:focus {
  outline: 1px solid #f357a1;
}

.t-link {
  color: white;
  font-weight: 500;
  font-size: 14px;
  text-decoration: underline;
  transition: ease-in-out 0.2s;
}
.t-link:hover {
  cursor: pointer;
  color: #f357a1;
}

::-webkit-scrollbar {
  width: 4px;
  height: 4px;
}

::-webkit-scrollbar-track {
  background-color: transparent;
}

::-webkit-scrollbar-thumb {
  background-color: #444;
  border-radius: 4px;
}`,cy=R`.c-error-modal {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: 1;
}
.c-error-modal > .curtain {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: var(--truffle-bg-color);
  opacity: 0.7;
  z-index: 1;
}
.c-error-modal > .modal {
  display: flex;
  flex-direction: column;
  justify-content: space-around;
  align-items: center;
  font-family: "Inter";
  font-style: normal;
  line-height: 20px;
  background: linear-gradient(0deg, rgba(255, 255, 255, 0.2), rgba(255, 255, 255, 0.2)), #000000;
  color: white;
  width: 400px;
  padding: 30px 20px;
  border-radius: 4px;
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  z-index: 2;
}
.c-error-modal > .modal > .header {
  width: 100%;
  display: flex;
  justify-content: flex-end;
}
.c-error-modal > .modal > .header > .close-button {
  font-size: 24px;
  cursor: pointer;
}
.c-error-modal > .modal > .title {
  font-size: 2em;
  text-align: center;
  margin-bottom: 0.5em;
}
.c-error-modal > .modal > .code {
  font-style: italic;
  font-size: 0.75em;
  font-weight: 300;
}
.c-error-modal > .modal > .code,
.c-error-modal > .modal .subtitle {
  text-align: center;
  margin-bottom: 1em;
}
.c-error-modal > .modal > button {
  background: #f357a1;
  border-radius: 4px;
  color: white;
  padding: 12px 20px;
  border: none;
  font-size: 16px;
  width: 150px;
}
.c-error-modal > .modal > button:hover {
  cursor: pointer;
}`,ly=B(()=>{if(D(cy),!Zr.get()||!Zo.get())return null;const{title:e,subtitle:t,code:n,buttonText:r,action:i}=Zo.get(),o=()=>{i(),Zr.set(!1)};return c("div",{className:"c-error-modal",children:[c("div",{className:"curtain",onClick:()=>{Zr.set(!1)}}),c("div",{className:"modal",children:[c("div",{className:"header",children:c("span",{className:"close-button",onClick:o,children:"×"})}),c("h2",{className:"title",children:e}),n&&c("div",{className:"code",children:["Error Code: ",n]}),c("div",{className:"subtitle",children:t}),c("button",{onClick:o,children:r})]})]})});ag({persistLocal:pg});const uy=()=>(D(sy),c(V,{children:[c(iy,{children:c(gt,{})}),c(ay,{}),c(ly,{}),c(Mw,{})]})),St=new Lp({component:uy}),dy=R`.c-nav {
  z-index: 100;
  box-sizing: border-box;
  background: var(--truffle-bg-color);
  display: flex;
  border-bottom: 1px solid rgba(255, 255, 255, 0.12);
}
.c-nav > .nav-container {
  max-width: 1440px;
  margin: 0 auto;
  display: flex;
  justify-content: space-between;
  align-items: center;
  height: 64px;
  width: 100%;
  padding: 16px 1em;
  box-sizing: border-box;
}
.c-nav > .nav-container > .logo {
  display: flex;
  align-items: center;
}
.c-nav > .nav-container > .logo > .logo-img {
  height: calc(100% - 32px);
  width: auto;
}
.c-nav > .nav-container > .logo > .beta-tag {
  margin-left: 20px;
  width: 45px;
}
.c-nav > .nav-container > .nav-links {
  display: flex;
}
.c-nav > .nav-container > .nav-links > .nav-item {
  list-style-type: none;
}
.c-nav > .nav-container > .nav-links > .nav-item > .nav-link {
  color: white;
  text-decoration: none;
  margin-left: 1em;
}
.c-nav > .nav-container > .nav-links > .nav-item > .nav-link:hover {
  color: #ddd;
}`,py="/assets/logo-61fde850.svg",hy="/assets/beta-tag-0884d03b.png",Hu=({shouldHideLinks:e,isBeta:t})=>(D(dy),c("nav",{className:"c-nav",children:c("div",{className:"nav-container",children:[c("div",{className:"logo",children:[c("img",{className:"logo-img",src:py,alt:"Truffle Logo"}),t&&c("img",{className:"beta-tag",src:hy,alt:"Beta"})]}),e?void 0:c("ul",{className:"nav-links",children:[c("li",{className:"nav-item",children:c(me,{to:"/login",className:"nav-link",children:"Login"})}),c("li",{className:"nav-item",children:c(me,{to:"/profile/global",className:"nav-link",children:"Profile"})})]})]})})),Xe=new Q({getParentRoute:()=>St,id:"nav-layout",component:function(){return c(V,{children:c("div",{className:"root-layout",children:[c(Hu,{}),c(gt,{})]})})}}),fy=new Q({getParentRoute:()=>Xe,path:"/",component:()=>c(V,{})}),my=R`.c-auth {
  display: flex;
  width: 100%;
  max-width: 540px;
  margin: 0 auto;
  flex-direction: column;
}
.c-auth > .title {
  font-size: 24px;
  margin: 0;
  margin-bottom: 32px;
}
.c-auth > .oauth-buttons {
  display: flex;
  flex-direction: column;
  gap: 20px;
}
.c-auth > .sep {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 100%;
  margin: 32px 0;
}
.c-auth > .sep > .line {
  flex-grow: 1;
  height: 1px;
  background: #363636;
}
.c-auth > .sep > .or {
  padding: 0 10px;
  font-size: 14px;
  color: white;
}
.c-auth > .alternative {
  color: rgba(255, 255, 255, 0.7);
  font-size: 14px;
  font-weight: 500;
  margin-top: 16px;
}
.c-auth > .alternative > .link {
  color: #ffffff;
  font-weight: 700;
  text-decoration: underline;
  display: inline;
  cursor: pointer;
}
.c-auth > .privacy {
  color: #fff;
  margin-top: 16px;
  font-size: 12px;
}`,Qu="truffle-oauth-callback";function Oa(e,t){return(n,r={})=>{r.redirectUri??(r.redirectUri=t.redirectUri),r.scopes??(r.scopes=t.scopes),r.clientId??(r.clientId=t.clientId),r.windowFeatures??(r.windowFeatures=t.windowFeatures),r.target??(r.target=t.target),r.additionalParams={...t.additionalParams,...r.additionalParams};const i=btoa(JSON.stringify(n)),o=Object.entries(r.additionalParams).reduce((s,[l,u])=>`${s}&${l}=${encodeURIComponent(u)}`,""),a=`${e}?response_type=code&client_id=${r.clientId}&redirect_uri=${r.redirectUri}&scope=${r.scopes}&state=${i}`+o;return new Promise((s,l)=>{const u=window.open(a,r.target,r.windowFeatures);let d=!1;const p=_h({allowedOrigins:[new URL(r.redirectUri).origin],namespace:Qu,api:{oAuthCallback:(h,m)=>{d||(d=!0,m!=null&&m.error?l(m.error):s(m),p.close())}}}),f=setInterval(()=>{if(d){clearInterval(f);return}u!=null&&u.closed&&(d=!0,l({message:"The user closed the oauth window.",code:"user_closed_window"}),clearInterval(f),p.close())},10)})}}const gy=Oa("https://discord.com/api/oauth2/authorize",{redirectUri:"https://app.truffle.vip/oauth/callback/discord",scopes:"identify email",clientId:"897162826173521971",windowFeatures:"width=500,height=850,top=100,left=100",target:"_blank",additionalParams:{prompt:"consent"}}),Yu=Oa("https://accounts.google.com/o/oauth2/v2/auth",{redirectUri:"https://app.truffle.vip/oauth/callback/youtube",scopes:"https://www.googleapis.com/auth/youtube.readonly https://www.googleapis.com/auth/userinfo.email",clientId:"710684531554-58ngiqv3jreg88ns30s3vkptb401rja1.apps.googleusercontent.com",windowFeatures:"width=500,height=850,top=100,left=100",target:"_blank",additionalParams:{include_granted_scopes:"true",access_type:"offline"}}),Wu=Oa("https://id.twitch.tv/oauth2/authorize",{redirectUri:"https://app.truffle.vip/oauth/callback/twitch",scopes:"user:read:email",clientId:"fb6q8h4kvaaqmwbt3hntmv19ckz6fx",windowFeatures:"",target:"_blank",additionalParams:{force_verify:"false"}}),vy=R`.c-oauth-button-icon {
  margin: 0;
  padding: 0;
  border-radius: 4px;
  background: #1f1f1f;
  font-size: 16px;
  font-weight: 400;
  border: none;
  color: white;
  transition: 0.2s ease-in-out;
  width: 48px;
  height: 48px;
  border-radius: 4px;
}
.c-oauth-button-icon.youtube {
  background: #eb4433;
  background-image: url("https://cdn.bio/assets/icons/global/light/youtube.svg");
  background-position: center;
  background-size: 100% 100%;
}
.c-oauth-button-icon.twitch {
  background: #925aef;
  background-image: url("https://cdn.bio/assets/icons/global/light/twitch.svg");
  background-position: center;
  background-size: 100% 100%;
}
.c-oauth-button-icon.discord {
  background: #586aea;
  background-image: url("https://cdn.bio/assets/icons/global/light/discord.svg");
  background-position: center;
  background-size: 100% 100%;
}

.c-oauth-button {
  border-radius: 4px;
  background: #1f1f1f;
  height: 48px;
  font-size: 16px;
  font-weight: 400;
  border: none;
  color: white;
  transition: 0.2s ease-in-out;
  display: flex;
  flex-direction: row;
  align-items: center;
  justify-content: space-between;
  vertical-align: middle;
  padding: 16px;
}
.c-oauth-button:hover {
  background: #2f2f2f;
  cursor: pointer;
}
.c-oauth-button:before {
  content: "";
  align-self: left;
  background-repeat: no-repeat;
  background-size: 1.5em;
  background-position: left;
  width: 1.5em;
  height: 1.5em;
  transform: translateX(1.5em);
  margin-left: -1.5em;
  vertical-align: middle;
}
.c-oauth-button:after {
  content: "";
  width: 1.5em;
  height: 1.5em;
  margin-left: -1.5em;
}
.c-oauth-button.youtube:before {
  background-image: url("https://cdn.bio/assets/icons/youtube.svg");
}
.c-oauth-button.twitch:before {
  background-image: url("https://cdn.bio/assets/icons/twitch.svg");
}`,Aa=({type:e,isIcon:t,redirectUri:n,additionalParams:r,serviceName:i,oauthFlow:o,callback:a})=>{D(vy);const s=e==="login",l=async()=>{const u={accessToken:nt.peek(),action:"close",shouldLogin:e==="login",useAutoAction:!0};try{const d=await o(u,{redirectUri:n,additionalParams:r});d!=null&&d.accessToken&&e==="login"&&wr(d.accessToken),a==null||a(null,d)}catch(d){console.error(d),d instanceof Error?a==null||a(d):a==null||a(new Error("Unknown error"))}};return c("button",{className:`c-oauth-button${t?"-icon":""} ${i.toLowerCase()}`,onClick:l,children:!t&&(s?`Log in with ${i}`:`Connect your ${i}`)})},Ju=({type:e,isIcon:t,callback:n})=>{const r={...e==="login"?void 0:{prompt:"consent"}};return c(Aa,{type:e,serviceName:"YouTube",isIcon:t,redirectUri:ir("youtube"),additionalParams:r,oauthFlow:Yu,callback:n})},Ku=({type:e,isIcon:t,callback:n})=>{const r={force_verify:e==="login"?"false":"true"};return c(Aa,{type:e,isIcon:t,serviceName:"Twitch",redirectUri:ir("twitch"),additionalParams:r,oauthFlow:Wu,callback:n})},yy=R`.c-basic-auth-form {
  display: flex;
  flex-direction: column;
  gap: 20px;
}
.c-basic-auth-form > .input-field {
  display: flex;
  flex-direction: column;
}
.c-basic-auth-form > .input-field > .t-label {
  margin: 0;
  margin-bottom: 8px;
}
.c-basic-auth-form > .submit {
  margin-top: 20px;
}`,by=B(({mode:e,onAuth:t})=>{D(yy);const n=oe(""),r=oe(""),i=oe("");let o;e==="join"?o="Create Account":o="Login";const a=async()=>{var l,u;let s;if(e==="join"){const d=await ky(n.peek(),r.peek(),i.peek());s=(l=d==null?void 0:d.userJoin)==null?void 0:l.accessToken}else{const d=await xy(n.peek(),i.peek());s=(u=d==null?void 0:d.userLoginEmailPhone)==null?void 0:u.accessToken}s?(wr(s),t==null||t()):alert("There was an error logging in")};return c("div",{className:"c-basic-auth-form",children:[c("div",{className:"input-field",children:[c("label",{className:"t-label",children:"Email"}),c("input",{placeholder:"Email",type:"email",value:n.get(),onInput:ke(n),className:"t-input"})]}),e==="join"?c("div",{className:"input-field",children:[c("label",{className:"t-label",children:"Name"}),c("input",{placeholder:"Name",type:"text",value:r.get(),onInput:ke(r),className:"t-input"})]}):void 0,c("div",{className:"input-field",children:[c("label",{className:"t-label",children:"Password"}),c("input",{placeholder:"Password",type:"password",value:i.get(),onInput:ke(i),className:"t-input"})]}),c("button",{className:"t-button submit",onClick:a,children:o})]})}),_y=z`
  mutation EmailLogin($email: String!, $password: String!) {
    userLoginEmailPhone(input: { email: $email, password: $password }) {
      accessToken
    }
  }
`;async function xy(e,t){const n=Ca({url:ne()}),{data:r}=await n.mutation(_y,{email:e,password:t}).toPromise();return r}const wy=z`
  mutation EmailJoin($email: String!, $name: String!, $password: String!) {
    userJoin(input: { email: $email, name: $name, password: $password }) {
      accessToken
    }
  }
`;async function ky(e,t,n){const{data:r}=await Cn.get().gqlClient.mutation(wy,{email:e,name:t,password:n},{url:ne()}).toPromise();return r}const Ey=()=>c("button",{class:"c-logout-button",onClick:()=>{wr(void 0)},children:"Logout"});var Xt=(e=>(e.Join="join",e.Login="login",e))(Xt||{});const An=B(({mode:e,onAuth:t,joinPath:n,loginPath:r})=>{D(my);const i=oe(e),o=Sl();t=t||(()=>{o({to:"/getting-started"})});let a;if(i.get()==="join"?a="Sign up for Truffle":a="Log in to Truffle",Sn.get())return c(V,{children:[c("h1",{className:"title",children:"You're already logged in!"}),c(Ey,{})]});const s=()=>{n?o({to:n}):i.set("join")},l=()=>{r?o({to:r}):i.set("login")};return c("div",{className:"c-auth",children:[c("h1",{className:"title",children:a}),c("div",{className:"oauth-buttons",children:[c(Ju,{type:"login",callback:t}),c(Ku,{type:"login",callback:t})]}),c("h2",{className:"sep",children:[c("span",{className:"line"}),c("span",{className:"or",children:"Or"}),c("span",{className:"line"})]}),c(by,{mode:i.get(),onAuth:t}),i.get()==="join"?c("div",{className:"alternative",children:["Already have an account?"," ",c("div",{className:"link",onClick:l,children:"Sign in"})]}):c("div",{className:"alternative",children:["Don't have an account?"," ",c("div",{className:"link",onClick:s,children:"Sign up"})]}),c("a",{href:"https://truffle.vip/policies",target:"_blank",className:"privacy",rel:"noreferrer",children:"Privacy Policy"})]})}),Ny=R`.p-join {
  margin-top: 15vh;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
}`,Ty=B(()=>(D(Ny),c("div",{className:"p-join",children:c(An,{mode:Xt.Join,joinPath:"/join",loginPath:"/login"})}))),Iy=new Q({getParentRoute:()=>Xe,path:"/join",component:Ty}),Sy=R`.p-login {
  margin-top: 15vh;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
}`,Cy=B(()=>(D(Sy),c("div",{className:"p-login",children:c(An,{mode:Xt.Login,joinPath:"/join",loginPath:"/login"})}))),Oy=new Q({getParentRoute:()=>Xe,path:"/login",component:Cy}),cr={METHOD_NOT_FOUND:-32601,INVALID_ORIGIN:100,DEFAULT:-1},Vi={};Vi[cr.METHOD_NOT_FOUND]="Method not found";Vi[cr.INVALID_ORIGIN]="Invalid origin";Vi[cr.DEFAULT]="Error";const Ay=3e3,Ry=function(){let e=null,t=null,n=new Promise((r,i)=>(e=r,t=i,t));return n.resolve=e,n.reject=t,n},Xu=class{constructor({postMessage:e,timeout:t=Ay}={}){this.postMessage=e,this.timeout=t,this.pendingRequests={},this.callbackFunctions={},this.call=this.call.bind(this),this.resolve=this.resolve.bind(this),this.resolveRPCResponse=this.resolveRPCResponse.bind(this)}call(e,t,n={}){let{timeout:r=this.timeout}=n,i=Ry(),o=[];for(const s of Array.from(t||[]))if(typeof s=="function"){const l=$y();this.callbackFunctions[l.callbackId]=s,o.push(l)}else o.push(s);const a=My({method:e,params:o});this.pendingRequests[a.id]={reject:i.reject,resolve:i.resolve,isAcknowledged:!1};try{this.postMessage(JSON.stringify(a),"*")}catch(s){return i.reject(s),i}return setTimeout(()=>{if(!this.pendingRequests[a.id].isAcknowledged)return i.reject(new Error("Message Timeout"))},r),i}resolve(e){switch(!1){case!Fy(e):return this.resolveRPCRequestAcknowledgement(e);case!Zu(e):return this.resolveRPCResponse(e);case!Uy(e):return this.resolveRPCCallbackResponse(e);default:throw new Error("Unknown response type")}}resolveRPCResponse(e){const t=this.pendingRequests[e.id];if(t==null)throw new Error("Request not found");t.isAcknowledged=!0;const{result:n,error:r}=e;return r?t.reject(r.data||new Error(r.message)):n!=null?t.resolve(n):t.resolve(null),null}resolveRPCRequestAcknowledgement(e){const t=this.pendingRequests[e.id];if(t==null)throw new Error("Request not found");return t.isAcknowledged=!0,null}resolveRPCCallbackResponse(e){const t=this.callbackFunctions[e.callbackId];if(t==null)throw new Error("Callback not found");return t(...e.params||[]),null}};function Py({params:e,callbackId:t}){return{_browserComms:!0,callbackId:t,params:e}}function Dy({requestId:e}){return{_browserComms:!0,id:e,acknowledge:!0}}function bo({requestId:e,result:t=null,rPCError:n=null}){return{_browserComms:!0,id:e,result:t,error:n}}function yc({code:e,data:t=null}){const n=Vi[e];return{_browserComms:!0,code:e,message:n,data:t}}function bc(e){return e==null?void 0:e._browserComms}function Ly(e){return(e==null?void 0:e.id)!=null&&e.method!=null}function Zu(e){return(e==null?void 0:e.id)&&(e.result!==void 0||e.error!==void 0)}function $y(){return{_browserComms:!0,_browserCommsGunCallback:!0,callbackId:ed()}}function My({method:e,params:t}){if(t==null)throw new Error("Must provide params");for(const n of Array.from(t))if(typeof n=="function")throw new Error("Functions are not allowed. Use RPCCallback instead.");return{_browserComms:!0,id:ed(),method:e,params:t}}function Fy(e){return(e==null?void 0:e.acknowledge)===!0}function Uy(e){return(e==null?void 0:e.callbackId)&&e.params!=null}function qy(e){return e==null?void 0:e._browserCommsGunCallback}function ed(){let e=new Date().getTime(),t=typeof performance<"u"&&performance.now&&performance.now()*1e3||0;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){let r=Math.random()*16;return e>0?(r=(e+r)%16|0,e=Math.floor(e/16)):(r=(t+r)%16|0,t=Math.floor(t/16)),(n==="x"?r:r&3|8).toString(16)})}const jy=1e4,By=5e3,en=typeof document<"u"?window:typeof self<"u"?self:null,Vy=class{constructor(e={}){var o,a,s,l;const{timeout:t,shouldConnectToServiceWorker:n,handshakeTimeout:r=jy,isParentValidFn:i=()=>!0}=e;this.handshakeTimeout=r,this.isParentValidFn=i,this.isListening=!1,this.isNotTopWindow=typeof document<"u"&&window.self!==window.top,this.hasParent=((o=globalThis==null?void 0:globalThis.window)==null?void 0:o.ReactNativeWebView)||this.isNotTopWindow,this.isNotTopWindow?this.parent=(a=globalThis==null?void 0:globalThis.window)==null?void 0:a.parent:this.parent=((s=globalThis==null?void 0:globalThis.window)==null?void 0:s.ReactNativeWebView)||((l=globalThis==null?void 0:globalThis.window)==null?void 0:l.parent),this.client=new Xu({timeout:t,postMessage:(u,d)=>{var p,f,h;(p=globalThis==null?void 0:globalThis.window)!=null&&p.ReactNativeWebView&&!this.isNotTopWindow?(f=this.parent)==null||f.postMessage(u):(h=this.parent)==null||h.postMessage(u,d)}}),this.waitForSw=n&&Gy(),this.registeredMethods={ping:()=>Object.keys(this.registeredMethods)},this.parentsRegisteredMethods=[],this.parentHasMethod=this.parentHasMethod.bind(this),this.setParent=this.setParent.bind(this),this.listen=this.listen.bind(this),this.close=this.close.bind(this),this.call=this.call.bind(this),this.onRequest=this.onRequest.bind(this),this.onMessage=this.onMessage.bind(this),this.on=this.on.bind(this)}setParent(e){this.parent=e,this.hasParent=!0}listen(){var e;this.isListening=!0,(e=en.addEventListener)==null||e.call(en,"message",this.onMessage,!0),this.waitForParentPing=this.hasParent&&this.client.call("ping",null,{timeout:this.handshakeTimeout}).then(t=>{this.parentsRegisteredMethods=this.parentsRegisteredMethods.concat(t)}).catch(()=>null),this.waitForSwPing=this.waitForSw&&this.waitForSw.then(()=>{var t;return(t=this.sw)==null?void 0:t.call("ping",null,{timeout:this.handshakeTimeout})}).then(t=>{this.parentsRegisteredMethods=this.parentsRegisteredMethods.concat(t)}).catch(()=>null)}close(){return this.isListening=!0,en==null?void 0:en.removeEventListener("message",this.onMessage)}parentHasMethod(e){return this.parentsRegisteredMethods.indexOf(e)!==-1}async call(e,...t){if(!this.isListening)return new Promise((r,i)=>i(new Error("Must call listen() before call()")));const n=(r,i)=>{const o=this.registeredMethods[r];if(!o)throw new Error("Method not found: "+r);return o(...i)};if(this.waitForSw&&await this.waitForSw,!this.hasParent&&!this.sw)return n(e,t);{let r=null;if(this.waitForParentPing&&await this.waitForParentPing,this.waitForSwPing&&await this.waitForSwPing,this.parentHasMethod(e)){let i;try{if(!this.hasParent)throw new Error("No parent");i=await this.client.call(e,t)}catch(o){try{if(r=o,this.sw)try{i=await this.sw.call(e,t)}catch{return n(e,t)}else return n(e,t)}catch(a){throw a.message==="Method not found"&&r?r:a}}if(e==="ping"){const o=n(e,t);i=(i||[]).concat(o)}return i}else return n(e,t)}}async onRequest(e,t,n){const r=[];for(const i of Array.from(t.params||[]))qy(i)?(o=>r.push((...a)=>e(Py({params:a,callbackId:o.callbackId}))))(i):r.push(i);e(Dy({requestId:t.id}));try{const i=await this.call(t.method,...Array.from(r),{e:n});return e(bo({requestId:t.id,result:i}))}catch(i){return e(bo({requestId:t.id,rPCError:yc({code:cr.DEFAULT,data:i})}))}}onMessage(e,{isServiceWorker:t,reply:n}={}){try{const r=typeof e.data=="string"?JSON.parse(e.data):e.data;if(!bc(r))return;if(n=n||function(i){var o;return typeof document<"u"&&window!==null?(o=e.source)==null?void 0:o.postMessage(JSON.stringify(i),"*"):e.ports[0].postMessage(JSON.stringify(i))},Ly(r))return this.onRequest(n,r,e);if(bc(r)){let i;if(this.isParentValidFn(e.origin))return i=t?this.sw:this.client,i.resolve(r);if(Zu(r))return i=t?this.sw:this.client,i.resolve(bo({requestId:r.id,rPCError:yc({code:cr.INVALID_ORIGIN})}));throw new Error("Invalid origin")}else throw new Error("Unknown RPCEntity type")}catch{}}on(e,t){this.registeredMethods[e]=t}},zy=Vy;function Gy(){return new Promise((e,t)=>{var r;const n=setTimeout(e,By);return(r=navigator==null?void 0:navigator.serviceWorker)==null?void 0:r.ready.catch(function(){return console.log("caught sw error"),null}).then(i=>{const o=i==null?void 0:i.active;return o&&(this.sw=new Xu({timeout:this.timeout,postMessage:(a,s)=>{const l=new MessageChannel;if(l)return l.port1.onmessage=u=>this.onMessage(u,{isServiceWorker:!0}),o.postMessage(a,[l.port2])}})),clearTimeout(n),e()})})}const Hy=zy,_c="truffle",Qy={APP:"app",WEB:"web"};var Oc,Ac;const Bn=typeof document>"u"||((Ac=(Oc=globalThis==null?void 0:globalThis.process)==null?void 0:Oc.release)==null?void 0:Ac.name)==="node"||(globalThis==null?void 0:globalThis.Deno);class Yy{isChrome(){var t;return(t=globalThis==null?void 0:globalThis.navigator)==null?void 0:t.userAgent.match(/chrome/i)}networkInformationOnOnline(t){return window.addEventListener("online",t)}networkInformationOnOffline(t){return window.addEventListener("offline",t)}constructor(){this.call=(...t)=>Bn?console.log("Comms called server-side"):this.jumper.call(...t).catch(n=>{var r,i;return(i=(r=n.message)==null?void 0:r.startsWith)!=null&&i.call(r,"Method not found")||console.log(n),null}),this.callWithError=(...t)=>Bn?console.log("Comms called server-side"):this.jumper.call(...Array.from(t||[])),this.listen=()=>{if(Bn)throw new Error("Comms called server-side");return this.jumper.listen(),this.jumper.on("auth.getStatus",this.authGetStatus),this.jumper.on("env.getPlatform",this.getPlatform),this.jumper.on("app.onResume",this.appOnResume),this.jumper.on("networkInformation.onOnline",this.networkInformationOnOnline),this.jumper.on("networkInformation.onOffline",this.networkInformationOnOffline),this.jumper.on("networkInformation.onOnline",this.networkInformationOnOnline),this.jumper.on("storage.get",this.storageGet),this.jumper.on("storage.set",this.storageSet),this.jumper.on("browser.openWindow",({url:t,target:n,options:r})=>window==null?void 0:window.open(t,n,r))},this.authGetStatus=async()=>{const t=await this.model.user.getMe().take(1).toPromise();return{accessToken:t.id,userId:t.id}},this.getPlatform=t=>{switch(!1){default:return Qy.WEB}},this.appOnResume=t=>(this.appResumeHandler&&window.removeEventListener("visibilitychange",this.appResumeHandler),this.appResumeHandler=function(){if(!document.hidden)return t()},window.addEventListener("visibilitychange",this.appResumeHandler)),this.storageGet=({key:t})=>window.localStorage.getItem(`${_c}:${t}`),this.storageSet=({key:t,value:n})=>{window.localStorage.setItem(`${_c}:${t}`,n)},Bn||(this.jumper=new Hy({shouldConnectToServiceWorker:!1}),this.appResumeHandler=null)}}const Vt=new Yy;Bn||(window._isTruffleJumperListening=!0,Vt.listen());const Wy=R`.p-login-dialog {
  padding: 32px 16px;
}`,Jy=B(()=>{D(Wy);const e=()=>{Vt.call("comms.postMessage","user.accessTokenUpdated"),Vt.call("comms.postMessage","user.invalidate")};return c("div",{className:"p-login-dialog",children:c(An,{mode:Xt.Login,onAuth:e,loginPath:"/login-dialog",joinPath:"/join-dialog"})})}),Ky=new Q({getParentRoute:()=>St,path:"/login-dialog",component:Jy}),Xy=R`.p-join-dialog {
  padding: 32px 16px;
}`,Zy=B(()=>{D(Xy);const e=()=>{Vt.call("comms.postMessage","user.accessTokenUpdated"),Vt.call("comms.postMessage","user.invalidate")};return c("div",{className:"p-join-dialog",children:c(An,{mode:Xt.Join,onAuth:e,loginPath:"/login-dialog",joinPath:"/join-dialog"})})}),eb=new Q({getParentRoute:()=>St,path:"/join-dialog",component:Zy}),tb=z`
  query AppMeQuery {
    me {
      id
      name
      email

      avatarImage {
        prefix
        cdn
        ext
        variations {
          height
          postfix
          width
        }
      }

      orgUsers {
        nodes {
          id
          name
          bio
          org {
            id
            name
            slug
          }
          roleConnection {
            nodes {
              id
              slug
              name
            }
          }
        }
      }

      connectionConnection {
        nodes {
          id
          orgId
          sourceType
          sourceId
        }
      }
    }
  }
`,nb=z`
  mutation AppUserUpsert($input: UserUpsertInput!) {
    userUpsert(input: $input) {
      user {
        id
      }
    }
  }
`,rb=z`
  mutation AppOrgUserUpsert($input: OrgUserUpsertInput!) {
    orgUserUpsert(input: $input) {
      orgUser {
        id
        org {
          id
          name
          slug
        }
      }
    }
  }
`,ib=z`
  mutation AppConnectionDelete($id: ID!) {
    connectionDelete(input: { id: $id }) {
      id
    }
  }
`;function Rn(){const[{data:e,fetching:t,error:n},r]=rt({query:tb,context:de(()=>({url:ne()}),[])});return{user:e==null?void 0:e.me,fetching:t,error:n,refetchUser:r}}function td(){const[e,t]=Se(nb);return{upsertUser:t,upsertUserResult:e}}function nd(){const[e,t]=Se(rb);return{upsertOrgUser:t,upsertOrgUserResult:e}}function rd(){const[e,t]=Se(ib);return{deleteConnection:t,deleteConnectionResult:e}}const ob=R`.c-nav {
  position: sticky;
  top: 0px;
}

.p-profile {
  background: none;
  --sidebar-width: 240px;
}
.p-profile > main {
  margin-left: calc(var(--sidebar-width));
  margin-right: 40px;
}
.p-profile > .settings-sidebar {
  top: 0px;
  position: fixed;
  height: 100%;
  background: #1f1f1f;
  display: flex;
  flex-direction: column;
  box-sizing: border-box;
  padding: 16px;
  margin-top: 64px;
  padding-top: 28px;
  width: var(--sidebar-width);
  gap: 15px;
  overflow-y: auto;
}
.p-profile > .settings-sidebar > .t-caps-title {
  margin: 0px;
}
.p-profile > .settings-sidebar > .sidebar-item {
  font-weight: 400;
  padding: 0;
  display: block;
  font-size: 16px;
  text-decoration: none;
  color: white;
}
.p-profile > .settings-sidebar > .sidebar-item[data-status=active] {
  color: var(--primary, #f357a1);
}
.p-profile > .settings-sidebar > .sidebar-item[data-status=active]::before {
  content: " ";
  position: absolute;
  left: 2px;
  background: var(--primary, #f357a1);
  width: 4px;
  height: 24px;
  border-radius: 0px 4px 4px 0px;
  transform: translate(-50%, 0%);
}
.p-profile > .settings-sidebar > .sidebar-item.logout {
  flex-grow: 1;
  display: flex;
  flex-direction: column;
  justify-content: flex-end;
}`,ab=B(()=>{D(ob);const{user:e}=Rn(),n=kt().location.pathname.startsWith("/profile/sidebar");return!Sn.get()&&!n?c(V,{children:"Not logged in"}):e?c("div",{className:"p-profile",children:[c("nav",{className:"settings-sidebar",children:[c("h3",{className:"t-caps-title",children:"User settings"}),c(me,{className:"sidebar-item",to:"/profile/global",children:"My account"}),c("div",{className:"t-divider"}),c("h3",{className:"t-caps-title",children:"Extension settings"}),c(me,{className:"sidebar-item",to:"/profile/sidebar",children:"Sidebar access"}),c("div",{className:"t-divider"}),c("h3",{className:"t-caps-title",children:"Community settings"}),c(me,{className:"sidebar-item",to:"/profile/orgs",children:"My communities"}),c("div",{className:"t-divider"}),c(me,{className:"sidebar-item logout",to:"/login",onClick:()=>wr(void 0),children:"Logout"})]}),c("main",{children:c(gt,{})})]}):c(V,{children:"Loading..."})}),zi=new Q({getParentRoute:()=>Xe,path:"/profile",component:ab}),sb=z`
  query AppOrgQuery($slug: String, $id: ID) {
    org(input: { slug: $slug, id: $id }) {
      id
      name
      slug
      orgUser {
        id
        name
        bio
        roleConnection {
          nodes {
            id
            slug
            name
          }
        }
      }
    }
  }
`,cb=z`
  query AppOrgUserConnectionQuery($orgId: ID!, $nameQueryStr: String, $sort: JSON, $query: ESQuery) {
    orgUserConnection(input: { orgId: $orgId, nameQueryStr: $nameQueryStr, sort: $sort, query: $query }) {
      nodes {
        id
        name
        email
        # this is to get the orgUser's roles
        roleConnection {
          nodes {
            id
            slug
            name
          }
        }
      }
    }

    # this is to get all roles that exist in the org
    roleConnection(input: { orgId: $orgId }) {
      nodes {
        id
        slug
        name
      }
    }
  }
`,lb=z`
  mutation AppOrgUserRolesUpsertMutation($orgUserId: ID!, $roleIds: [ID!]!) {
    orgUserSetRoleIds(input: { id: $orgUserId, roleIds: $roleIds }) {
      orgUser {
        id
      }
    }
  }
`,ub=z`
  mutation AppOrgUpsertMutation($input: OrgUpsertInput!) {
    orgUpsert(input: $input) {
      org {
        id
      }
    }
  }
`;function Pn({slug:e,id:t}){const[{data:n,fetching:r,error:i}]=rt({query:sb,variables:{slug:e,id:t},context:de(()=>({url:ne()}),[])});return{org:de(()=>n==null?void 0:n.org,[n]),fetching:r,error:i}}function db({orgId:e,nameQueryStr:t,roleId:n}){const[{data:r,fetching:i,error:o},a]=rt({query:cb,variables:{orgId:e,nameQueryStr:t,sort:[{name:{order:"asc"}}],query:n&&{bool:{filter:[{bool:{should:[{match:{roleIds:n}}]}}]}}},context:de(()=>({url:ne(),fetchOptions:{headers:{"x-org-id":e}}}),[e])}),s=de(()=>{var u;return((u=r==null?void 0:r.orgUserConnection)==null?void 0:u.nodes)||[]},[r]),l=de(()=>r==null?void 0:r.roleConnection.nodes,[r]);return{orgUserList:s,roleList:l,fetching:i,error:o,refetch:a}}function pb(){const[{fetching:e,error:t},n]=Se(lb);return{orgUserRoleUpsert:n,fetching:e,error:t}}function hb(){const[{fetching:e,error:t},n]=Se(ub);return{orgUpsert:n,fetching:e,error:t}}const fb=R`.p-org .org-nav {
  margin: 20px;
  display: flex;
  gap: 10px;
}
.p-org > .quick-actions-link-container > a {
  color: lightblue;
}`,mb=()=>{D(fb);const{slug:e}=We(),{org:t,fetching:n,error:r}=Pn({slug:e});return n?c("div",{children:"Loading..."}):r?c("div",{children:["Error: ",c("pre",{children:r.message})]}):t?c("div",{className:"p-org",children:[c("h1",{children:t.name}),c("div",{children:[c("strong",{children:"Org ID: "}),t.id]}),c("div",{children:[c("strong",{children:"Org slug: "}),t.slug]}),c("br",{}),c("div",{className:"quick-actions-link-container",children:c("a",{href:`${window.origin}/quick-actions/${t.id}`,target:"_blank",rel:"noreferrer",children:"Quick Actions"})}),c("div",{className:"org-nav",children:[c(me,{from:`/${Lt.path}`,to:"members",children:"Members"}),c(me,{from:`/${Lt.path}`,to:"roles",children:"Roles"}),c(me,{from:`/${Lt.path}`,to:"embeds",children:"Embeds"})]}),c(gt,{})]}):c(V,{})},Lt=new Q({getParentRoute:()=>Xe,path:"orgs/$slug",component:mb}),gb="/assets/error-8e38e2e9.svg",vb=R`.p-error > img {
  width: 310px;
  margin-bottom: 14px;
}
.p-error > h1 {
  font-size: 2em;
  margin-bottom: 8px;
}
.p-error > h2 {
  font-size: 1.5em;
  margin-bottom: 40px;
}
.p-error > button {
  background: #ed4860;
  border-radius: 4px;
  padding: 12px 20px;
  text-align: center;
  border: none;
  color: white;
}
.p-error > button:hover {
  cursor: pointer;
}`,yb=()=>(D(vb),c("div",{className:"p-error t-centered-page",children:[c("img",{src:gb,alt:""}),c("h1",{children:"404"}),c("h2",{children:"Page Not Found"}),c("button",{children:"Go Back"})]})),bb=new Q({getParentRoute:()=>Xe,path:"/error",component:yb}),id=Ta({namespace:"truffle-hud-privileged-api-v1",connectImmediately:!1});id.connect().catch(e=>{console.log("error connecting",e,window.location.href)});const $e=id.api,_b=z`
  query ($input: EmbedInput) {
    embed(input: $input) {
      id
      orgId
      url
      packageInstallId
    }
  }
`,Ra=re(),od=_e(async()=>{const e=Ra.get();return e?Qe().gqlClient.query(_b,{input:{id:e,apiVersion:2}},{url:ne()}).toPromise().then(t=>{var n;return((n=t.data)==null?void 0:n.embed)??null}):null}),xb=e=>{Pa.set(e)},Pa=re($e.pageInfoGet(xb)),wb=_e(async()=>{const e=Ra.get();if(!e||od.get())return null;Pa.get();const t=await $e.embedGetDevEmbeds();return(t==null?void 0:t.find(n=>n.id===e))??null}),Da=_e(()=>od.get()??wb.get()),xc=new Map;async function La(e,{shouldIgnoreCache:t=!1}={}){const n=Da.get();if(!n)return console.error("no embed$ value");if(n.authToken)return n.authToken;const r=xc.get(e);if(r&&!t)return r;const i=n.packageInstallId?await Nb(n.packageInstallId):void 0;return xc.set(e,i),i}let ei=[];function kb(e,t,n={}){return ei.push(t),n.immediate&&La(e).then(t),()=>{ei=ei.filter(r=>r!==t)}}nt.onChange(async()=>{const e=Da.get();if(!e)return;const t=await La(e.packageInstallId,{shouldIgnoreCache:!0});ei.forEach(n=>n(t))});async function Eb(e){var n;const t=await Cn.get().gqlClient.query(`
      query ExtensionFetchPackageToken($packageInstallId: ID!) {
        packageInstallUserAccessToken(input: {
          packageInstallId: $packageInstallId
        })
      }
    `,{packageInstallId:e},{url:ne()}).toPromise();if(t.error)throw t.error;return(n=t.data)==null?void 0:n.packageInstallUserAccessToken}async function Nb(e){const t=await Tt.storageBucketGet("auth","packageInstallAccessTokens")||{};let n=t[e];return n||(n=await Eb(e),t[e]=n,await Tt.storageBucketSet("auth","packageInstallAccessTokens",t)),n}const Tb={userGetAccessToken:async({fromId:e})=>{if(e)return La(e)},userOnAccessTokenChanged:async({fromId:e},t,n)=>{e&&kb(e,t,n)},embedSetStyles:(e,t)=>{$e.embedSetStyles(t)},embedSetContainer:(e,t,n="append")=>{$e.embedSetContainer(t,n)},embedShowToast:(e,t,n)=>{$e.embedShowToast(t,n)},embedWindowGetVisibility:async()=>!!await $e.embedWindowGetVisibility(),embedWindowSetVisibility:(e,t)=>{$e.embedWindowSetVisibility({isVisible:t})},pageInfoGet:()=>Pa.peek()},Ib=Tu({namespace:"truffle-injected-unprivileged-embed-api-v1",api:Tb,strictMode:!0}),Sb=R`.p-embed {
  width: 100%;
  height: 100%;
  overflow: hidden;
}
.p-embed > .overlay {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  padding: 24px;
  box-sizing: border-box;
  z-index: 10;
  background: rgba(38, 38, 38, 0.4392156863);
  backdrop-filter: blur(2px);
  display: flex;
}
.p-embed > .overlay > .content {
  width: 100%;
  max-height: 100%;
  max-width: 400px;
  margin: auto;
  border-radius: 4px;
  background: #171717;
  padding: 32px 16px;
  box-sizing: border-box;
  overflow: auto;
}
.p-embed > .iframe {
  width: 100%;
  height: 100%;
  border: none;
}`;R`.p-sidebar_p-creator_p-home {
  flex: 1;
  min-height: 0;
  width: 100%;
  display: flex;
  flex-direction: column;
  align-items: center;
}
.p-sidebar_p-creator_p-home > .scrollable {
  width: 100%;
  flex: 1;
  overflow: scroll;
}
.p-sidebar_p-creator_p-home > .scrollable > .banner {
  height: 178px;
  background-color: #000;
  background-size: auto 100%;
  background-position: center;
  position: relative;
}
.p-sidebar_p-creator_p-home > .scrollable > .banner > .header {
  padding: 12px;
  font-weight: 600;
  font-size: 16px;
  background: linear-gradient(180deg, #171717 0%, transparent 100%);
}
.p-sidebar_p-creator_p-home > .scrollable > .banner > .actions {
  position: absolute;
  top: 10px;
  right: 10px;
  text-decoration: none;
  display: flex;
  gap: 12px;
}
.p-sidebar_p-creator_p-home > .follow {
  margin-top: auto;
  width: 100%;
}`;const Cb=R`.p-sidebar_p-creator_c-follow {
  width: 100%;
  padding: 20px 12px;
  box-sizing: border-box;
}
.p-sidebar_p-creator_c-follow > .icon {
  width: 56px;
  height: 56px;
  margin: 0 auto;
  border-radius: 50%;
  position: relative;
  margin-bottom: 12px;
  background-color: #333;
  background-size: 100%;
}
.p-sidebar_p-creator_c-follow > .icon::after {
  content: " ";
  position: absolute;
  background-image: url("https://cdn.bio/assets/images/features/sidebar/follow-outline.svg");
  background-size: 100% auto;
  width: 74px;
  height: 100%;
  top: 0;
  left: -8px;
}
.p-sidebar_p-creator_c-follow > .description {
  font-size: 14px;
  font-weight: 600;
  margin-bottom: 20px;
  text-align: center;
}
.p-sidebar_p-creator_c-follow > .button {
  width: 100%;
  outline: none;
  border: none;
  background: #f357a1;
  color: #fff;
  border-radius: 4px;
  padding: 10px;
  font-size: 14px;
  font-weight: 600;
  text-align: center;
  display: block;
  cursor: pointer;
}
.p-sidebar_p-creator_c-follow > .button:hover {
  background: rgba(243, 87, 161, 0.8666666667);
}`,Ob=z`
  mutation DatapointIncrementUnique($input: DatapointIncrementUniqueInput!) {
    datapointIncrementUnique(input: $input) {
      isUpdated
    }
  }
`,Ab=z`
  mutation DatapointIncrementMetric($input: DatapointIncrementMetricInput!) {
    datapointIncrementMetric(input: $input) {
      isUpdated
    }
  }
`,Xw=async({orgId:e,metricSlug:t,dimensionValues:n})=>{Cn.get().gqlClient.mutation(Ob,{input:{metricSlug:t,dimensionValues:n}},{url:ne(),fetchOptions:{headers:{"x-org-id":e}}}).toPromise()},Rb=async({orgId:e,metricSlug:t,count:n=1,dimensionValues:r})=>{Cn.get().gqlClient.mutation(Ab,{input:{metricSlug:t,count:n,dimensionValues:r}},{url:ne(),fetchOptions:{headers:{"x-org-id":e}}}).toPromise()},Pb=z`
  mutation ($input: OrgUserCreateInput!) {
    orgUserCreate(input: $input) {
      orgUser {
        id
      }
    }
  }
`,ad=({org:e,followToText:t="continue"})=>{var s,l;D(Cb);const[n,r]=Se(Pb),i=Sn.get(),o=()=>{r({input:{orgId:e.id}}),Rb({metricSlug:"creator-hub-follows",orgId:e.id})},a=()=>{window.open("https://app.truffle.vip/login","_blank")};return c("div",{className:"p-sidebar_p-creator_c-follow",children:[c("div",{className:"icon",style:{backgroundImage:`url(${(l=(s=e.channelConnection.nodes[0])==null?void 0:s.data)==null?void 0:l.avatarFileUrl})`}}),c("div",{className:"description",children:["Follow ",e.name," to ",t]}),c("button",{className:"button",onClick:i?o:a,children:i?n.fetching?"Loading...":`Follow ${e.name}`:"Login to follow"})]})},Db=z`query ($input: OrgInput) {
  org(input: $input) {
    id
    name
    channelConnection {
      nodes {
        id
        data
      }
    }
    orgUser {
      id
    }
  }
}
`,Lb=B(()=>{var s,l;D(Sb);const e=Da.get(),t=ft(null);Te(()=>{t.current&&(e!=null&&e.id)&&Ib.registerFrame(t.current,e.id)},[t,e==null?void 0:e.id]);const[n]=rt({query:Db,variables:{input:{id:e==null?void 0:e.orgId}},context:de(()=>({additionalTypenames:["OrgUser"]}),[])});if(!e)return c(V,{});const r=Sn.get(),i=(s=n.data)==null?void 0:s.org,o=!!((l=i==null?void 0:i.orgUser)!=null&&l.id),a=()=>{Vt.call("comms.postMessage","user.accessTokenUpdated"),Vt.call("comms.postMessage","user.invalidate")};return c("div",{className:"p-embed",children:[r?i&&!o?c("div",{className:"overlay",children:c("div",{className:"content",children:c(ad,{org:i})})}):void 0:c("div",{className:"overlay",children:c("div",{className:"content",children:c(An,{mode:Xt.Login,onAuth:a})})}),c("iframe",{ref:t,src:e.url,className:"iframe"})]})}),$b=new Q({getParentRoute:()=>St,path:"/embed/$embedId",component:Lb,loader:({params:e})=>{Ra.set(e.embedId)}}),Mb=R`.c-debug {
  display: flex;
  flex-direction: column;
  gap: 20px;
  margin-top: 20px;
}
.c-debug > .onboard-test {
  display: flex;
  gap: 20px;
}
.c-debug > .input-field {
  display: flex;
  flex-direction: column;
}`,Fb=R`.p-start > h1 {
  font-weight: 600;
  font-size: 28px;
  margin: 0;
  margin-bottom: 8px;
}
.p-start > p {
  margin: 0;
  margin-bottom: 40px;
  font-weight: 400;
}`,Ub=()=>{D(Fb);const{user:e}=Rn();if(!e)return c(V,{children:"Loading..."});const{nextStep:t,completeStep:n}=Nr();return console.log("nextStep",t()),c("div",{className:"p-start t-centered-page",children:[c("h1",{children:["Sweet Name, ",e.name,"!"]}),c("p",{children:"Let's set up a few features real quick."}),c(me,{to:t(),onClick:n,className:"t-button",children:"Let's Go!"})]})},qb=R`.p-setup-profile > .container {
  display: flex;
  flex-direction: row;
  gap: 64px;
}
.p-setup-profile > .container > .chat {
  display: flex;
  flex-direction: column;
  gap: 14px;
}
.p-setup-profile > .container > .chat > h2 {
  font-size: 12px;
  font-weight: 600;
  color: #cfcfcf;
  text-transform: uppercase;
  margin: 0;
}
.p-setup-profile > .container > .profile {
  display: flex;
  flex-direction: column;
  gap: 16px;
  justify-content: center;
}
.p-setup-profile > .container > .profile > .username {
  display: flex;
  flex-direction: column;
}
.p-setup-profile > .container > .profile > .username > label {
  color: #cfcfcf;
}
.p-setup-profile > .container > .profile > button {
  width: fit-content;
  margin-left: auto;
}`,jb="/assets/down-arrow-4855e18a.svg",Bb="/assets/more-6fa8b2ec.svg",Vb="/assets/blossom-5df94d98.svg",zb="/assets/bud-bf0db97a.svg",Gb="/assets/coots-58ad24a4.svg",Hb="/assets/stanzsheesh-d25ce0fb.svg",Qb="/assets/gachi-ae558656.svg",Yb=R`.c-chat {
  border-radius: 11px;
  border: 1px solid #454545;
  width: 340px;
  box-sizing: border-box;
  user-select: none;
  position: relative;
}
.c-chat > .star-top-right-large {
  position: absolute;
  width: 26px;
  top: 4px;
  right: -14px;
}
.c-chat > .star-top-right-small {
  position: absolute;
  width: 18px;
  top: -11px;
  right: 11px;
}
.c-chat > .star-bottom-right {
  position: absolute;
  width: 26px;
  bottom: -22px;
  right: 3px;
}
.c-chat > .star-bottom-left {
  position: absolute;
  width: 18px;
  bottom: -6px;
  left: 7px;
}
.c-chat > .header {
  padding: 15px;
  display: flex;
  border-top-left-radius: 11px;
  border-top-right-radius: 11px;
  background: #1e1e1e;
}
.c-chat > .header > p {
  font-weight: 400;
  font-family: "Roboto", sans-serif;
  margin: 0;
}
.c-chat > .header > .down-arrow {
  margin-left: 12px;
}
.c-chat > .header .more {
  margin-left: auto;
  margin-right: 12px;
}
.c-chat > .chat {
  border-bottom-left-radius: 11px;
  border-bottom-right-radius: 11px;
  padding: 13px 28px 18px;
  background: #161717;
}
.c-chat > .chat > .message {
  display: flex;
  margin-bottom: 10px;
}
.c-chat > .chat > .message > .username {
  display: flex;
  font-weight: 500;
  font-size: 13px;
  align-items: center;
}
.c-chat > .chat > .message > .username > .blue-gradient {
  background: linear-gradient(269.25deg, #a69eff 4.87%, #22badb 94.08%), #517ff2;
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}
.c-chat > .chat > .message > .username > .teal-red-gradient {
  background: linear-gradient(90.02deg, #63d6c9 0.02%, #f18726 44.29%, #eb3575 95.71%), #f67c48;
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}
.c-chat > .chat > .message > .username > .pink {
  color: #f2518b;
}
.c-chat > .chat > .message > .username > .blue-green {
  color: #1aab91;
}
.c-chat > .chat > .message > .username > .purple {
  color: #695ee8;
}
.c-chat > .chat > .message > .username > .teal {
  color: #1fb7c0;
}
.c-chat > .chat > .message > .username > .green {
  color: #33be73;
}
.c-chat > .chat > .message > .username > .orange {
  color: #f18726;
}
.c-chat > .chat > .message > .username > p {
  font-family: "Roboto", sans-serif;
  margin: 0;
  white-space: nowrap;
}
.c-chat > .chat > .message > .username > img {
  margin-right: 4px;
}
.c-chat > .chat > .message > .content {
  margin-left: 8px;
  display: flex;
  align-items: center;
}
.c-chat > .chat > .message > .content > p {
  margin: 0;
  font-weight: 400;
  font-size: 14px;
}
.c-chat > .chat > .message > .content > img {
  margin-left: 4px;
}
.c-chat > .chat > .message:last-child {
  margin-bottom: 0;
}`,_o="/assets/star-solid-2aad3a37.svg",Wb="/assets/star-border-30d5877f.svg",Jb=({name$:e})=>(D(Yb),c("div",{className:"c-chat",children:[c("img",{className:"star-top-right-small",src:_o,alt:""}),c("img",{className:"star-top-right-large",src:_o,alt:""}),c("img",{className:"star-bottom-right",src:Wb,alt:""}),c("img",{className:"star-bottom-left",src:_o,alt:""}),c("div",{className:"header",children:[c("p",{children:"Top chat"}),c("img",{className:"down-arrow",src:jb,alt:"Down Arrow"}),c("img",{className:"more",src:Bb,alt:""})]}),c("div",{className:"chat",children:[c("div",{className:"message",children:[c("div",{className:"username",children:[c("img",{src:zb,alt:"Lud Bud Flair"}),c("p",{className:"blue-gradient",children:"Austin:"})]}),c("div",{className:"content",children:c("p",{children:"well hello again"})})]}),c("div",{className:"message",children:[c("div",{className:"username",children:c("p",{className:"teal-red-gradient",children:"IAmRoot:"})}),c("div",{className:"content",children:c("img",{src:Qb,alt:"Gachi Emote"})})]}),c("div",{className:"message",children:[c("div",{className:"username",children:[c("img",{src:Gb,alt:"Coots Flair"}),c("p",{className:"pink",children:"Suop:"})]}),c("div",{className:"content",children:c("p",{children:"ty!"})})]}),c("div",{className:"message",children:[c("div",{className:"username",children:[c("img",{src:Vb,alt:"Blossom Flair"}),c("p",{className:"blue-green",children:"Fyko:"})]}),c("div",{className:"content",children:c("p",{children:"yooooooooooooooo"})})]}),c("div",{className:"message",children:[c("div",{className:"username",children:c("p",{className:"purple",children:"123madskillz:"})}),c("div",{className:"content",children:[c("p",{children:"hihihihi"}),c("img",{src:Hb,alt:"Stanz Sheesh"})]})]}),c("div",{className:"message",children:[c("div",{className:"username",children:c("p",{className:"teal",children:[e.get(),":"]})}),c("div",{className:"content",children:c("p",{children:"I just got Truffle!"})})]}),c("div",{className:"message",children:[c("div",{className:"username",children:c("p",{className:"green",children:"fay:"})}),c("div",{className:"content",children:c("p",{children:"poggies. DO THE DANCE!!!!!"})})]}),c("div",{className:"message",children:[c("div",{className:"username",children:c("p",{className:"orange",children:"Rachel:"})}),c("div",{className:"content",children:c("p",{children:"OMG!"})})]})]})]})),Kb=B(Jb),Ar=re(""),Xb=()=>{D(qb);const{user:e}=Rn(),{upsertUser:t}=td(),{nextStep:n,completeStep:r}=Nr(),i=Sl(),o=async()=>{const a=await t({input:{name:Ar.peek()}},{url:ne()});a.error?(alert("There was an error saving your profile"),console.error("Error saving profile",a.error)):(r(),i({to:n()}))};return e?(Te(()=>{Ar.set(e.name)},[e]),c("div",{className:"p-setup-profile t-centered-page",children:[c("div",{className:"onboard-header",children:[c("h1",{children:"Youtube chat upgrade"}),c("p",{children:"Your Youtube chat is about to get upgraded with fun colors, flair, and EMOTES! What do you want to go by in chat?"})]}),c("div",{className:"container",children:[c("div",{className:"chat",children:[c("h2",{children:"Trufflefied Youtube chat Preview"}),c(Kb,{name$:Ar})]}),c("div",{className:"profile",children:[c("div",{className:"username",children:[c("label",{className:"t-label",children:"Chat username"}),c("input",{type:"text",className:"t-input",value:e.name,onInput:ke(Ar)})]}),c("button",{onClick:o,className:"t-button",children:"Save"})]})]})]})):c(V,{children:"Loading..."})},Zb=B(Xb),e_=R`.p-livestream-preview > .container {
  display: flex;
  flex-direction: column;
  max-width: 800px;
  width: 100%;
  gap: 32px;
}
.p-livestream-preview > .container > img {
  width: 100%;
  aspect-ratio: 100/67;
}
.p-livestream-preview > .container > .next-button {
  min-width: 150px;
  text-align: center;
  margin: auto;
}`,t_=()=>{D(e_);const{nextStep:e,completeStep:t}=Nr();return c("div",{className:"p-livestream-preview t-centered-page",children:[c("div",{className:"onboard-header",children:[c("h1",{children:"Livestream thumbnail"}),c("p",{children:"If a streamer you’re watching uses Truffle, you can see when they’re live while on their Youtube channel."})]}),c("div",{className:"container",children:[c("img",{src:"https://cdn.bio/assets/images/features/onboard/livestream_thumbnail.png",alt:""}),c(me,{to:e(),onClick:t,className:"t-button next-button",children:"Next"})]})]})},n_=R`.p-new-tab > .container {
  display: flex;
  flex-direction: column;
  width: 100%;
  max-width: 800px;
  gap: 32px;
}
.p-new-tab > .container > img {
  width: 100%;
  aspect-ratio: 800/479;
}
.p-new-tab > .container > .buttons {
  margin: auto;
  display: flex;
  flex-direction: column;
  gap: 12px;
}
.p-new-tab > .container > .buttons > .install-button {
  min-width: 150px;
  margin: auto;
}
.p-new-tab > .container > .buttons > .install-button:before {
  content: "";
  background-repeat: no-repeat;
  background-size: 1.5em;
  background-position: center;
  width: 1.5em;
  height: 1.5em;
  display: inline-block;
  margin-right: 0.5em;
  vertical-align: middle;
  background-image: url("https://cdn.bio/assets/icons/open_in_new.svg");
}
.p-new-tab > .container > .buttons > .skip-button {
  background: #3a3a3a;
  min-width: 150px;
  text-align: center;
}`,r_=()=>{D(n_);const{nextStep:e,completeStep:t}=Nr();return c("div",{className:"p-new-tab t-centered-page",children:[c("div",{className:"onboard-header",children:[c("h1",{children:"Truffle New Tab Extension"}),c("p",{children:"See your favorite Youtube and Twitch channels on your new tab. To enable this, install the separate new tab extension"})]}),c("div",{className:"container",children:[c("img",{src:"https://cdn.bio/assets/images/features/onboard/content_dash.png",alt:""}),c("div",{className:"buttons",children:[c("a",{href:"https://chrome.google.com/webstore/detail/truffle-new-tab-content-d/pmnmpgjfacmjcnfigcmgfipemjpggmeg?hl=en&authuser=0",target:"_blank",className:"t-button install-button",rel:"noreferrer",children:"Install new tab extension"}),c(me,{to:e(),onClick:t,className:"t-button skip-button",children:"Skip"})]})]})]})},zt=[{id:"start",title:"Start",depends_on:[],path:"/getting-started/start",component:Ub},{id:"chat-profile",title:"Chat Profile",depends_on:[],path:"/getting-started/chat-profile",component:Zb},{id:"livestream-preview",title:"Livestream Preview",depends_on:["new-tab"],path:"/getting-started/livestream-preview",component:t_},{id:"new-tab",title:"New Tab",depends_on:[],path:"/getting-started/new-tab",component:r_}],sd="truffle-onboard",$t=()=>{const e=Ea(sd);return e?JSON.parse(decodeURIComponent(e)):[]},Er=e=>{const t=new Date;t.setFullYear(t.getFullYear()+1),zo(sd,encodeURIComponent(JSON.stringify(e)),{expires:t,path:"/"})},cd=(e,t)=>{let n=[...t];e&&zt.some(i=>i.id===e)&&!t.includes(e)&&(n=[...n,e]);const r=zt.find(i=>!n.includes(i.id)&&i.depends_on.every(o=>n.includes(o)));return r?r.path:"/getting-started/finish"},ld=e=>{const t=$t();t.includes(e)?console.log(`Step "${e}" already completed.`):(t.push(e),Er(t),console.log(`Step "${e}" completed.`))},i_=e=>{const t=zt.find(n=>n.path===e);if(t)return t.id},o_=e=>{let t=$t();t=t.filter(n=>n!==e),Er(t)},ud=()=>{Er([])},dd=()=>$t(),a_=e=>zt.filter(t=>!e.includes(t.id)),s_=()=>{$t().length===0&&Er([])},Nr=()=>{const t=Nl({}).href||"",n=i_(t);return{nextStep:()=>{const o=dd();return cd(n,o)},completeStep:()=>{console.log("complete step",n),n&&ld(n)}}},c_=()=>{kr({type:On.Toast,message:"This is a test toast",title:"Test Toast"})},l_=()=>{kr({type:On.Modal,message:"This is a test modal",title:"Test Toast",action(){console.log("action")},buttonText:"Test Button",subtitle:"This is a test subtitle",code:1234})},u_=()=>{kr({type:On.Page,message:"This is a test redirect error",title:"Test Page",action(){console.log("action")},buttonText:"Test Button",subtitle:"This is a test subtitle",code:1234})},wc=re(!1),tn=re(zt[0].id),d_=B(()=>(console.log("errors",bt.get()),D(Mb),c(V,{children:c("div",{className:"c-debug",children:[c("button",{onClick:()=>{c_(),console.log("errors",bt.get())},children:"Trigger Test Error"}),c("button",{onClick:()=>{l_()},children:"Trigger Test Modal"}),c("button",{onClick:()=>{u_()},children:"Trigger page error"}),c("div",{children:c("button",{className:"t-button",children:"Test Button"})}),c("div",{className:"input-field",children:[c("label",{htmlFor:"test",className:"t-label",children:"Test Label"}),c("input",{type:"text",name:"",id:"test",className:"t-input"})]}),c("div",{children:c("a",{href:"",className:"t-link",children:"Test Link"})}),c("div",{className:"onboard-test",children:[c("button",{onClick:()=>{console.log("Onboard Cookie",$t())},className:"t-button",children:"Get Cookie"}),c("button",{onClick:()=>{Er([]),console.log("Set Cookie to empty array")},className:"t-button",children:"Set Cookie"}),c("button",{onClick:()=>{console.log("Next Path",cd("chat-profile",$t()))},className:"t-button",children:"Get Next Path"}),c("select",{value:tn.get(),onChange:e=>{var t;return tn.set(((t=e.target)==null?void 0:t.value)||"")},children:zt.map(e=>c("option",{value:e.id,children:e.title},e.id))}),c("button",{onClick:()=>{ld(tn.get()),console.log(`Completed ${tn.get()} step`)},className:"t-button",children:"Complete Selected Step"}),c("button",{onClick:()=>{o_(tn.get()),console.log(`Uncompleted ${tn.get()} step`)},className:"t-button",children:"Uncomplete Selected Step"}),c("button",{onClick:()=>{ud(),console.log("Cleared all steps")},className:"t-button",children:"Clear All Steps"}),c("button",{onClick:()=>{console.log("Completed Steps",dd())},className:"t-button",children:"Get Completed Steps"}),c("button",{onClick:()=>{console.log("Uncompleted Steps",a_($t()))},className:"t-button",children:"Get Uncompleted Steps"}),c("button",{onClick:()=>{s_(),console.log("Initialized step array")},className:"t-button",children:"Initialize Step Array"})]}),c("div",{children:c("button",{className:"t-button",onClick:()=>{wc.set(!wc.get())},children:"toggle signup"})})]})}))),p_=new Q({getParentRoute:()=>Xe,path:"/debug",component:d_}),h_=R`.c-member-edit-form {
  border: 1px solid black;
  margin-bottom: 5px;
  padding: 5px;
}`,f_=B(({member:e,roleList:t,orgId:n,onRolesUpdated:r})=>{D(h_);const i=oe(""),o=!!i.get(),{orgUserRoleUpsert:a}=pb(),s=async(d,p)=>{const{error:f}=await a({orgUserId:e.id,roleIds:d},{url:ne(),fetchOptions:{headers:{"x-org-id":n}}});f?console.error(f):(alert(p),r==null||r())},l=()=>{const d=i.peek();if(d==="null")return;const p=e.roleConnection.nodes.map(f=>f.id).concat(d);s(p,"Role added")},u=d=>{const p=e.roleConnection.nodes.map(f=>f.id).filter(f=>f!==d);s(p,"Role deleted")};return c("div",{className:"c-member-edit-form",children:[c("h3",{children:e.name}),c("div",{children:e.email}),c("h4",{children:"Roles"}),c("ul",{children:e.roleConnection.nodes.map(d=>c("li",{children:[c("span",{children:[d.name," "]}),c("button",{onClick:()=>u(d.id),children:"Delete"})]},d.id))}),c("div",{children:[c("select",{value:i.get(),onInput:ke(i),children:[c("option",{disabled:!0,selected:!0,value:"",children:"Role"}),t.map(d=>c("option",{value:d.id,children:d.name},d.id))]}),c("button",{disabled:!o,onClick:l,children:"Add"})]})]})}),m_=B(({orgId:e})=>{const t=oe(""),n=oe(""),r=()=>{n.set(t.peek())},i=oe(""),{orgUserList:o,roleList:a,fetching:s,error:l,refetch:u}=db({orgId:e,nameQueryStr:n.get(),roleId:i.get()});return s?c("div",{children:"Loading..."}):l?c("div",{children:["Error: ",c("pre",{children:l.message})]}):o&&a?c("div",{className:"c-org-user-list",children:[c("div",{children:[c("label",{children:"Filter by role "}),c("select",{value:i.get(),onInput:ke(i),children:[c("option",{selected:!0,value:"",children:"All roles"}),a.map(d=>c("option",{value:d.id,children:d.name},d.id))]})]}),c("div",{children:c("label",{children:[c("strong",{children:"Search: "}),c("input",{type:"text",value:t.get(),onInput:ke(t)}),c("button",{onClick:r,children:"Search"})]})}),c("ul",{children:o.map(d=>c("li",{children:c(f_,{orgId:e,member:d,roleList:a,onRolesUpdated:u})},d.id))})]}):c(V,{})}),g_=()=>{const{slug:e}=We(),{org:t,fetching:n,error:r}=Pn({slug:e});return n?c("div",{children:"Loading..."}):r?c("div",{children:["Error: ",c("pre",{children:r.message})]}):t?c("div",{className:"p-member",children:[c("h1",{children:"Members"}),c(m_,{orgId:t.id})]}):c(V,{})},v_=new Q({getParentRoute:()=>Lt,path:"members",component:g_}),y_=["youtube","youtubeVideo","youtubeLive","youtubeLiveUpcoming","youtubeLiveNow","youtubeLiveVod","youtubeChatFrame","twitch","twitchEmbed","quickActions"],pd=["published","disabled","experimental"],b_=z`
  query AppEmbedQuery($orgId: ID!, $contentPageType: String, $statuses: [String]) {
    embedConnection(input: { apiVersion: 2, orgId: $orgId, contentPageType: $contentPageType, statuses: $statuses }) {
      nodes {
        id
        url
        orgId
        slug
        minPlatformVersion
        maxPlatformVersion
        contentPageType
        packageId
        packageInstallId
        deviceType
        status
        defaultLayoutConfigSteps {
          action
          value
        }
      }
    }
  }
`,__=z`
  mutation AppEmbedUpsertMutation($id: ID!, $url: String, $contentPageType: String, $status: String) {
    embedUpsert(input: { apiVersion: 2, id: $id, url: $url, contentPageType: $contentPageType, status: $status }) {
      embed {
        id
      }
    }
  }
`,x_=z`
  mutation AppEmbedDeleteMutation($id: ID!) {
    embedDelete(input: { id: $id }) {
      embed {
        id
      }
    }
  }
`;function w_({orgId:e,contentPageType:t}){const[{data:n,fetching:r,error:i}]=rt({query:b_,variables:{orgId:e,contentPageType:t,statuses:pd},context:de(()=>({url:ne()}),[])});return{embeds:de(()=>n==null?void 0:n.embedConnection.nodes,[n]),fetching:r,error:i}}function k_(){const[e,t]=Se(__),[n,r]=Se(x_);return{upsertEmbed:t,deleteEmbed:r}}const hd=B(({value$:e})=>c("select",{value:e.get(),onInput:ke(e),children:[c("option",{selected:!0,value:"all",children:"All"}),y_.map(t=>c("option",{value:t,children:t},t))]})),E_=R`.c-embed-edit-form > div {
  margin: 5px 0;
}
.c-embed-edit-form > .actions {
  display: flex;
  /**
   * this looks terrible, but this makes
   * the save button far enough away from
   * the delete button to avoid accidental
   * clicks on the delete button
   * justify-content: space-between; */
}`,N_=B(({embed:e})=>{D(E_);const t=oe(e.contentPageType),n=oe(e.url),r=oe(e.status),{upsertEmbed:i,deleteEmbed:o}=k_(),a=async()=>{const{error:l}=await i({id:e.id,contentPageType:t.peek(),url:n.peek(),status:r.peek()},{url:ne(),fetchOptions:{headers:{"x-org-id":e.orgId}}});l?(console.error(l),alert("Error saving embed")):alert("Embed saved")},s=async()=>{if(confirm("ARE YOU SURE you want to delete this embed? This cannot be undone! You probably want to disable the embed instead...")){const{error:l}=await o({id:e.id},{url:ne(),fetchOptions:{headers:{"x-org-id":e.orgId}}});l?(console.error(l),alert("Error deleting embed")):alert("Embed deleted")}};return c("div",{className:"c-embed-edit-form",children:[c("h3",{children:e.slug}),c("div",{children:[c("strong",{children:"ID: "}),c("span",{children:e.id})]}),c("div",{children:[c("strong",{children:"URL: "}),c("input",{type:"text",value:n.get(),onInput:ke(n)})]}),c("div",{children:[c("strong",{children:"Content page type: "}),c(hd,{value$:t})]}),c("div",{children:[c("strong",{children:"Status: "}),c("select",{value:r.get(),onInput:ke(r),children:pd.map(l=>c("option",{value:l,children:l},l))})]}),c("div",{className:"actions",children:[c("button",{onClick:a,children:"Save"}),c("button",{onClick:s,children:"Delete"})]})]})}),T_=R`.c-embed-list > ul > .embed-list-item {
  border: 1px solid black;
  margin-bottom: 5px;
  padding: 5px;
}`,I_=({orgId:e,contentPageType:t})=>{D(T_);const{embeds:n,fetching:r,error:i}=w_({orgId:e,contentPageType:t&&t!=="all"?t:void 0});return r?c("div",{className:"c-embed-list",children:"Loading..."}):i?c("div",{className:"c-embed-list",children:["Error: ",i.message]}):n?c("div",{className:"c-embed-list",children:c("ul",{children:n.map(o=>c("li",{className:"embed-list-item",children:c(N_,{embed:o})},o.id))})}):c(V,{})},S_=B(()=>{const e=oe("all"),{slug:t}=We(),{org:n,fetching:r,error:i}=Pn({slug:t});return r?c("div",{children:"Loading..."}):i?c("div",{children:["Error: ",c("pre",{children:i.message})]}):n?c("div",{className:"p-org-embed",children:[c("h1",{children:"Embeds"}),c("div",{children:[c("label",{children:"Content page type "}),c(hd,{value$:e}),c(I_,{contentPageType:e.get(),orgId:n.id})]})]}):c(V,{})}),C_=new Q({getParentRoute:()=>Lt,path:"embeds",component:S_}),O_=({orgId:e})=>{const{roles:t,fetching:n,error:r}=D_(e);return n?c("div",{children:"Loading..."}):r?c("div",{children:["Error: ",c("pre",{children:r.message})]}):t?c("div",{className:"c-org-roles-list",children:[c("ul",{children:t.map(i=>c(A_,{role:i,orgId:e},i.id))}),c(R_,{orgId:e})]}):c(V,{})},A_=({role:e,orgId:t})=>{const{executeDeleteRoleMutation:n}=$_(),r=async()=>{if(!confirm(`Are you sure you want to delete role ${e.name}?`))return;const{error:o}=await n({roleId:e.id},{url:ne(),fetchOptions:{headers:{"x-org-id":t}}});alert(o?`Error deleting role: ${o.message}`:`Role deleted: ${e.name}`)};return c("li",{className:"c-role-list-item",children:c("p",{children:[c("div",{children:[c("strong",{children:"ID:"})," ",e.id]}),c("div",{children:[c("strong",{children:"Name:"})," ",e.name]}),c("div",{children:[c("strong",{children:"Slug:"})," ",e.slug]}),c("button",{onClick:r,children:"Delete"})]})})},R_=B(({orgId:e})=>{const t=oe(""),{executeRoleUpsertMutation:n}=F_(),r=async()=>{const{error:i}=await n({input:{name:t.peek()}},{url:ne(),fetchOptions:{headers:{"x-org-id":e}}});i?alert(`Error adding role: ${i.message}`):t.set("")};return c("div",{className:"c-new-role",children:[c("h3",{children:"New Role"}),c("div",{children:c("label",{children:["Name:",c("input",{type:"text",value:t.get(),onInput:ke(t)})]})}),c("div",{children:c("button",{disabled:!t,onClick:r,children:"Add"})})]})}),P_=z`
  query AppOrgRoleConnectionQuery {
    roleConnection(input: {}) {
      nodes {
        id
        name
        slug
      }
    }
  }
`;function D_(e){const[t]=rt({query:P_,variables:{orgId:e},context:de(()=>({url:ne(),fetchOptions:{headers:{"x-org-id":e}}}),[e])}),{data:n,fetching:r,error:i}=t;return{roles:n==null?void 0:n.roleConnection.nodes,fetching:r,error:i}}const L_=z`
  mutation AppOrgRoleDeleteMutation($roleId: ID!) {
    roleDeleteById(input: { id: $roleId }) {
      role {
        id
      }
    }
  }
`;function $_(){const[e,t]=Se(L_);return{result:e,executeDeleteRoleMutation:t}}const M_=z`
  mutation AppOrgRoleUpsertMutation($input: RoleUpsertInput!) {
    roleUpsert(input: $input) {
      role {
        id
      }
    }
  }
`;function F_(){const[e,t]=Se(M_);return{result:e,executeRoleUpsertMutation:t}}const U_=()=>{const{slug:e}=We(),{org:t,fetching:n,error:r}=Pn({slug:e});return n?c("div",{children:"Loading..."}):r?c("div",{children:["Error: ",c("pre",{children:r.message})]}):t?c("div",{className:"p-roles",children:[c("h1",{children:"Roles"}),c(O_,{orgId:t.id})]}):c(V,{})},q_=new Q({getParentRoute:()=>Lt,path:"roles",component:U_}),j_="modulepreload",B_=function(e){return"/"+e},kc={},Gi=function(t,n,r){if(!n||n.length===0)return t();const i=document.getElementsByTagName("link");return Promise.all(n.map(o=>{if(o=B_(o),o in kc)return;kc[o]=!0;const a=o.endsWith(".css"),s=a?'[rel="stylesheet"]':"";if(!!r)for(let d=i.length-1;d>=0;d--){const p=i[d];if(p.href===o&&(!a||p.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${o}"]${s}`))return;const u=document.createElement("link");if(u.rel=a?"stylesheet":j_,a||(u.as="script",u.crossOrigin=""),u.href=o,document.head.appendChild(u),a)return new Promise((d,p)=>{u.addEventListener("load",d),u.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${o}`)))})})).then(()=>t()).catch(o=>{const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o})},Gt=new Q({getParentRoute:()=>St,path:"/sidebar",component:Ii(()=>Gi(()=>import("./sidebar-89431e7b.js"),[]))}),V_=new Q({getParentRoute:()=>Gt,path:"about",component:Ii(()=>Gi(()=>import("./about-abf4e635.js"),[]))}),Hi=new Q({getParentRoute:()=>Gt,path:"creator/$orgSlug",component:Ii(()=>Gi(()=>import("./creator.layout-1b8dfdac.js"),[]))}),fd=kn(null),Zw=({context:e})=>c(fd.Provider,{value:e,children:c(gt,{})});function md(){return Qt(fd)}const z_=R`.p-sidebar_p-creator_p-home {
  flex: 1;
  min-height: 0;
  width: 100%;
  display: flex;
  flex-direction: column;
  align-items: center;
}
.p-sidebar_p-creator_p-home > .scrollable {
  width: 100%;
  flex: 1;
  overflow: scroll;
}
.p-sidebar_p-creator_p-home > .scrollable > .banner {
  height: 178px;
  background-color: #000;
  background-size: auto 100%;
  background-position: center;
  position: relative;
}
.p-sidebar_p-creator_p-home > .scrollable > .banner > .header {
  padding: 12px;
  font-weight: 600;
  font-size: 16px;
  background: linear-gradient(180deg, #171717 0%, transparent 100%);
}
.p-sidebar_p-creator_p-home > .scrollable > .banner > .actions {
  position: absolute;
  top: 10px;
  right: 10px;
  text-decoration: none;
  display: flex;
  gap: 12px;
}
.p-sidebar_p-creator_p-home > .follow {
  margin-top: auto;
  width: 100%;
}`;R`.p-sidebar_p-creator_c-follow {
  width: 100%;
  padding: 20px 12px;
  box-sizing: border-box;
}
.p-sidebar_p-creator_c-follow > .icon {
  width: 56px;
  height: 56px;
  margin: 0 auto;
  border-radius: 50%;
  position: relative;
  margin-bottom: 12px;
  background-color: #333;
  background-size: 100%;
}
.p-sidebar_p-creator_c-follow > .icon::after {
  content: " ";
  position: absolute;
  background-image: url("https://cdn.bio/assets/images/features/sidebar/follow-outline.svg");
  background-size: 100% auto;
  width: 74px;
  height: 100%;
  top: 0;
  left: -8px;
}
.p-sidebar_p-creator_c-follow > .description {
  font-size: 14px;
  font-weight: 600;
  margin-bottom: 20px;
  text-align: center;
}
.p-sidebar_p-creator_c-follow > .button {
  width: 100%;
  outline: none;
  border: none;
  background: #f357a1;
  color: #fff;
  border-radius: 4px;
  padding: 10px;
  font-size: 14px;
  font-weight: 600;
  text-align: center;
  display: block;
  cursor: pointer;
}
.p-sidebar_p-creator_c-follow > .button:hover {
  background: rgba(243, 87, 161, 0.8666666667);
}`;const G_=R`.p-sidebar_p-creator_p-settings {
  width: 100%;
  padding: 0 16px;
  box-sizing: border-box;
  position: relative;
}
.p-sidebar_p-creator_p-settings > .actions {
  position: absolute;
  top: 10px;
  right: 10px;
  text-decoration: none;
  display: flex;
  gap: 12px;
}
.p-sidebar_p-creator_p-settings > .unfollow {
  text-decoration: underline;
  cursor: pointer;
}`,H_=z`
  mutation ($input: OrgUserDeleteInput!) {
    orgUserDelete(input: $input) {
      orgUser {
        id
      }
    }
  }
`,Q_=()=>{D(G_);const{org:e}=md(),t=mt(),[n,r]=Se(H_),i=async()=>{await r({input:{orgId:e.id}}),t.navigate({from:Gt.path,to:"/sidebar"})};return c("div",{className:"p-sidebar_p-creator_p-settings",children:[c("div",{className:"actions",children:c(me,{className:"close",from:"/",to:`${Gt.path}`,children:c(Y_,{})})}),c("h2",{className:"title",children:"Settings"}),c("div",{className:"unfollow",onClick:i,children:"Unfollow"})]})},Y_=()=>c("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c("path",{d:"M15.8333 5.34175L14.6583 4.16675L9.99999 8.82508L5.34166 4.16675L4.16666 5.34175L8.82499 10.0001L4.16666 14.6584L5.34166 15.8334L9.99999 11.1751L14.6583 15.8334L15.8333 14.6584L11.175 10.0001L15.8333 5.34175Z",fill:"white"})}),gd=new Q({getParentRoute:()=>Hi,path:"/settings",component:Q_}),W_=R`.p-sidebar_p-creator_c-live {
  width: 100%;
  background: #171717;
}
.p-sidebar_p-creator_c-live > .container {
  padding: 16px 12px 16px 24px;
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 20px;
}
.p-sidebar_p-creator_c-live > .container > .live-info {
  min-width: 0;
}
.p-sidebar_p-creator_c-live > .container > .live-info > .platform {
  position: relative;
  text-transform: uppercase;
  font-weight: 400;
  font-size: 12px;
  margin-bottom: 2px;
}
.p-sidebar_p-creator_c-live > .container > .live-info > .platform:before {
  content: "";
  position: absolute;
  top: 50%;
  left: -12px;
  width: 7px;
  height: 7px;
  background-color: #e53333;
  border-radius: 50%;
  transform: translateY(-50%);
}
.p-sidebar_p-creator_c-live > .container > .live-info > .title {
  margin: 0 0 2px 0;
  font-weight: 500;
  font-size: 14px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}
.p-sidebar_p-creator_c-live > .container > .live-info > .category {
  font-weight: 400;
  margin: 0 0 2px 0;
  margin-top: 2px;
  font-size: 12px;
  color: #b9b9b9;
}
.p-sidebar_p-creator_c-live > .container > .live-info > .view-count {
  color: #d33e3e;
  font-weight: 400;
  font-size: 12px;
}
.p-sidebar_p-creator_c-live > .container > .live-info > .view-count:before {
  content: "";
  position: relative;
  background-image: url("https://cdn.bio/assets/icons/view-count.svg");
  width: 12px;
  height: 12px;
  display: inline-block;
  margin-right: 4px;
}
.p-sidebar_p-creator_c-live > .container > .watch-now-button {
  flex-shrink: 0;
  text-decoration: none;
  color: white;
  font-weight: 500;
  font-size: 12px;
  border: 1px solid #e53333;
  border-radius: 4px;
  padding: 6px 10px 7px 10px;
  transition: background 0.2s ease-in-out;
}
.p-sidebar_p-creator_c-live > .container > .watch-now-button:hover {
  cursor: pointer;
  background: #e53333;
}`,J_=({platform:e,title:t,url:n,category:r,viewCount:i})=>{D(W_);const o=new Intl.NumberFormat("en-US",{notation:"compact",compactDisplay:"short"}).format(i);return c("div",{className:"p-sidebar_p-creator_c-live",children:c("div",{className:"container",children:[c("div",{className:"live-info",children:[c("div",{className:"platform",children:["live on ",e]}),c("h2",{className:"title",title:t,children:t}),r&&c("h3",{className:"category",children:r}),c("div",{className:"view-count",children:o})]}),c("a",{href:n,className:"watch-now-button",target:"_top",rel:"noreferrer",children:"Watch"})]})})},K_=R`.p-sidebar_p-creator_c-socials {
  width: 100%;
  background: #262626;
  border-bottom: 1px solid rgba(255, 255, 255, 0.08);
}
.p-sidebar_p-creator_c-socials > .socials {
  padding: 8px;
  display: flex;
  flex-direction: row;
  gap: 20px;
  align-items: center;
  justify-content: center;
}
.p-sidebar_p-creator_c-socials > .socials > .social {
  width: 32px;
  height: 32px;
  background-size: 100%;
}`,X_={twitch:"https://cdn.bio/assets/icons/global/light/twitch.svg",youtube:"https://cdn.bio/assets/icons/global/light/youtube.svg",twitter:"https://cdn.bio/assets/icons/global/light/twitter.svg",instagram:"https://cdn.bio/assets/icons/global/light/instagram.svg",tiktok:"https://cdn.bio/assets/icons/global/light/tiktok.svg",discord:"https://cdn.bio/assets/icons/global/light/discord.svg"},Z_=({socials:e})=>(D(K_),e?c("div",{className:"p-sidebar_p-creator_c-socials",children:c("div",{className:"socials",children:Object.keys(e).map(t=>{const n=t;return c("a",{className:"social",href:e[n],target:"_blank",rel:"noopener noreferrer",style:{backgroundImage:`url(${X_[n]})`}},n)})})}):c(V,{})),e0=R`.p-sidebar_p-creator_c-recent-videos {
  width: 100%;
}
.p-sidebar_p-creator_c-recent-videos > .container > .title {
  font-size: 14px;
  font-weight: 500;
  text-transform: uppercase;
  padding: 12px 12px 4px 12px;
}
.p-sidebar_p-creator_c-recent-videos > .container > .videos {
  width: 100%;
  padding: 0 8px;
  box-sizing: border-box;
}`,t0=R`.p-sidebar_p-creator_c-recent-videos_c-recent-video {
  width: 100%;
  padding: 8px;
  box-sizing: border-box;
  display: flex;
  flex-direction: row;
  text-decoration: none;
  color: #fff;
}
.p-sidebar_p-creator_c-recent-videos_c-recent-video:hover {
  background: #333;
}
.p-sidebar_p-creator_c-recent-videos_c-recent-video > .thumbnail {
  width: 128px;
  aspect-ratio: 16/9;
  margin-right: 8px;
  flex-shrink: 0;
}
.p-sidebar_p-creator_c-recent-videos_c-recent-video > .info {
  flex-direction: column;
  display: flex;
  min-width: 0;
}
.p-sidebar_p-creator_c-recent-videos_c-recent-video > .info > .title {
  width: 100%;
  overflow: hidden;
  white-space: nowrap;
  text-overflow: ellipsis;
  font-size: 14px;
  font-weight: 600;
  margin-bottom: 2px;
}
.p-sidebar_p-creator_c-recent-videos_c-recent-video > .info > .author {
  color: #a8a8a8;
  font-size: 12px;
  font-weight: 400;
  text-decoration: none;
}
.p-sidebar_p-creator_c-recent-videos_c-recent-video > .info > .metadata {
  display: flex;
  font-size: 12px;
  font-weight: 400;
  color: #a8a8a8;
  margin-top: auto;
}
.p-sidebar_p-creator_c-recent-videos_c-recent-video > .info > .metadata > .views {
  font-weight: 400;
  margin-right: 4px;
}
.p-sidebar_p-creator_c-recent-videos_c-recent-video > .info > .metadata > .date {
  font-weight: 400;
  margin-left: 4px;
}`,n0=B(({channelPostsWithChannel:e})=>(D(e0),c("div",{className:"p-sidebar_p-creator_c-recent-videos",children:c("div",{className:"container",children:[c("h2",{className:"title",children:"Recent Videos"}),c("div",{className:"videos",children:e.map(t=>c(r0,{channelPostWithChannel:t},t.id))})]})}))),r0=({channelPostWithChannel:e})=>{var n;D(t0);const t=e.data.viewCount==null?0:new Intl.NumberFormat("en-US",{notation:"compact",compactDisplay:"short"}).format(e.data.viewCount);return c("a",{className:"p-sidebar_p-creator_c-recent-videos_c-recent-video",href:e.data.url,title:e.title,target:"_top",rel:"noreferrer",children:[c("img",{className:"thumbnail",src:(n=e.data)==null?void 0:n.thumbnailFileUrl,alt:e.title}),c("div",{className:"info",children:[c("div",{className:"title",children:e.title}),c("a",{href:e.channel.data.url,className:"author",target:"_top",children:e.channel.name||e.channel.sourceName}),c("div",{className:"metadata",children:[c("div",{className:"views",children:[t," views"]}),c("div",{children:" · "}),c("div",{className:"date",children:Dg(e.postTime||"")})]})]})]})};function i0({query:e,variables:t}){const n=Qe().gqlClient,r=re(),i=re(),o=re();return Ci(n.executeQuery(pn(e,t)),He(a=>{r.set(mi(a)),i.set(a.data),o.set(a.error)})),{operationResult$:r,data$:i,error$:o,reexecute:({requestPolicy:a}={})=>{const s=r.get().operation;s.context.requestPolicy=a||s.context.requestPolicy,n.reexecuteOperation(s)}}}const $a=re();Eu($a,{local:"lastReadChannelPostIds"});const o0=1e3*60*3,a0=z`
  query @cache {
    me {
      id
      orgUserConnection {
        nodes {
          org {
            id
            slug
            name
            channelConnection {
              nodes {
                id
                sourceType
                sourceId
                data
              }
            }
          }
        }
      }
    }
  }
`,s0=z`
  query ($input: ChannelInput) {
    channel(input: $input) {
      id
      orgId
      sourceType
      sourceId
      sourceName
      data
      org {
        id
        name
        slug
      }
    }
  }
`;function ek(){return de(()=>c0(),[])}let Ec;function c0(){const e=f=>{t.set(f)},t=re($e.pageInfoGet(e)),n=$e.environmentGetInfo(),r=re(n),{data$:i,reexecute:o}=i0({query:a0});clearInterval(Ec),Ec=setInterval(()=>{o({requestPolicy:"network-only"})},o0);const a=_e(()=>{const f=t.get();return f!=null&&f.contentPageOwnerRef?Qe().gqlClient.query(s0,{input:{contentPageType:f==null?void 0:f.contentPageType,contentPageOwnerRef:f==null?void 0:f.contentPageOwnerRef,shouldCreateOrg:!0}}).toPromise().then(h=>{var m;return(m=h.data)==null?void 0:m.channel}):void 0});a.onChange(({value:f,getPrevious:h})=>{const m=h();dr.state.matches.find(x=>x.routeId===Hi.id)&&(f||m)&&dr.navigate({to:"/sidebar"})});const s=z`
    query GetEmbedConnection($input: EmbedConnectionInput) {
      embedConnection(input: $input) {
        nodes {
          id
          name
          iconUrl
          slug
          orgId
          url
          packageId
          packageInstallId
          isLoginRequired
          windowProps
          defaultLayoutConfigSteps {
            action
            value
          }
          iframeUrl
          sourceType
          sourceId
          defaultStyles
          parentQuerySelector
        }
      }
    }
  `,l=_e(async()=>{const f=t.get();if(!(f!=null&&f.contentPageOwnerRef))return[];const h=await n;return Qe().gqlClient.query(s,{input:{apiVersion:2,contentPageType:f.contentPageType,contentPageOwnerRef:f.contentPageOwnerRef,deviceType:(h==null?void 0:h.deviceType)||"desktop",statuses:h!=null&&h.isExperimental?["experimental","published"]:["published"],truffleVersion:h==null?void 0:h.truffleVersion}},{url:ne()}).toPromise().then(m=>{var y,x;return((x=(y=m.data)==null?void 0:y.embedConnection)==null?void 0:x.nodes)||[]})}),u=_e(async()=>(t.get(),$e.embedGetDevEmbeds())),d=_e(async()=>[...l.get()||[],...u.get()||[]]);d.onChange(({value:f})=>{$e.embedSetAll(f)});const p=z`
    mutation DatapointIncrementUnique($input: DatapointIncrementUniqueInput!) {
      datapointIncrementUnique(input: $input) {
        isUpdated
      }
    }
  `;return $e.embedOnFocus(async f=>{Qe().gqlClient.mutation(p,{input:{metricSlug:"embed-engaged-users",orgId:f.orgId,dimensionValues:{embed:f.slug||f.id}}},{url:ne()}).toPromise()}),{orgUsersResponse$:i,channel$:a,embeds$:d,lastReadChannelPostIds$:$a,environmentInfo$:r}}const l0=()=>{var a,s,l,u,d,p,f,h,m,y,x,g,b,v,_,w,N,T,I,M;D(z_);const{org:e,orgUser:t}=md(),n=(s=(a=e.channelConnection)==null?void 0:a.nodes)==null?void 0:s.find(F=>F.sourceType==="youtube"),r=(u=(l=e.channelConnection)==null?void 0:l.nodes)==null?void 0:u.find(F=>{var X;return(X=F.data)==null?void 0:X.isLive}),i=(p=(d=r==null?void 0:r.channelPostConnection)==null?void 0:d.nodes)==null?void 0:p.find(F=>{var X;return(X=F.data)==null?void 0:X.isLive}),o=(h=(f=e.channelConnection)==null?void 0:f.nodes)==null?void 0:h.filter(F=>F.sourceType!=="twitch").map(F=>{var X;return(X=F.channelPostConnection)==null?void 0:X.nodes.map(Y=>({...Y,channel:F}))}).filter(Boolean).flat().sort((F,X)=>{const Y=new Date(F.postTime);return new Date(X.postTime).getTime()-Y.getTime()});return Te(()=>{var X,Y;const F={};(Y=(X=e.channelConnection)==null?void 0:X.nodes)==null||Y.forEach(te=>{var O,H,$;F[te.id]=($=(H=(O=te.channelPostConnection)==null?void 0:O.nodes)==null?void 0:H[0])==null?void 0:$.id}),$a.set(te=>({...te,...F}))},[e.id]),c("div",{className:"p-sidebar_p-creator_p-home",children:[c("div",{className:"scrollable",children:[c("div",{className:"banner",style:{backgroundImage:`url(${(g=(x=(y=(m=e.channelConnection)==null?void 0:m.nodes)==null?void 0:y[0])==null?void 0:x.data)==null?void 0:g.bannerFileUrl})`},children:[c("div",{className:"header",children:e.name}),c("div",{className:"actions",children:[c(me,{className:"settings",to:`${gd.path}`,children:c(u0,{})}),c(me,{className:"close",from:"/",to:`${Gt.path}`,children:c(d0,{})})]})]}),i?c(J_,{platform:r==null?void 0:r.sourceType,title:((v=(b=i==null?void 0:i.data)==null?void 0:b.liveData)==null?void 0:v.title)||"",url:((w=(_=i==null?void 0:i.data)==null?void 0:_.liveData)==null?void 0:w.url)||"",category:(T=(N=i==null?void 0:i.data)==null?void 0:N.liveData)==null?void 0:T.category,viewCount:((M=(I=i==null?void 0:i.data)==null?void 0:I.liveData)==null?void 0:M.ccv)||0}):void 0,c(Z_,{socials:e.socials}),n?c(n0,{channelPostsWithChannel:o}):void 0]}),t!=null&&t.id?void 0:c("div",{className:"follow",children:c(ad,{org:e,followToText:"add to sidebar and get updates"})})]})},u0=()=>c("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c("path",{d:"M15.95 10.7833C15.9833 10.5333 16 10.275 16 10C16 9.73333 15.9833 9.46667 15.9417 9.21667L17.6333 7.9C17.7833 7.78333 17.825 7.55833 17.7333 7.39167L16.1333 4.625C16.0333 4.44167 15.825 4.38333 15.6417 4.44167L13.65 5.24167C13.2333 4.925 12.7917 4.65833 12.3 4.45833L12 2.34167C11.9667 2.14167 11.8 2 11.6 2H8.39999C8.19999 2 8.04166 2.14167 8.00832 2.34167L7.70832 4.45833C7.21666 4.65833 6.76666 4.93333 6.35832 5.24167L4.36666 4.44167C4.18332 4.375 3.97499 4.44167 3.87499 4.625L2.28332 7.39167C2.18332 7.56667 2.21666 7.78333 2.38332 7.9L4.07499 9.21667C4.03332 9.46667 3.99999 9.74167 3.99999 10C3.99999 10.2583 4.01666 10.5333 4.05832 10.7833L2.36666 12.1C2.21666 12.2167 2.17499 12.4417 2.26666 12.6083L3.86666 15.375C3.96666 15.5583 4.17499 15.6167 4.35832 15.5583L6.34999 14.7583C6.76666 15.075 7.20832 15.3417 7.69999 15.5417L7.99999 17.6583C8.04166 17.8583 8.19999 18 8.39999 18H11.6C11.8 18 11.9667 17.8583 11.9917 17.6583L12.2917 15.5417C12.7833 15.3417 13.2333 15.075 13.6417 14.7583L15.6333 15.5583C15.8167 15.625 16.025 15.5583 16.125 15.375L17.725 12.6083C17.825 12.425 17.7833 12.2167 17.625 12.1L15.95 10.7833ZM9.99999 13C8.34999 13 6.99999 11.65 6.99999 10C6.99999 8.35 8.34999 7 9.99999 7C11.65 7 13 8.35 13 10C13 11.65 11.65 13 9.99999 13Z",fill:"white"})}),d0=()=>c("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c("path",{d:"M15.8333 5.34175L14.6583 4.16675L9.99999 8.82508L5.34166 4.16675L4.16666 5.34175L8.82499 10.0001L4.16666 14.6584L5.34166 15.8334L9.99999 11.1751L14.6583 15.8334L15.8333 14.6584L11.175 10.0001L15.8333 5.34175Z",fill:"white"})}),p0=new Q({getParentRoute:()=>Hi,path:"/",component:l0}),h0=new Q({getParentRoute:()=>Gt,path:"follow",component:Ii(()=>Gi(()=>import("./follow-371959a0.js"),[]))}),f0=R`.c-edit-org-user-form > .form-field-container {
  display: flex;
  justify-content: space-between;
}
.c-edit-org-user-form > .form-field-container > input {
  margin: 0px;
  padding: 0px;
  background: none;
  color: white;
  border: none;
  color: #fff;
  font-size: 16px;
  font-family: Inter;
  font-style: normal;
  font-weight: 400;
  line-height: 26px;
  letter-spacing: 0.08px;
}`,m0=B(({orgUser:e})=>{if(D(f0),!e)return c("div",{children:"Missing orgUser"});const t=oe(e.name),n=oe(e.bio),r=de(()=>e.roleConnection.nodes.some(a=>a.slug==="admin"),[e]),{upsertOrgUser:i}=nd(),o=async()=>{const a=await i({input:{orgId:e.org.id,name:t.peek(),bio:n.peek()}},{url:ne()});a.error?(alert("There was an error saving your profile"),console.error("Error saving profile",a.error)):alert("Profile saved!")};return e.org?c("div",{className:"c-edit-org-user-form",children:[c("h2",{children:[e.org.name," community settings",r&&c("div",{children:c(me,{to:"/orgs/$slug",params:{slug:e.org.slug},children:"Admin page"})})]}),c("h3",{className:"t-caps-title",children:"Display name"}),c("div",{className:"form-field-container",children:[c("input",{placeholder:"no display name set",type:"text",value:t.get(),onInput:ke(t)}),c("button",{className:"t-button-dark",onClick:o,children:"Save"})]}),c("div",{className:"dev-info",children:[c("h3",{className:"t-caps-title",children:"dev info"}),"Org ID: ",e.org.id,c("br",{}),"Slug: ",e.org.slug]})]}):c("div",{className:"c-edit-org-user-form",children:"Missing org!"})}),g0=R`.c-join-org-form {
  padding: 5px;
  max-width: 300px;
}`,v0=()=>{D(g0);const e=oe(""),{upsertOrgUser:t}=nd(),n=async()=>{const{data:r,error:i}=await t({input:{orgId:e.peek()}},{url:ne()});alert(i?i.message:r?`Successfully joined ${r.orgUserUpsert.orgUser.org.name}!`:"Unknown error")};return c("div",{className:"c-join-org-form",children:[c("h2",{children:"Join org"}),c("div",{children:[c("label",{children:"Org ID: "}),c("input",{type:"text",value:e.get(),onInput:ke(e)}),c("button",{onClick:n,children:"Join"})]})]})},y0=R`.p-org-profile {
  display: flex;
  max-width: 680px;
}
.p-org-profile > .creator-list-sidebar {
  position: sticky;
  top: 0px;
  width: 240px;
  padding-top: 20px;
  border-right: 1px solid #2d2d2d;
  height: 100vh;
}
.p-org-profile > .creator-list-sidebar > .t-caps-title {
  margin-left: 12px;
  margin-bottom: 20px;
}
.p-org-profile > .creator-list-sidebar > .creator-item {
  margin-left: 12px;
  color: #fff;
  font-size: 16px;
  font-family: Inter;
  font-style: normal;
  font-weight: 400;
  line-height: 24px;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  height: 24px;
  cursor: pointer;
}
.p-org-profile > .creator-list-sidebar > .creator-item.selected {
  color: var(--primary, #f357a1);
}
.p-org-profile > .creator-list-sidebar > .creator-item.selected::before {
  content: " ";
  position: absolute;
  left: 2px;
  background: var(--primary, #f357a1);
  width: 4px;
  height: 24px;
  border-radius: 0px 4px 4px 0px;
  transform: translate(-50%, 0%);
}
.p-org-profile > .per-org-settings {
  max-width: 440px;
  margin: 12px 0px;
  margin-left: 40px;
}
.p-org-profile > .per-org-settings > .t-caps-title {
  margin: 7px 0px;
  margin-bottom: 4px;
}`,xo=re(0),b0=B(()=>{D(y0);const{user:e}=Rn();if(!e)return c(V,{children:"Loading..."});const t=e.orgUsers.nodes[xo.get()];return c("div",{className:"p-org-profile",children:[c("div",{className:"creator-list-sidebar",children:[c("h3",{className:"t-caps-title",children:["My communities (",e.orgUsers.nodes.length,")"]}),e.orgUsers.nodes.map((n,r)=>n.org?c("div",{className:`creator-item ${xo.get()===r?"selected":""}`,onClick:()=>xo.set(r),children:n.org.name||n.org.slug||n.org.id}):void 0)]}),c("div",{className:"per-org-settings",children:[c(m0,{orgUser:t}),c(v0,{})]})]})}),_0=new Q({getParentRoute:()=>zi,path:"/orgs",component:b0}),x0=R`.c-edit-me-form {
  max-width: 440px;
  margin: 12px 0px;
  margin-bottom: 30px;
}
.c-edit-me-form > .form-field-container {
  display: flex;
  justify-content: space-between;
}
.c-edit-me-form > .form-field-container > input {
  margin: 0px;
  padding: 0px;
  background: none;
  color: white;
  border: none;
  color: #fff;
  font-size: 16px;
  font-family: Inter;
  font-style: normal;
  font-weight: 400;
  line-height: 26px;
  letter-spacing: 0.08px;
}
.c-edit-me-form > .t-divider {
  margin: 18px 0px;
}`,w0=B(({user:e})=>{D(x0);const{upsertUser:t}=td(),n=oe(e.name),r=async()=>{const i=await t({input:{name:n.peek()}},{url:ne()});i.error?(alert("There was an error saving your profile"),console.error("Error saving profile",i.error)):alert("Profile saved!")};return c("div",{className:"c-edit-me-form",children:[c("h3",{className:"t-caps-title",children:"Display name"}),c("div",{className:"form-field-container",children:[c("input",{className:"t-input",placeholder:"no display name set",type:"text",value:n.get(),onInput:ke(n)}),c("button",{className:"t-button-dark",onClick:r,children:"Save"})]}),c("div",{className:"t-divider"}),c("h3",{className:"t-caps-title",children:"Email:"}),c("div",{className:"form-field-container",children:c("input",{className:"t-input",placeholder:"not connected to email",type:"text",value:e.email,disabled:!0})})]})}),Ma="/assets/close-cc90917c.svg",k0=R`.c-connection-form {
  border: solid 1px white;
  border-radius: 4px;
  display: flex;
  spacing: 10px;
  margin: 10px 0px;
  padding: 0px;
  justify-content: space-between;
  align-items: center;
}
.c-connection-form > .icon {
  margin: 0px;
  width: 56px;
  height: 56px;
  flex-shrink: 0;
}
.c-connection-form > .text-container {
  flex-grow: 1;
  margin-left: 24px;
  letter-spacing: 0.5px;
}
.c-connection-form > .text-container > .connected {
  color: #38f155;
  font-weight: 400;
  font-size: 12px;
}
.c-connection-form > .text-container > .connection-name > a,
.c-connection-form > .text-container > .connection-name > a:active {
  font-size: 16px;
  weight: 500;
  color: white;
}
.c-connection-form > .text-container > .connection-name > a:visited {
  color: #9f9f9f;
}
.c-connection-form .delete-connection {
  cursor: pointer;
  margin: 0;
  padding: 0;
  margin-right: 12px;
  background: none;
  border: none;
  height: 100%;
}
.c-connection-form .delete-connection > img {
  margin: 0;
  padding: 0;
  width: 24px;
  height: 24px;
}
.c-connection-form.youtube {
  border: 1px solid #eb4433;
}
.c-connection-form.youtube > .icon {
  background: #eb4433;
  background-image: url("https://cdn.bio/assets/icons/global/light/youtube.svg");
  background-position: center;
  background-size: 100% 100%;
}
.c-connection-form.twitch {
  border: 1px solid #925aef;
}
.c-connection-form.twitch > .icon {
  background: #925aef;
  background-image: url("https://cdn.bio/assets/icons/global/light/twitch.svg");
  background-position: center;
  background-size: 100% 100%;
}
.c-connection-form.discord {
  border: 1px solid #586aea;
}
.c-connection-form.discord > .icon {
  background: #586aea;
  background-image: url("https://cdn.bio/assets/icons/global/light/discord.svg");
  background-position: center;
  background-size: 100% 100%;
}`,E0=e=>{switch(e.sourceType){case"youtube":return c("a",{href:`https://www.youtube.com/channel/${e.sourceId}`,children:e.sourceId});default:return`ID: ${e.sourceId}`}},N0=({connection:e})=>{D(k0);const{deleteConnection:t}=rd(),n=async()=>{if(confirm("Are you sure you want to delete this connection?")){const{error:r}=await t({id:e.id});r?(console.error(r),alert("An error occurred while deleting the connection.")):alert("Connection deleted.")}};return c("div",{className:`c-connection-form ${e.sourceType}`,children:[c("div",{className:"icon"}),c("div",{className:"text-container",children:[c("div",{className:"connection-name",children:E0(e)}),c("div",{className:"connected",children:"connected"})]}),c("button",{className:"delete-connection",onClick:n,children:c("img",{src:Ma})})]})},T0=({type:e,isIcon:t,callback:n})=>{const r={prompt:e==="login"?"none":"consent"};return c(Aa,{type:e,serviceName:"Discord",redirectUri:ir("discord"),isIcon:t,additionalParams:r,oauthFlow:gy,callback:n})},I0=R`.c-connect-account-buttons > .icon-container {
  display: flex;
  flex-direction: row;
  gap: 6px;
}`,S0=[Ju,Ku,T0],C0=e=>(D(I0),c("div",{className:"c-connect-account-buttons",children:c("div",{className:"icon-container",children:S0.map(t=>c(V,{children:[c(t,{type:"link",isIcon:!0,callback:n=>{e({requestPolicy:"network-only"})}}),c("br",{})]}))})})),O0=R`.p-global-profile {
  margin-left: 40px;
  max-width: 680px;
  margin-top: 32px;
}
.p-global-profile > .connection-container {
  background: #1f1f1f;
  padding: 24px;
  padding-top: 12px;
}
.p-global-profile > .connection-container > h2 {
  color: #fff;
  font-size: 16px;
  font-family: Inter;
  font-style: normal;
  font-weight: 600;
  line-height: normal;
  text-transform: uppercase;
  margin-bottom: 24px;
}
.p-global-profile > .connection-container > .t-divider {
  margin: 24px 0px;
}
.p-global-profile > .connection-container > .connection-list > ul {
  margin: 0;
  padding: 0;
  list-style-type: none;
}`,A0=()=>{const{user:e,refetchUser:t}=Rn();return e?(D(O0),c("div",{className:"p-global-profile",children:[c("h2",{children:"My account"}),c(w0,{user:e}),c("div",{className:"connection-container",children:[c("h2",{children:"Connections"}),c(C0,{refetchUser:t}),c("div",{className:"t-divider"}),c(R0,{user:e})]})]})):c(V,{children:"Loading..."})},R0=({user:e})=>{const t=e.connectionConnection.nodes,n=Array.from(new Map(t.map(r=>[JSON.stringify([r.sourceId,r.sourceType]),r])).values());return c("div",{className:"connection-list",children:c("ul",{children:n.map(r=>c("li",{children:c(N0,{connection:r})}))})})},P0=new Q({getParentRoute:()=>zi,path:"/global",component:A0});var D0=function(t){return L0(t)&&!$0(t)};function L0(e){return!!e&&typeof e=="object"}function $0(e){var t=Object.prototype.toString.call(e);return t==="[object RegExp]"||t==="[object Date]"||U0(e)}var M0=typeof Symbol=="function"&&Symbol.for,F0=M0?Symbol.for("react.element"):60103;function U0(e){return e.$$typeof===F0}function q0(e){return Array.isArray(e)?[]:{}}function lr(e,t){return t.clone!==!1&&t.isMergeableObject(e)?xn(q0(e),e,t):e}function j0(e,t,n){return e.concat(t).map(function(r){return lr(r,n)})}function B0(e,t){if(!t.customMerge)return xn;var n=t.customMerge(e);return typeof n=="function"?n:xn}function V0(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter(function(t){return Object.propertyIsEnumerable.call(e,t)}):[]}function Nc(e){return Object.keys(e).concat(V0(e))}function vd(e,t){try{return t in e}catch{return!1}}function z0(e,t){return vd(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))}function G0(e,t,n){var r={};return n.isMergeableObject(e)&&Nc(e).forEach(function(i){r[i]=lr(e[i],n)}),Nc(t).forEach(function(i){z0(e,i)||(vd(e,i)&&n.isMergeableObject(t[i])?r[i]=B0(i,n)(e[i],t[i],n):r[i]=lr(t[i],n))}),r}function xn(e,t,n){n=n||{},n.arrayMerge=n.arrayMerge||j0,n.isMergeableObject=n.isMergeableObject||D0,n.cloneUnlessOtherwiseSpecified=lr;var r=Array.isArray(t),i=Array.isArray(e),o=r===i;return o?r?n.arrayMerge(e,t,n):G0(e,t,n):lr(t,n)}xn.all=function(t,n){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce(function(r,i){return xn(r,i,n)},{})};var H0=xn,Q0=H0;const Y0=np(Q0),Tc={sidebarWidth:72,expandedSidebarWidth:72+320,allowedSites:"all",activationSettings:{isTwoStep:!1,twoStepMode:"hover",screenSide:"left",activationZoneWidth:14,sidebarTimeout:0,leaveWindowTimeout:500}},wn=re(Promise.race([Tt.storageBucketGet("sidebar","config").then(e=>Y0(Tc,e||{})),new Promise(e=>setTimeout(()=>e(Tc),1e3))])),W0=R`.p-sidebar-settings {
  margin-left: 40px;
}
.p-sidebar-settings > .t-divider {
  margin: 20px 0px;
}`,J0=R`.c-settings-info .settings-header {
  color: #fff;
  font-family: Inter;
  font-size: 16px;
  font-style: normal;
  font-weight: 600;
  line-height: normal;
  margin-bottom: 4px;
}
.c-settings-info .settings-description {
  color: var(--de-emphasized-text, #9f9f9f);
  font-family: Inter;
  font-size: 14px;
  font-style: normal;
  font-weight: 400;
  line-height: normal;
  letter-spacing: 0.28px;
  margin-bottom: 20px;
}`,Wn=({header:e,description:t})=>(D(J0),c("div",{className:"c-settings-info",children:[c("div",{className:"settings-header",children:e}),c("div",{className:"settings-description",children:t})]})),K0=R`.c-radio-form {
  --radio-selected-color: #f357a1;
  --radio-default-color: #9f9f9f;
  display: flex;
}
.c-radio-form.disabled {
  opacity: 0.5;
  pointer-events: none;
}
.c-radio-form.horizontal {
  flex-direction: row;
}
.c-radio-form.horizontal > .radio-container {
  margin: 8px;
}
.c-radio-form.centered > .radio-container {
  display: flex;
  align-items: center;
}
.c-radio-form.vertical {
  flex-direction: column;
  gap: 16px;
}
.c-radio-form.vertical > .radio-container {
  margin-left: 16px;
}
.c-radio-form.boxed {
  gap: 16px;
}
.c-radio-form.boxed > .radio-container {
  margin: 0px;
  background: rgba(255, 255, 255, 0.08);
  border: 1px solid var(--radio-default-color);
  border-radius: 4px;
  box-sizing: border-box;
  padding: 20px;
  width: 100%;
  flex-grow: 1;
}
.c-radio-form.boxed > .radio-container.checked {
  background: rgba(243, 87, 161, 0.16);
  border-color: #f357a1;
}
.c-radio-form > .radio-container {
  color: var(--de-emphasized-text, #9f9f9f);
  font-family: Inter;
  font-size: 16px;
  font-style: normal;
  font-weight: 600;
  line-height: normal;
  letter-spacing: 0.08px;
}
.c-radio-form > .radio-container.checked {
  color: var(--light-text, #fff);
}
.c-radio-form > .radio-container > .radio-button {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  margin: 0px;
  margin-right: 8px;
  appearance: none;
  border-radius: 50%;
  border: 2px solid var(--radio-default-color);
}
.c-radio-form > .radio-container > .radio-button::after {
  content: "";
  display: block;
  padding: 5px;
  margin: 3px;
  border-radius: 50%;
  border: none;
  background: none;
}
.c-radio-form > .radio-container > .radio-button:checked {
  border-color: var(--radio-selected-color);
}
.c-radio-form > .radio-container > .radio-button:checked::after {
  padding: 5px;
  background: var(--radio-selected-color);
  margin: 3px;
}
.c-radio-form > .radio-container > .radio-button:hover {
  cursor: pointer;
  filter: opacity(0.85);
}`,Qi=B(({name:e,value$:t,valueFn:n,style:r={direction:"horizontal",isBoxed:!1,isCentered:!0},disabled:i,children:o})=>{D(K0);const a=ai.toArray(o),s=`c-radio-form 
    ${r.direction} 
    ${r.isCentered?"centered":""} 
    ${r.isBoxed?"boxed":""}`;return c("div",{className:`${s} ${i?"disabled":""}`,children:ai.map(a,l=>{if(!Ei(l))return;if(l.type!==ht)return l;if(l.props.value===void 0)throw new Error("Radio must have a value prop");const{value:u,children:d}=l.props;return c(X0,{value$:t,value:u,valueFn:n,name:e,children:d})})})}),X0=B(({value$:e,value:t,valueFn:n,name:r,children:i})=>{const o=n?n(t):t,a=e.get()===o;return c("label",{className:`radio-container ${a?"checked":""}`,children:[c("input",{type:"radio",className:"radio-button",name:r,value:t,checked:a,onChange:()=>{e.set(o)}}),i]})}),ht=({value:e,children:t})=>c("div",{children:"Radio component must live inside a RadioForm"}),Z0="/assets/mouseover-ad1a380a.svg",ex="/assets/mouseover-and-hover-click-ccd146cc.svg",tx=R`.c-is-two-step-form > .c-radio-form > .radio-container > .image-container {
  margin: 20px 0px;
  overflow: hidden;
  height: 25vw;
  border: 1px solid rgba(255, 255, 255, 0.4);
  border-radius: 4px;
}
.c-is-two-step-form > .c-radio-form > .radio-container > .image-container > img {
  width: 300%;
}`,nx=()=>c(Qi,{style:{direction:"vertical",isBoxed:!1,isCentered:!0},name:"allowedSites",value$:wn.allowedSites,children:[c(ht,{value:"all",children:"All sites"}),c(ht,{value:"social",children:"Social media sites only"})]}),rx=()=>c(Qi,{style:{direction:"vertical",isBoxed:!1,isCentered:!0},name:"sidebarPosition",value$:wn.activationSettings.screenSide,children:[c(ht,{value:"left",children:"Left"}),c(ht,{value:"right",children:"Right"})]}),ix=({config$:e})=>c(Qi,{name:"twoStepMode",value$:e.activationSettings.twoStepMode,disabled:!e.activationSettings.isTwoStep.get(),children:[c(ht,{value:"hover",children:"Hover"}),c(ht,{value:"click",children:"Click"})]}),ox=()=>(D(tx),c("div",{className:"c-is-two-step-form",children:c(Qi,{name:"isTwoStep",value$:wn.activationSettings.isTwoStep,valueFn:e=>e==="true",style:{direction:"horizontal",isBoxed:!0,isCentered:!1},children:[c(ht,{value:"false",children:[c("div",{className:"image-container",children:c("img",{src:Z0})}),c(Wn,{header:"Mouseover",description:"Open the sidebar by moving the mouse over the left or right edge of the browser window"})]}),c(ht,{value:"true",children:[c("div",{className:"image-container",children:c("img",{src:ex})}),c(Wn,{header:"Mouseover + Icon hover or click",description:"Move the mouse over the left or right edge of the browser window. Hover or click on the Truffle icon that appears at the top left or right of the screen to open the sidebar"}),c("div",{className:"hover-or-click-radios",children:c(ix,{config$:wn})})]})]})}));wn.onChange(({value:e,getPrevious:t})=>{t()&&Tt.storageBucketSet("sidebar","config",e)});const ax=B(()=>(D(W0),wn.get()?c("div",{className:"p-sidebar-settings",children:[c("h2",{children:"Sidebar Settings"}),c(Wn,{header:"Sidebar access",description:"Which sites do you want to be able to access the sidebar on?"}),c(nx,{}),c("div",{className:"t-divider"}),c(Wn,{header:"Sidebar position",description:"Select which side of the screen the sidebar appears from"}),c(rx,{}),c("div",{className:"t-divider"}),c(Wn,{header:"Open sidebar",description:"Choose how you want to open the sidebar"}),c(ox,{})]}):c(V,{children:"Loading..."}))),sx=new Q({getParentRoute:()=>zi,path:"/sidebar",component:ax});function cx(e){return e.graphQLErrors[0]}const lx=`${window.location.origin}${window.location.pathname}`,ux={youtube:"Youtube",twitch:"Twitch",discord:"Discord"},dx=z`
  mutation AppLinkThirdPartyAccount($sourceType: String!, $code: String!, $redirectUri: String!) {
    linkThirdPartyAccount(input: { sourceType: $sourceType, code: $code, redirectUri: $redirectUri }) {
      thirdPartyUser
    }
  }
`,px=z`
  mutation AppLoginOAuth($sourceType: String!, $code: String!, $redirectUri: String!) {
    userLoginOAuth(input: { sourceType: $sourceType, code: $code, redirectUri: $redirectUri }) {
      accessToken
    }
  }
`,hx=B(()=>{const{sourceType:e}=We(),t=e&&ux[e];if(!e||!t)return c("div",{children:"This is not a valid oauth callback page :("});const n=oe(null),r=oe(null),i=oe(null),o=oe(null);return Te(()=>{const s=Ta({namespace:Qu,providerWindow:window.opener}).api.oAuthCallback,l=new URLSearchParams(window.location.search),u=l.get("state"),d=u&&JSON.parse(atob(u));if(!d){r.set("Hmmm... something's not right (the state is missing or invalid)."),s({error:{code:"invalid_state",message:"The state is missing or invalid."}}),i.set("close");return}const p=()=>i.set(d.action==="redirect"&&d.redirectUrl?d.redirectUrl:"close"),f=l.get("error");if(f){const m=l.get("error_description");f==="access_denied"?r.set(`Oh? It looks like you didn't grant us permission to link your ${t} account.`):r.set(m||`Something went wrong. Try again maybe? 🤷 (the oauth flow returned ${f})`),s({error:{code:`oauth_${f}`,message:m}}),p();return}d.accessToken===nt.peek()||console.warn("accessToken mismatch"),(async()=>{var b,v,_;o.set(d.shouldLogin?"logging_in":"linking");const m=Ca({url:Nu(),fetchOptions:{headers:{"x-access-token":nt.peek()}}}),y=l.get("code");if(!y){r.set("Hmmm... something's not right (the code is missing)."),s({error:{code:"oauth_invalid_code",message:"The code is missing."}}),p();return}const x=await m.mutation(d.shouldLogin?px:dx,{sourceType:e,code:y,redirectUri:lx}).toPromise();if(o.set(null),x.error){const w=cx(x.error);console.error("Error from mothertree:",w);const N=(w==null?void 0:w.message)||"An unknown error occurred.",T=((b=w==null?void 0:w.extensions)==null?void 0:b.code)||"unknown_error";switch(s({error:{message:N,code:T}}),T){case"connection_exists_error":{r.set(`This ${t} account is already linked to a Truffle account.`);break}case"no_youtube_channel":{r.set("Oops! It looks like you don't have a YouTube channel. You need a YouTube channel before you can link your account to Truffle.");break}default:{r.set(`Oops! An error occurred. Please try again. (error code: ${T}: ${N})`);break}}p();return}const g=(_=(v=x.data)==null?void 0:v.userLoginOAuth)==null?void 0:_.accessToken;await s({accessToken:g}),d.useAutoAction?d.action==="redirect"&&d.redirectUrl?window.location.href=d.redirectUrl:window.close():p()})()},[]),c("div",{className:"p-oauth-callback",children:[c("h1",{children:["Truffle + ",t]}),c(mx,{state$:o,serviceName:t}),c(gx,{message$:n}),c(vx,{message$:r}),c(fx,{action$:i})]})}),fx=B(({action$:e})=>{const t=e.get();return t?c("div",{className:"actions",children:t==="close"?c("button",{onClick:()=>window.close(),children:"Close"}):c("a",{href:t,children:"Continue"})}):c(V,{})}),mx=B(({state$:e,serviceName:t})=>{const n=e.get();return n?c("div",{className:"loading-state",children:[n==="linking"&&`Linking ${t} account...`,n==="logging_in"&&`Logging in with ${t}...`]}):c(V,{})}),gx=B(({message$:e})=>{const t=e.get();return t?c("div",{className:"info-message",children:t}):c(V,{})}),vx=B(({message$:e})=>{const t=e.get();return t?c("div",{className:"error-message",children:t}):c(V,{})}),yx=new Q({getParentRoute:()=>Xe,path:"oauth/callback/$sourceType",component:hx}),bx=R`.onboard-header {
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  text-align: center;
  max-width: 540px;
  margin-bottom: 40px;
}
.onboard-header > h1 {
  font-size: 28px;
  font-weight: 600;
  margin: 0;
  margin-bottom: 8px;
}
.onboard-header > p {
  color: #cfcfcf;
  font-weight: 400;
  font-size: 20px;
  margin: 0;
}`,_x=R`.p-finish > .header {
  text-align: center;
}
.p-finish > .header > .title {
  font-size: 1.75em;
  margin-bottom: 8px;
}
.p-finish > .header > .subtitle {
  font-size: 1.25em;
  margin-top: 0px;
  margin-bottom: 40px;
  color: #cfcfcf;
  font-weight: 400;
}
.p-finish > .cards {
  display: flex;
  flex-direction: row;
  gap: 20px;
}
.p-finish > .cards > .card {
  background: #262626;
  width: 300px;
  padding: 40px 20px;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  border-radius: 4px;
}
.p-finish > .cards > .card > h3 {
  font-weight: 700;
  font-size: 1.25em;
  text-align: center;
  margin-bottom: 8px;
}
.p-finish > .cards > .card > .twitter-header {
  margin-top: 0px;
  color: #8ed4ea;
}
.p-finish > .cards > .card > .discord-header {
  margin-top: 0px;
  color: #a997df;
}
.p-finish > .cards > .card > p {
  font-size: 1em;
  text-align: center;
  color: white;
  font-weight: 400;
  height: 75px;
}
.p-finish > .cards > .card > a {
  border: none;
  border-radius: 4px;
  padding: 12px 20px;
  font-weight: 700;
  color: #101010;
  text-decoration: none;
}
.p-finish > .cards > .card > a:before {
  content: "";
  background-repeat: no-repeat;
  background-size: 1.5em;
  background-position: center;
  width: 1.5em;
  height: 1.5em;
  display: inline-block;
  margin-right: 0.5em;
  vertical-align: middle;
}
.p-finish > .cards > .card > .twitter-button {
  background: #8ed4ea;
}
.p-finish > .cards > .card > .twitter-button:before {
  background-image: url("/twitter.svg");
}
.p-finish > .cards > .card > .discord-button {
  background: #a997df;
}
.p-finish > .cards > .card > .discord-button:before {
  background-image: url("/discord.svg");
}`,xx=()=>(D(_x),c("div",{className:"p-finish t-centered-page",children:[c("div",{className:"header",children:[c("h1",{className:"title",children:"You're all set up!"}),c("h2",{className:"subtitle",children:"In the meantime, check out Truffle’s Twitter account and join our Discord"})]}),c("div",{className:"cards",children:[c("div",{className:"card",children:[c("h3",{className:"twitter-header",children:"Stay updated on everything Truffle"}),c("p",{children:"Follow us on Twitter to find out about new features, give input, and see what Snuffle is up to"}),c("a",{href:"https://twitter.com/trufflevip",target:"_blank",className:"twitter-button",rel:"noreferrer",children:"Follow On Twitter"})]}),c("div",{className:"card",children:[c("h3",{className:"discord-header",children:"Share your thoughts! We love feedback"}),c("p",{children:"Join the Truffle community Discord"}),c("a",{href:"https://discord.gg/eGC3ywbQNt",target:"_blank",className:"discord-button",rel:"noreferrer",children:"Join the server"})]})]})]})),yd=B(()=>{var i;if(!Sn.get())return c(eo,{to:"/login"});const{nextStep:e}=Nr(),{step:t}=We(),{reset:n}=Il({from:Fa.id});if(console.log("reset",n),n)return ud(),c(eo,{to:e()});let r=(i=zt.find(o=>o.id===t))==null?void 0:i.component;return t==="finish"&&(r=xx),r?(D(bx),c(V,{children:[c(Hu,{shouldHideLinks:!0}),c(r,{})]})):c(eo,{to:e()})}),Fa=new Q({getParentRoute:()=>St,path:"/getting-started",component:yd,validateSearch:e=>({reset:e.reset})}),wx=new Q({getParentRoute:()=>Fa,path:"$step",component:yd}),kx=R`.p-quick-actions {
  width: 100vw;
  height: 100vh;
}
.p-quick-actions > .tile-container {
  --breakpoint: 350px;
  padding: 12px;
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
  gap: 8px;
}
@media (max-width: var(--breakpoint)) {
  .p-quick-actions > .tile-container {
    grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));
  }
}
.p-quick-actions > .tile-container > .tile {
  display: flex;
  flex-direction: column;
  justify-content: flex-end;
  align-items: center;
  border-radius: 4px;
  background: var(--bg-color);
  cursor: pointer;
  transition: opacity 0.2s ease-in-out;
}
.p-quick-actions > .tile-container > .tile:hover {
  opacity: 0.8;
}
.p-quick-actions > .tile-container > .tile > .icon-container {
  display: flex;
  padding: 12px 0px;
  justify-content: center;
  align-items: center;
  flex-shrink: 0;
}
@media (max-width: var(--breakpoint)) {
  .p-quick-actions > .tile-container > .tile > .icon-container {
    padding: 16px;
  }
}
.p-quick-actions > .tile-container > .tile > .icon-container > img {
  all: unset;
  width: 48px;
}
.p-quick-actions > .tile-container > .tile > .label-container {
  padding: 12px;
  flex-shrink: 0;
  align-self: stretch;
  border-radius: 0px 0px 4px 4px;
  overflow: hidden;
  color: #fff;
  text-align: center;
  text-overflow: ellipsis;
  whitespace: nowrap;
  font-family: Inter;
  font-size: 14px;
  font-style: normal;
  font-weight: 700;
  line-height: normal;
  background: rgba(0, 0, 0, 0.4);
}
@media (max-width: var(--breakpoint)) {
  .p-quick-actions > .tile-container > .tile > .label-container {
    display: none;
  }
}
.p-quick-actions > .no-quick-actions {
  box-sizing: border-box;
  padding: 10px;
  display: flex;
  justify-content: center;
  align-items: center;
  height: 90%;
}
.p-quick-actions > .modal-container {
  display: flex;
  justify-content: center;
  align-items: center;
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: rgba(0, 0, 0, 0.5); /* Semi-transparent background */
  visibility: var(--current-visibility);
}
.p-quick-actions > .modal-container > .modal {
  display: flex;
  flex-direction: column;
  border-radius: 8px;
  background: #272727;
  color: #fff;
  width: 95%;
  height: 95%;
  animation: var(--current-animation);
}
@keyframes animatebottom {
  from {
    transform: translateY(100px);
    opacity: 0;
  }
  to {
    transform: translateY(0);
    opacity: 1;
  }
}
.p-quick-actions > .modal-container > .modal > .title-bar {
  display: flex;
  padding: 12px 12px 12px 20px;
  align-items: center;
  justify-content: space-between;
  gap: 20px;
}
.p-quick-actions > .modal-container > .modal > .title-bar > .title {
  color: #fff;
  font-family: Inter;
  font-size: 20px;
  font-style: normal;
  font-weight: 700;
  line-height: 28px; /* 140% */
}
.p-quick-actions > .modal-container > .modal > .title-bar > .close-button {
  cursor: pointer;
}
.p-quick-actions > .modal-container > .modal > .embed-frame {
  display: block;
  width: 100%;
  flex: 1 0 0;
  border: none;
  border-radius: 0 0 8px 8px;
}
.p-quick-actions > .loading-icon {
  display: flex;
  justify-content: center;
  align-items: center;
  width: 100%;
  height: 100%;
}
.p-quick-actions > .loading-icon > object {
  width: 200px;
}`,Ex=z`
  query AppQuickActionsEmbedQuery($orgId: ID!) {
    embedConnection(input: { apiVersion: 2, orgId: $orgId, contentPageType: "quickActions" }) {
      nodes {
        id
        packageInstallId
        iconUrl
        url
        tileProps
      }
    }
  }
`,Nx=z`
  query ExtensionFetchPackageToken($packageInstallId: ID!) {
    packageInstallUserAccessToken(input: { packageInstallId: $packageInstallId })
  }
`,dt=re([]),Ic=re(!0),xt=re(-1),wo=new Map;function Tx(){return{embedTransframeApi:de(()=>Tu({namespace:"truffle-injected-unprivileged-embed-api-v1",api:{async userGetAccessToken(t){await Ia();const n=dt.peek().find(o=>o.id===t.fromId);if(!n)return;if(wo.has(n.packageInstallId))return wo.get(n.packageInstallId);const{data:r,error:i}=await Qe().gqlClient.query(Nx,{packageInstallId:n.packageInstallId},{url:ne()}).toPromise();if(i){console.error("error fetching package token",i);return}return wo.set(n.packageInstallId,r.packageInstallUserAccessToken),r.packageInstallUserAccessToken},embedWindowGetVisibility(t){const n=dt[xt.peek()].peek();return t.fromId===n.id},embedWindowSetVisibility(t,n){const r=dt[xt.peek()].peek();t.fromId===r.id&&!n&&xt.set(-1)}},strictMode:!0}),[])}}const Ix=B(()=>{D(kx);const{orgId:e}=We(),[{data:t}]=rt({query:Ex,variables:{orgId:e},context:de(()=>({url:ne()}),[])});Te(()=>{var r;t&&(dt.set((r=t==null?void 0:t.embedConnection)==null?void 0:r.nodes),Ic.set(!1))},[t]);const n=dt.get().length===0;return c("div",{className:"p-quick-actions",children:Ic.get()?c(Ax,{}):c(V,{children:[n?c("p",{className:"no-quick-actions",children:"oop... looks like you don't have any quick actions!"}):c(Sx,{}),c(Ox,{})]})})}),Sx=B(()=>{const e=t=>()=>{xt.set(t)};return c("div",{className:"tile-container",children:dt.map((t,n)=>c(Cx,{iconUrl:t.iconUrl.peek(),bgColor:t.tileProps.bgColor.peek(),onClick:e(n),children:t.tileProps.title.peek()}))})}),Cx=({onClick:e,iconUrl:t,bgColor:n="#fff",children:r})=>c("div",{className:"tile",onClick:e,style:{"--bg-color":n},children:[c("div",{className:"icon-container",children:c("img",{src:t})}),c("div",{className:"label-container",children:r})]}),Ox=B(()=>{const e=xt.get()!==-1,t=dt[xt.get()],{embedTransframeApi:n}=Tx(),r=ng(()=>dt.map((i,o)=>{const a=ea();return{ref:mi(a),element:mi(c("iframe",{className:"embed-frame",src:i.url.peek(),loading:"eager",ref:a,style:{display:o===xt.get()?"block":"none"}}))}}));return Te(()=>{r.peek().forEach((i,o)=>{const a=i.ref.current;if(!a)return;const s=dt[o].peek();a.addEventListener("load",()=>n.registerFrame(a,s.id))})}),c("div",{className:"modal-container",style:{"--current-visibility":e?"visible":"hidden","--current-animation":e?"animatebottom 0.4s cubic-bezier(0.4, 0.71, 0.18, 0.99)":"none"},children:c("div",{className:"modal",children:[c("div",{className:"title-bar",children:[c("div",{className:"title",children:t.tileProps.title.get()}),c("div",{className:"close-button",onClick:()=>xt.set(-1),children:c("img",{src:Ma})})]}),r.map(i=>i.peek().element)]})})}),Ax=()=>c("div",{className:"loading-icon",children:c("object",{data:"https://cdn.bio/assets/images/landing/snuffle.svg?1",type:"image/svg+xml",children:c("img",{src:"https://cdn.bio/assets/images/landing/snuffle.svg?1"})})}),Rx=new Q({getParentRoute:()=>St,path:"/quick-actions/$orgId",component:Ix}),Px=R`.p-creator-onboard-start {
  margin: 0 auto;
  max-width: 540px;
  text-align: center;
}
.p-creator-onboard-start > .snuffle-img {
  width: 258px;
  margin: 0 0 67px 0;
}
.p-creator-onboard-start > .heading {
  margin: 0 0 8px 0;
  text-align: center;
  font-family: Inter;
  font-size: 28px;
  font-style: normal;
  font-weight: 700;
  line-height: 36px; /* 128.571% */
  letter-spacing: 0.07px;
}
.p-creator-onboard-start > .tagline {
  margin: 0 0 24px 0;
  color: var(--de-emphasized-text);
  text-align: center;
  font-family: Inter;
  font-size: 18px;
  font-style: normal;
  font-weight: 400;
  line-height: normal;
}
.p-creator-onboard-start > .t-button {
  display: block;
  width: 232px;
  text-align: center;
  margin: auto;
  text-transform: uppercase;
  box-sizing: border-box;
}`,Mt=re();Eu(Mt,{local:"onboarding-org-id"});const Dx=z`
  query AppCreatorOnboardOrgQuery($orgId: ID!) {
    org(input: { id: $orgId }) {
      id
      slug
      name
      image
      socials
      channelConnection {
        nodes {
          id
          data
          sourceType
          sourceId
          sourceName
        }
      }
    }
  }
`,bd=Km(),wt=_e(async()=>{bd.get();const e=Mt.get();if(!e)return;await Ia();const{data:t}=await Qe().gqlClient.query(Dx,{orgId:e},{requestPolicy:"network-only"}).toPromise();return t==null?void 0:t.org}),_d=_e(()=>{var t;const e=wt.get();if(e)return(t=e.channelConnection.nodes.find(n=>{var r;return(r=n.data)==null?void 0:r.avatarFileUrl}))==null?void 0:t.data.avatarFileUrl}),Lx=_e(()=>{var t;const e=wt.get();if(e)return(t=e.channelConnection.nodes.find(n=>{var r;return(r=n.data)==null?void 0:r.bannerFileUrl}))==null?void 0:t.data.bannerFileUrl}),xd=["/creator-onboard/start","/creator-onboard/connect-channels","/creator-onboard/hub-setup","/creator-onboard/complete"],wd=_e(()=>xd.findIndex(e=>e===Sd.location.pathname.get())),kd=_e(()=>xd[wd.get()+1]);function Ed(){dr.navigate({to:kd.peek()})}const $x=B(()=>(D(Px),c("div",{className:"p-creator-onboard-start",children:[c("img",{className:"snuffle-img",src:"https://cdn.bio/assets/images/onboarding/creator-onboarding/snuffle_rainbow.svg",alt:"Cute Snuffle"}),c("h1",{className:"heading",children:"Create a community"}),c("p",{className:"tagline",children:"Create a place on Truffle for your fans to engage with you and your content"}),c(me,{to:kd.get(),className:"t-button",children:"Let's Go!"})]}))),Mx=new Q({getParentRoute:()=>Dn,path:"start",component:$x}),Fx=R`.p-org_p-onboard_p-connect-channels {
  margin: 0 auto;
  max-width: 540px;
  text-align: center;
}
.p-org_p-onboard_p-connect-channels > .main-heading {
  color: #fff;
  text-align: center;
  font-family: Inter;
  font-size: 28px;
  font-style: normal;
  font-weight: 700;
  line-height: 36px; /* 128.571% */
  letter-spacing: 0.07px;
}
.p-org_p-onboard_p-connect-channels > .instructions {
  margin: 0 0 32px 0;
  color: var(--de-emphasized-text);
  text-align: center;
  font-family: Inter;
  font-size: 18px;
  font-style: normal;
  font-weight: 400;
  line-height: normal;
}
.p-org_p-onboard_p-connect-channels .icon-button:before {
  content: "";
  background-repeat: no-repeat;
  background-size: 1.5em;
  background-position: center;
  width: 1.5em;
  height: 1.5em;
  display: inline-block;
  margin-right: 0.5em;
  vertical-align: middle;
}
.p-org_p-onboard_p-connect-channels > .t-button {
  width: 100%;
}
.p-org_p-onboard_p-connect-channels > .youtube-button {
  margin: 0 0 12px 0;
  background: #303030;
}
.p-org_p-onboard_p-connect-channels > .youtube-button:before {
  background-image: url("https://cdn.bio/assets/icons/youtube.svg");
}
.p-org_p-onboard_p-connect-channels > .twitch-button {
  margin: 0 0 24px 0;
  background: #303030;
}
.p-org_p-onboard_p-connect-channels > .twitch-button:before {
  background-image: url("https://cdn.bio/assets/icons/twitch.svg");
}
.p-org_p-onboard_p-connect-channels > hr {
  border: 1px solid rgba(255, 255, 255, 0.2);
  margin: 0 0 24px 0;
}
.p-org_p-onboard_p-connect-channels > .channels-heading {
  margin: 0 0 24px 0;
  font-family: Inter;
  font-size: 14px;
  font-style: normal;
  font-weight: 700;
  line-height: normal;
  letter-spacing: 0.5px;
  text-transform: uppercase;
  text-align: left;
}
.p-org_p-onboard_p-connect-channels > .channels-info {
  margin: 0 0 24px 0;
  font-family: Inter;
  font-size: 14px;
  font-style: normal;
  font-weight: 400;
  line-height: normal;
  text-align: left;
}
.p-org_p-onboard_p-connect-channels > .accounts {
  display: flex;
  flex-direction: column;
  gap: 12px;
  margin: 0 0 24px 0;
}
.p-org_p-onboard_p-connect-channels > .continue-button {
  display: block;
  box-sizing: border-box;
  width: 100%;
}
.p-org_p-onboard_p-connect-channels > .continue-button:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}
.p-org_p-onboard_p-connect-channels .p-org_p-onboard_p-connect-channels_c-account {
  display: flex;
  justify-content: space-between;
  padding: 8px 16px;
  margin: 0;
  background: #303030;
}
.p-org_p-onboard_p-connect-channels .p-org_p-onboard_p-connect-channels_c-account > .account-name-container {
  display: flex;
  align-items: center;
}
.p-org_p-onboard_p-connect-channels .p-org_p-onboard_p-connect-channels_c-account > .account-name-container > img {
  background-color: #9147ff;
  border-radius: 50%;
  background-size: 40px;
  width: 40px;
  height: 40px;
  margin-right: 16px;
}
.p-org_p-onboard_p-connect-channels .p-org_p-onboard_p-connect-channels_c-account > .account-name-container > .text-container {
  text-align: left;
}
.p-org_p-onboard_p-connect-channels .p-org_p-onboard_p-connect-channels_c-account > .account-name-container > .text-container > .name {
  font-family: Inter;
  font-size: 16px;
  font-style: normal;
  font-weight: 600;
  line-height: normal;
}
.p-org_p-onboard_p-connect-channels .p-org_p-onboard_p-connect-channels_c-account > .account-name-container > .text-container > .channel-count {
  font-family: Inter;
  font-size: 12px;
  font-style: normal;
  font-weight: 400;
  line-height: normal;
}
.p-org_p-onboard_p-connect-channels .p-org_p-onboard_p-connect-channels_c-account > .delete-button {
  cursor: pointer;
}
.p-org_p-onboard_p-connect-channels .p-org_p-onboard_p-connect-channels_c-channel-list {
  margin: 0;
  padding: 20px 16px 16px 16px;
  background: #1f1f1f;
}
.p-org_p-onboard_p-connect-channels .p-org_p-onboard_p-connect-channels_c-channel-list > .list {
  padding: 0;
  margin: 0;
  list-style-type: none;
}
.p-org_p-onboard_p-connect-channels .p-org_p-onboard_p-connect-channels_c-channel-list > .list > .channel-list-item {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 8px 12px;
  text-align: left;
}
.p-org_p-onboard_p-connect-channels .p-org_p-onboard_p-connect-channels_c-channel-list > .list > .channel-list-item:not(:last-child) {
  border-bottom: 1px solid rgba(255, 255, 255, 0.2);
}
.p-org_p-onboard_p-connect-channels .p-org_p-onboard_p-connect-channels_c-channel-list > .list > .channel-list-item > .left {
  display: flex;
  align-items: center;
  gap: 15px;
}
.p-org_p-onboard_p-connect-channels .p-org_p-onboard_p-connect-channels_c-channel-list > .list > .channel-list-item > .left > img {
  width: 32px;
  border-radius: 50%;
}
.p-org_p-onboard_p-connect-channels .p-org_p-onboard_p-connect-channels_c-channel-list > .list > .channel-list-item > .right > button {
  padding: 6px 16px;
  min-width: 72px;
  text-align: center;
  font-family: Inter;
  font-size: 12px;
  font-style: normal;
  font-weight: 500;
  line-height: normal;
}
.p-org_p-onboard_p-connect-channels .p-org_p-onboard_p-connect-channels_c-channel-list > .list > .channel-list-item > .right > .linked-button {
  background: #303030;
}
.p-org_p-onboard_p-connect-channels .p-org_p-onboard_p-connect-channels_c-channel-list > .list > .channel-list-item > .right > .link-button {
  background: transparent;
  border: 1px solid #f357a1;
}`,Nd={youtube:{sourceType:"youtube",platformIconUrl:"https://cdn.bio/assets/icons/global/light/youtube.svg",platformIconBgColor:"#FF0000",getChannelName:e=>e.snippet.title,getChannelIconUrl:e=>e.snippet.thumbnails.default.url,getAccountName:e=>e.thirdPartyUser.snippet.customUrl},twitch:{sourceType:"twitch",platformIconUrl:"https://cdn.bio/assets/icons/global/light/twitch.svg",platformIconBgColor:"#9147ff",getChannelName:e=>e.display_name,getChannelIconUrl:e=>e.profile_image_url,getAccountName:e=>e.thirdPartyUser.email}},Ux=z`
  query {
    me {
      id
      connectionConnection {
        nodes {
          id
          sourceType
          sourceId
          data
          availableChannels {
            sourceType
            sourceId
            sourceName
            data
          }
        }
      }
    }
  }
`,qx=z`
  mutation ($input: ChannelLinkInput!) {
    channelLink(input: $input) {
      id
      orgId
    }
  }
`,Td=_e(()=>{var t;const e=wt.get();return e?((t=e.channelConnection)==null?void 0:t.nodes)??[]:[]}),Id=e=>t=>t.sourceType===e.sourceType&&t.sourceId===e.sourceId,jx=B(({availableChannel:e})=>{var s;const t=Nd[e.sourceType],[,n]=Se(qx),r=(s=Td.get())==null?void 0:s.some(Id(e)),i=oe(!1),o=i.get()&&!r,a=async()=>{if(r||i.peek())return;i.set(!0);const{data:l,error:u}=await n({input:{orgId:Mt.peek(),sourceType:e.sourceType,sourceId:e.sourceId,sourceName:e.sourceName}});if(u){i.set(!1),console.error(u);const d=u.graphQLErrors[0].extensions.code;let p;switch(d){case"channel_already_linked":{p="Uh-oh. It looks like this channel is already linked to another Truffle community";break}default:{p="An unknown error occurred while linking the channel 🤷";break}}kr({type:On.Modal,title:"oop",subtitle:p,message:p,action:()=>null,buttonText:"Ok"})}else{const d=l==null?void 0:l.channelLink.orgId;Mt.peek()===d?bd.fire():Mt.set(l==null?void 0:l.channelLink.orgId)}};return c("li",{className:"channel-list-item",children:[c("div",{className:"left",children:[c("img",{src:t.getChannelIconUrl(e.data)}),c("div",{children:t.getChannelName(e.data)})]}),c("div",{className:"right",children:c("button",{onClick:a,className:`t-button ${r?"linked-button":"link-button"}`,children:o?"...":r?"Linked":"Link"})})]})}),Bx=({availableChannels:e})=>c("div",{className:"p-org_p-onboard_p-connect-channels_c-channel-list",children:c("ul",{className:"list",children:e.map(t=>c(jx,{availableChannel:t},t.sourceId))})}),Vx=({connection:e})=>{const t=Nd[e.sourceType],{deleteConnection:n}=rd(),r=async()=>{if(confirm("Are you sure you want to delete this connection?")){const{error:i}=await n({id:e.id});i?(console.error(i),alert("An error occurred while deleting the connection.")):alert("Connection deleted.")}};return c("div",{children:[c("div",{className:"p-org_p-onboard_p-connect-channels_c-account",children:[c("div",{className:"account-name-container",children:[c("img",{src:t.platformIconUrl,style:{background:t.platformIconBgColor},alt:t.sourceType}),c("div",{className:"text-container",children:[c("div",{className:"name",children:t.getAccountName(e.data)}),c("div",{className:"channel-count",children:[e.availableChannels.length," channel",e.availableChannels.length>1&&"s"]})]})]}),c("img",{className:"delete-button",src:Ma,onClick:r})]}),c(Bx,{availableChannels:e.availableChannels})]})},zx=B(()=>{D(Fx);const[{data:e,fetching:t},n]=rt({query:Ux});if(t)return c("div",{style:{textAlign:"center"},children:"Loading..."});const r=e==null?void 0:e.me.connectionConnection.nodes.filter(d=>{var p;return(p=d.availableChannels)==null?void 0:p.length}),i=r==null?void 0:r.some(d=>d.sourceType==="youtube"),o=r==null?void 0:r.some(d=>d.sourceType==="twitch"),a=r==null?void 0:r.some(d=>d.availableChannels.some(p=>{var f;return(f=Td.get())==null?void 0:f.some(Id(p))})),s=()=>{!a&&!confirm("You haven't linked any channels. Are you sure you want to continue?")||Ed()},l=async()=>{await Yu({accessToken:nt.peek(),action:"close",shouldLogin:!1,useAutoAction:!0},{redirectUri:ir("youtube"),additionalParams:{prompt:"consent"}}),n({requestPolicy:"network-only"})},u=async()=>{await Wu({accessToken:nt.peek(),action:"close",shouldLogin:!1,useAutoAction:!0},{redirectUri:ir("twitch"),additionalParams:{force_verify:"true"}}),n({requestPolicy:"network-only"})};return c("div",{className:"p-org_p-onboard_p-connect-channels",children:[c("h1",{className:"main-heading",children:"Connect your channels"}),c("p",{className:"instructions",children:`Connect your account and link channels to show when you're live or have
        a new video. You can add multiple Youtube accounts`}),c("button",{className:"t-button icon-button youtube-button",onClick:l,children:["Connect",i&&" another"," Youtube account"]}),c("button",{className:"t-button icon-button twitch-button",onClick:u,children:["Connect",o&&" another"," Twitch account"]}),c("hr",{}),c("h2",{className:"channels-heading",children:"My Channels"}),c("p",{className:"channels-info",children:"Your audience will only get recommendations and see recent videos from the channels you link"}),c("div",{className:"accounts",children:r==null?void 0:r.map(d=>d.data?c(Vx,{connection:d},d.id):void 0)}),c("button",{disabled:!a,onClick:s,className:"t-button continue-button",children:"Continue"})]})}),Gx=new Q({getParentRoute:()=>Dn,path:"connect-channels",component:zx}),Hx=R`.p-org_p-onboard_p-parent {
  display: flex;
  flex-direction: column;
  flex: 1;
  overflow: auto;
  padding: 10px;
}`,Qx=R`.p-org_p-onboard_p-hub-setup {
  margin: 0 auto 42px auto;
}
.p-org_p-onboard_p-hub-setup > .top-info {
  max-width: 540px;
  margin: 0 auto 42px auto;
}
.p-org_p-onboard_p-hub-setup > .top-info > .heading {
  margin: 0 0 8px 0;
  text-align: center;
  font-family: Inter;
  font-size: 28px;
  font-style: normal;
  font-weight: 700;
  line-height: 36px; /* 128.571% */
  letter-spacing: 0.07px;
}
.p-org_p-onboard_p-hub-setup > .top-info > .description {
  color: var(--de-emphasized-text);
  text-align: center;
  font-family: Inter;
  font-size: 18px;
  font-style: normal;
  font-weight: 400;
  line-height: normal;
}
.p-org_p-onboard_p-hub-setup > main {
  display: flex;
  justify-content: center;
  gap: 54px;
}
.p-org_p-onboard_p-hub-setup > main > section > section > h2 {
  margin: 0 0 10px 0;
  font-family: Inter;
  font-size: 14px;
  font-style: normal;
  font-weight: 700;
  line-height: 20px; /* 142.857% */
  letter-spacing: 0.035px;
  text-transform: uppercase;
}
.p-org_p-onboard_p-hub-setup > main > .settings-container {
  display: flex;
  flex-direction: column;
  gap: 20px;
}
.p-org_p-onboard_p-hub-setup > main > .settings-container > .icon-setting > img {
  width: 80px;
  border-radius: 4px;
}
.p-org_p-onboard_p-hub-setup > main > .settings-container > .banner-setting > img {
  width: 320px;
  border-radius: 4px;
}
.p-org_p-onboard_p-hub-setup > main > .settings-container > .social-links-setting {
  display: flex;
  flex-direction: column;
  gap: 8px;
}
.p-org_p-onboard_p-hub-setup > main > .settings-container > .social-links-setting > .social-link-input {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 8px 12px;
  background: #303030;
  border-radius: 4px;
}
.p-org_p-onboard_p-hub-setup > main > .settings-container > .social-links-setting > .social-link-input > .left > img {
  width: 32px;
  border-radius: 50%;
  background: rgba(255, 255, 255, 0.15);
}
.p-org_p-onboard_p-hub-setup > main > .settings-container > .social-links-setting > .social-link-input > .right > label {
  display: block;
  padding: 0;
  margin: 0;
  font-family: Inter;
  font-size: 14px;
  font-style: normal;
  font-weight: 600;
  line-height: 24px; /* 171.429% */
  letter-spacing: 0.07px;
}
.p-org_p-onboard_p-hub-setup > main > .settings-container > .social-links-setting > .social-link-input > .right > input,
.p-org_p-onboard_p-hub-setup > main > .settings-container > .social-links-setting > .social-link-input > .right > input:focus {
  display: block;
  background: transparent;
  border: none;
  outline: none;
  padding: 0;
  margin: 0;
  color: #fff;
  font-family: Inter;
  font-size: 16px;
  font-style: normal;
  font-weight: 400;
  line-height: 24px; /* 150% */
  letter-spacing: 0.08px;
}
.p-org_p-onboard_p-hub-setup > main > .settings-container > .continue-button {
  text-align: center;
}
.p-org_p-onboard_p-hub-setup > main > .settings-container > .continue-button:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}`,Yx="/assets/creator-hub-preview-58715074.png",Wx="truffle",Jx="create-react-project",Sc="site",Kx="@truffle/mogul-menu-v2",Xx=z`
  query AppPackageQuery($slug: String!) {
    package(input: { slug: $slug }) {
      id
      latestPackageVersionId
    }
  }
`,Zx=z`
  mutation AppPackageFork($input: PackageForkInput!) {
    packageFork(input: $input) {
      package {
        id
        latestPackageVersionId
      }
    }
  }
`,ew=z`
  mutation AppPackageInstallCreate($input: PackageInstallCreateInput!) {
    packageInstallCreate(input: $input) {
      packageInstall {
        id
        installStatus
      }
      userErrors
    }
  }
`,tw=z`
  mutation AppMogulMenuSetup($orgId: ID!) {
    orgSetupMogulMenu(input: { orgId: $orgId })
  }
`;async function nw(e,t){const{data:n,error:r}=await Qe().gqlClient.query(Xx,{slug:e},{url:ne(),fetchOptions:{headers:{"x-org-id":t}}}).toPromise();if(r)throw r;return n==null?void 0:n.package}async function rw(e,t){const{data:n,error:r}=await Qe().gqlClient.mutation(Zx,{input:t},{url:ne(),fetchOptions:{headers:{"x-org-id":e}}}).toPromise();if(r)throw r;return n==null?void 0:n.packageFork.package}async function iw(e,t){const{data:n,error:r}=await Qe().gqlClient.mutation(ew,{input:t},{url:ne(),fetchOptions:{headers:{"x-org-id":e}}}).toPromise();if(r)throw r;return n==null?void 0:n.packageInstallCreate.packageInstall}async function ow(e){const{data:t,error:n}=await Qe().gqlClient.mutation(tw,{orgId:e},{url:ne(),fetchOptions:{headers:{"x-org-id":e}}}).toPromise();if(n)throw n;return t==null?void 0:t.orgSetupMogulMenu}async function aw(e){let t=await nw(Sc,e);return t||(t=await rw(e,{fromOrgSlug:Wx,fromPackageSlug:Jx,toPackageSlug:Sc})),t}async function sw(e,t){const n=await iw(e,{packageVersionId:t,installedPackageVersionPath:Kx,isForceInstall:!0});if(!await ow(e))throw new Error("Failed to setup mogul menu");return n}const nn=({platformName:e,iconUrl:t,value$:n})=>{const r=`${e}-input`;return c("div",{className:"social-link-input",children:[c("div",{className:"left",children:c("img",{src:t,alt:e})}),c("div",{className:"right",children:[c("label",{htmlFor:r,children:e}),c("input",{placeholder:"enter url",type:"text",name:r,value:n.get(),onInput:ke(n)})]})]})},cw=B(()=>{D(Qx);const e=oe(async()=>(await ut(wt),wt.name.get())),t=oe(async()=>(await ut(wt),wt.socials.get()??{})),{orgUpsert:n}=hb(),r=oe(!1),i=async()=>{var l,u;if(r.peek())return;r.set(!0);const{data:o,error:a}=await n({input:{id:Mt.peek(),name:e.peek(),socials:t.peek()}});if(a){kr({type:On.Modal,title:"AHHHH",subtitle:"Something went wrong. Maybe try again?",message:a.message,action:()=>null,buttonText:"Ok"});return}const s=(u=(l=o==null?void 0:o.orgUpsert)==null?void 0:l.org)==null?void 0:u.id;if(s){Mt.set(s);try{const d=await aw(s);if(!d)throw new Error("Failed to create default site package");console.log("Created default site package",d);const p=await sw(s,d.latestPackageVersionId);if(!p)throw new Error("Failed to install Mogul Menu");console.log("Installed Mogul Menu",p)}catch(d){console.error(d)}Ed()}};return c("div",{className:"p-org_p-onboard_p-hub-setup",children:[c("section",{className:"top-info",children:[c("h1",{className:"heading",children:"Welcome to your creator hub"}),c("p",{className:"description",children:`This is where fans will see everything about your community - if you're
        live, when there's a new video and more! Customize your community icon,
        banner, name, and socials`})]}),c("main",{children:[c("section",{className:"preview-container",children:c("section",{children:[c("h2",{children:"Creator Hub Preview"}),c("img",{src:Yx,alt:"Creator hub"})]})}),c("section",{className:"settings-container",children:[c("section",{className:"icon-setting",children:[c("h2",{children:"Extension Icon"}),c("img",{src:_d.get()})]}),c("section",{className:"community-name-setting",children:[c("h2",{children:"Community Name"}),c("input",{className:"t-input",type:"text",value:e.get(),onInput:ke(e)})]}),c("section",{className:"banner-setting",children:[c("h2",{children:"Community Banner"}),c("img",{src:Lx.get()})]}),c("section",{className:"social-links-setting",children:[c("h2",{children:"Socials"}),c(nn,{value$:t.youtube,platformName:"Youtube",iconUrl:"https://cdn.bio/assets/icons/global/light/youtube.svg"}),c(nn,{value$:t.twitch,platformName:"Twitch",iconUrl:"https://cdn.bio/assets/icons/global/light/twitch.svg"}),c(nn,{value$:t.twitter,platformName:"Twitter",iconUrl:"https://cdn.bio/assets/icons/global/light/twitter.svg"}),c(nn,{value$:t.tiktok,platformName:"Tiktok",iconUrl:"https://cdn.bio/assets/icons/global/light/tiktok.svg"}),c(nn,{value$:t.instagram,platformName:"Instagram",iconUrl:"https://cdn.bio/assets/icons/global/light/instagram.svg"}),c(nn,{value$:t.discord,platformName:"Discord",iconUrl:"https://cdn.bio/assets/icons/global/light/discord.svg"})]}),c("button",{disabled:r.get(),className:"t-button continue-button",onClick:i,children:"Continue"})]})]})]})}),lw=new Q({getParentRoute:()=>Dn,path:"hub-setup",component:cw}),uw=R`.p-org_p-onboard_p-complete {
  display: flex;
  flex-direction: column;
  align-items: center;
}
.p-org_p-onboard_p-complete > .creator-icon {
  position: relative;
}
.p-org_p-onboard_p-complete > .creator-icon > img {
  width: 96px;
  height: 96px;
  margin: 0 0 13px 0;
  border-radius: 50%;
  flex-shrink: 0;
}
.p-org_p-onboard_p-complete > .creator-icon:after {
  content: "";
  position: absolute;
  top: -14px;
  left: -14px;
  width: 124px;
  height: 124px;
  display: block;
  background-image: url("/stars.svg");
  background-repeat: no-repeat;
  background-size: 124px 124px;
  background-position: center;
}
.p-org_p-onboard_p-complete > .heading {
  margin: 0 0 8px 0;
  text-align: center;
  font-family: Inter;
  font-size: 28px;
  font-style: normal;
  font-weight: 700;
  line-height: 36px; /* 128.571% */
  letter-spacing: 0.07px;
}
.p-org_p-onboard_p-complete > .subheading {
  margin: 0 0 24px 0;
  color: var(--de-emphasized-text);
  text-align: center;
  font-family: Inter;
  font-size: 18px;
  font-style: normal;
  font-weight: 400;
  line-height: normal;
}
.p-org_p-onboard_p-complete > .subheading > .follower-count {
  color: #f357a1;
  font-weight: 600;
}`,dw=B(()=>(D(uw),c("div",{className:"p-org_p-onboard_p-complete",children:[c("div",{className:"creator-icon",children:c("img",{src:_d.get(),alt:"Creator icon",className:"creator-icon"})}),c("h1",{className:"heading",children:"Your community has been created!"}),c("br",{}),c(me,{to:`/creator/${wt.slug.get()}/home`,className:"t-button",children:"Take me to the dashboard"})]}))),pw=new Q({getParentRoute:()=>Dn,path:"complete",component:dw}),hw=B(({children:e})=>Sn.get()?e:c(An,{mode:Xt.Login,onAuth:()=>null})),fw=()=>(D(Hx),og(wd,()=>{var e;(e=document.querySelector(".p-org_p-onboard_p-parent"))==null||e.scrollTo(0,0)}),c("div",{className:"p-org_p-onboard_p-parent",children:c(hw,{children:c(gt,{})})})),Dn=new Q({getParentRoute:()=>Xe,path:"/creator-onboard",component:fw});Dn.addChildren([Mx,Gx,lw,pw]);const mw=R`.p-creator-dash {
  background: none;
  --sidebar-width: 240px;
}
.p-creator-dash > main {
  margin-left: calc(var(--sidebar-width));
  margin-right: 40px;
}
.p-creator-dash > .settings-sidebar {
  top: 0px;
  position: fixed;
  height: 100%;
  background: #1f1f1f;
  display: flex;
  flex-direction: column;
  box-sizing: border-box;
  padding: 16px;
  margin-top: 64px;
  padding-top: 28px;
  width: var(--sidebar-width);
  gap: 15px;
  overflow-y: auto;
}
.p-creator-dash > .settings-sidebar > .t-caps-title {
  margin: 0px;
}
.p-creator-dash > .settings-sidebar > .sidebar-item {
  font-weight: 400;
  padding: 0;
  display: block;
  font-size: 16px;
  text-decoration: none;
  color: white;
}
.p-creator-dash > .settings-sidebar > .sidebar-item[data-status=active] {
  color: var(--primary, #f357a1);
}
.p-creator-dash > .settings-sidebar > .sidebar-item[data-status=active]::before {
  content: " ";
  position: absolute;
  left: 2px;
  background: var(--primary, #f357a1);
  width: 4px;
  height: 24px;
  border-radius: 0px 4px 4px 0px;
  transform: translate(-50%, 0%);
}
.p-creator-dash > .settings-sidebar > .sidebar-item.logout {
  flex-grow: 1;
  display: flex;
  flex-direction: column;
  justify-content: flex-end;
}`,gw=B(()=>{D(mw);const{slug:e}=We(),{org:t,fetching:n,error:r}=Pn({slug:e});return n?c("div",{children:"Loading..."}):r?c("div",{children:["Error: ",c("pre",{children:r.message})]}):t?c("div",{className:"p-creator-dash",children:[c("nav",{className:"settings-sidebar",children:[c("div",{className:"sidebar-header",children:"Creator Dasboard"}),c("div",{className:"t-divider"}),c(me,{className:"sidebar-item",from:`/${ur.path}`,to:"home",children:"Home"}),c(me,{className:"sidebar-item",from:`/${ur.path}`,to:"emotes",children:"Global emotes"})]}),c("main",{children:c(gt,{})})]}):c(V,{})}),ur=new Q({getParentRoute:()=>Xe,path:"/creator/$slug",component:gw}),vw=R`.p-emote-management {
  margin-left: 40px;
}
.p-emote-management > .heading {
  display: flex;
  justify-content: space-between;
  align-items: center;
}
.p-emote-management > .caps-title {
  all: unset;
  color: #fff;
  font-family: Inter;
  font-size: 14px;
  font-style: normal;
  font-weight: 600;
  line-height: normal;
  letter-spacing: 0.035px;
  text-transform: uppercase;
}
.p-emote-management > .grid-container {
  margin-top: 16px;
  margin-bottom: 32px;
}
.p-emote-management > .grid-container > .icon-grid {
  display: flex;
  align-items: flex-start;
  align-content: flex-start;
  gap: 10px;
  align-self: stretch;
  flex-wrap: wrap;
}
.p-emote-management > .grid-container > .icon-grid > .grid-item {
  border-radius: 4px;
  background: #1f1f1f;
  flex-grow: 0;
  display: flex;
  height: 120px;
  width: 120px;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  gap: 7px;
  flex: none;
}
.p-emote-management > .grid-container > .icon-grid > .grid-item > img {
  width: 56px;
  height: 56px;
}
.p-emote-management > .grid-container > .icon-grid > .grid-item > p {
  all: unset;
  overflow: hidden;
  max-width: 90px;
  color: #fff;
  text-align: center;
  text-overflow: ellipsis;
  font-family: Inter;
  font-size: 14px;
  font-style: normal;
  font-weight: 400;
  line-height: normal;
  letter-spacing: 0.056px;
}
.p-emote-management > .grid-container > .empty-message {
  min-height: 300px;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  gap: 10px;
}
.p-emote-management > .grid-container > .empty-message > p {
  color: #fff;
  text-align: center;
  font-family: Inter;
  font-size: 16px;
  font-style: normal;
  font-weight: 400;
  line-height: normal;
}`,yw=R`.c-modal {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: 1;
}
.c-modal > .curtain {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: black;
  opacity: 0.7;
  z-index: 1;
}
.c-modal > .modal {
  display: flex;
  flex-direction: column;
  font-family: "Inter";
  font-style: normal;
  line-height: 20px;
  border-radius: 8px;
  background: #222;
  box-shadow: 0px 8px 16px 0px rgba(0, 0, 0, 0.5);
  padding: 24px;
  color: white;
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  z-index: 2;
}
.c-modal > .modal > .header {
  display: flex;
  justify-content: space-between;
  align-items: center;
}
.c-modal > .modal > .header > .title {
  margin: 0;
  font-size: 2em;
  font-family: Inter;
  font-size: 20px;
  font-style: normal;
  font-weight: 700;
  line-height: normal;
}
.c-modal > .modal > .header > .close-button {
  font-size: 24px;
  cursor: pointer;
}`,bw=B(({children:e,closeModal:t,title:n,state$:r,allowClose:i=!0})=>{D(yw);const o=i?t:void 0;return c(V,{children:r.get()&&c("div",{className:"c-modal",children:[c("div",{className:"curtain",onClick:o}),c("div",{className:"modal",children:[c("div",{className:"header",children:[c("h2",{className:"title",children:n||""}),i&&c("span",{className:"close-button",onClick:t,children:"×"})]}),e]})]})})}),_w=R`.c-emote-upload-modal-inner {
  width: 432px;
}
.c-emote-upload-modal-inner > p {
  all: unset;
  display: block;
  color: #fff;
  font-family: Inter;
  font-size: 16px;
  font-style: normal;
  font-weight: 400;
  line-height: normal;
  margin-top: 8px;
  margin-bottom: 24px;
}
.c-emote-upload-modal-inner > .url-import-form {
  width: 100%;
  display: flex;
}
.c-emote-upload-modal-inner > .url-import-form > input {
  width: 100%;
}
.c-emote-upload-modal-inner > .url-import-form > button {
  border-top-left-radius: 0;
  border-bottom-left-radius: 0;
}
.c-emote-upload-modal-inner > .t-divider {
  margin: 24px 0;
}
.c-emote-upload-modal-inner > .emote-connections {
  display: flex;
  flex-direction: column;
  gap: 8px;
}
.c-emote-upload-modal-inner > .emote-connections > h3 {
  all: unset;
  color: #fff;
  font-family: Inter;
  font-size: 14px;
  font-style: normal;
  font-weight: 700;
  line-height: 20px; /* 142.857% */
  letter-spacing: 0.035px;
  text-transform: uppercase;
  margin-bottom: 8px;
}
.c-emote-upload-modal-inner > .emote-connections > .emote-connection {
  padding: 13px 16px;
  border-radius: 4px;
  background: #303030;
  display: flex;
  justify-content: space-between;
  align-items: center;
}
.c-emote-upload-modal-inner > .emote-connections > .emote-connection > .connection-info > h3 {
  all: unset;
  display: block;
  color: #fff;
  font-family: Inter;
  font-size: 14px;
  font-style: normal;
  font-weight: 700;
  line-height: normal;
  letter-spacing: 0.07px;
}
.c-emote-upload-modal-inner > .emote-connections > .emote-connection > .connection-info > p {
  all: unset;
  display: block;
  color: #fff;
  font-family: Inter;
  font-size: 16px;
  font-style: normal;
  font-weight: 400;
  line-height: normal;
  letter-spacing: 0.08px;
}
.c-emote-upload-modal-inner > .emote-connections > .emote-connection > .buttons {
  display: flex;
  gap: 8px;
}
.c-emote-upload-modal-inner > .emote-connections > .emote-connection > .buttons > button {
  margin: 0;
  text-transform: none;
  border: 0;
  padding: 6px 10px;
}
.c-emote-upload-modal-inner > .emote-connections > .emote-connection > .buttons > .delete-button {
  background: none;
  cursor: pointer;
  color: #e85858;
  font-family: Inter;
  font-size: 14px;
  font-style: normal;
  font-weight: 500;
  line-height: 18px; /* 128.571% */
  letter-spacing: 0.07px;
}
.c-emote-upload-modal-inner > .emote-connections > .emote-connection > .buttons > .resync-button {
  cursor: pointer;
  border-radius: 2px;
  background: #595959;
  color: #fff;
  font-family: Inter;
  font-size: 14px;
  font-style: normal;
  font-weight: 500;
  line-height: 18px;
  letter-spacing: 0.07px;
}
.c-emote-upload-modal-inner > .emote-connections > .emote-connection > .buttons > .resync-button:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}
.c-emote-upload-modal-inner > .emote-connections > .emote-connection > .buttons > .resync-button:hover {
  background: #6e6e6e;
}`,xw={bttv_user:"BTTV user emotes","7tv_user":"7TV user emotes","7tv_emote_set":"7TV emote set"},ww=z`
  mutation ($input: EmoteImportCreateInput!) {
    emoteImportCreate(input: $input) {
      id
    }
  }
`,kw=z`
  mutation ($id: ID!) {
    emoteImportDelete(input: { id: $id }) {
      id
    }
  }
`,Ew=z`
  mutation ($id: ID!) {
    emoteImportResync(input: { importId: $id }) {
      id
    }
  }
`,Nw=B(({state$:e,emoteImports:t,orgId:n,onUpdate:r})=>{D(_w);const i=oe(),[{fetching:o},a]=Se(ww),[,s]=Se(kw),[{fetching:l},u]=Se(Ew),d=async()=>{const{error:h}=await a({input:{importUrl:i.peek(),orgId:n}});h?alert(`Error creating emote import: ${h.message}`):(i.set(""),r==null||r())},p=async h=>{const{error:m}=await s({id:h});m?alert(`Error deleting emote import: ${m.message}`):r==null||r()},f=async h=>{if(l)return;const{error:m}=await u({id:h});m?alert(`Error resyncing emote import: ${m.message}`):r==null||r()};return c(bw,{title:"Import emotes",closeModal:()=>e.set(!1),state$:e,children:c("div",{className:"c-emote-upload-modal-inner",children:[c("p",{children:"Enter a url from BTTV or 7tv to import emotes"}),c("div",{className:"url-import-form",children:[c("input",{className:"t-input",type:"text",placeholder:"enter a BTTV/7tv url",value:i.get(),onInput:ke(i)}),c("button",{className:"t-button",onClick:d,disabled:!i.get()||o,children:"Import"})]}),c("div",{className:"t-divider"}),(t==null?void 0:t.length)>0&&c("div",{className:"emote-connections",children:[c("h3",{children:"Imported"}),t.map(h=>c("div",{className:"emote-connection",children:[c("div",{className:"connection-info",children:[c("h3",{children:xw[h.sourceType]}),c("p",{children:h.sourceName})]}),c("div",{className:"buttons",children:[c("button",{className:"delete-button",onClick:()=>p(h.id),children:"Delete"}),c("button",{className:"resync-button",disabled:!!l,onClick:()=>f(h.id),children:"Resync"})]})]},h.id))]})]})})}),Tw=z`
  query AppEmotesQuery($orgId: ID!) {
    emotes(input: { orgId: $orgId }) {
      providers
      emotes {
        sourceId
        sourceType
        name
        urlParams
      }
    }
  }
`,Iw=z`
  query AppEmoteImportQuery($orgId: ID!) {
    emoteImportConnection(input: { orgId: $orgId }) {
      nodes {
        id
        orgId
        sourceId
        sourceName
        sourceType
      }
    }
  }
`,Sw=()=>{D(vw);const{slug:e}=We(),{org:t}=Pn({slug:e});if(!t)return c(V,{children:"Loading..."});const[{data:n},r]=rt({query:Iw,variables:{orgId:t==null?void 0:t.id}}),[{data:i},o]=rt({query:Tw,variables:{orgId:t==null?void 0:t.id}}),a=de(()=>i?i.emotes.emotes.map(u=>({id:u.id,name:u.name,url:Ow(u,i.emotes.providers)})):[],[i]),s=oe({emoteImport:!1}),l=()=>s.emoteImport.set(!0);return c("div",{className:"p-emote-management",children:[c("div",{className:"heading",children:[c("h2",{children:"Emotes and badges"}),c("button",{className:"t-button",onClick:l,children:"Import"})]}),c("h3",{className:"caps-title",children:"Emotes"}),c("section",{className:"grid-container emote-grid",children:[c(Cw,{items:a,children:[c("p",{children:"No emotes yet. Get started by importing emotes from bttv and/or 7tv"}),c("button",{className:"t-button",onClick:l,children:"Import emotes"})]}),c(Nw,{orgId:t.id,state$:s.emoteImport,emoteImports:(n==null?void 0:n.emoteImportConnection.nodes)??[],onUpdate:()=>{r({requestPolicy:"network-only"}),o({requestPolicy:"network-only"})}})]})]})},Cw=({items:e,children:t})=>e.length===0?c("div",{className:"empty-message",children:t}):c("div",{className:"icon-grid",children:e.map(n=>c("div",{className:"grid-item",children:[c("img",{src:n.url,alt:n.name}),c("p",{className:"item-name",children:n.name})]},n.id))});function Ow(e,t){let r=t[e.sourceType].urlTemplate;for(const i of e.urlParams)r=r.replace("{}",i);return r}const Aw=new Q({getParentRoute:()=>ur,path:"/emotes",component:Sw}),Rw=R`.p-creator_home {
  padding: 40px;
}
.p-creator_home > main {
  display: flex;
  flex-direction: column;
  gap: 31px;
}
.p-creator_home > main > .hello-heading {
  color: #fff;
  font-family: Inter;
  font-size: 28px;
  font-style: normal;
  font-weight: 600;
  line-height: normal;
}
.p-creator_home > main > .welcome-message {
  border-radius: 4px;
  background: #1f1f1f;
  display: flex;
  padding: 24px;
  flex-direction: column;
  align-items: flex-start;
  gap: 9px;
  align-self: stretch;
}
.p-creator_home > main > .welcome-message > .heading {
  color: #fff;
  font-family: Inter;
  font-size: 20px;
  font-style: normal;
  font-weight: 600;
  line-height: 20px; /* 100% */
  letter-spacing: 0.05px;
}
.p-creator_home > main > .welcome-message > .message {
  color: #fff;
  font-family: Inter;
  font-size: 16px;
  font-style: normal;
  font-weight: 400;
  line-height: 20px; /* 125% */
  letter-spacing: 0.04px;
}
.p-creator_home > main > .finish-setting-up {
  display: flex;
  flex-direction: column;
  gap: 16px;
}
.p-creator_home > main > .finish-setting-up > .label {
  color: #fff;
  font-family: Inter;
  font-size: 14px;
  font-style: normal;
  font-weight: 600;
  line-height: 20px; /* 142.857% */
  letter-spacing: 0.035px;
  text-transform: uppercase;
}
.p-creator_home > main > .finish-setting-up > .container {
  display: flex;
  align-items: flex-start;
  gap: 10px;
  align-self: stretch;
  flex-wrap: wrap;
}
.p-creator_home > main > .finish-setting-up > .container > a {
  display: block;
  text-decoration: none;
}
.p-creator_home > main > .finish-setting-up > .container > a > .setup-tile {
  display: flex;
  padding: 16px;
  justify-content: center;
  align-items: flex-start;
  gap: 16px;
  flex: 0 0 260px;
  align-self: stretch;
  border-radius: 4px;
  background: #1f1f1f;
}
.p-creator_home > main > .finish-setting-up > .container > a > .setup-tile > .left > .icon {
  width: 48px;
  height: 48px;
  background-color: #f357a1;
  border-radius: 4px;
  display: flex;
  justify-content: center;
  align-items: center;
}
.p-creator_home > main > .finish-setting-up > .container > a > .setup-tile > .left > .icon > img {
  width: var(--icon-size);
  height: var(--icon-size);
  display: block;
}
.p-creator_home > main > .finish-setting-up > .container > a > .setup-tile > .right {
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: flex-start;
  gap: 4px;
  flex: 1 0 0;
  align-self: stretch;
}
.p-creator_home > main > .finish-setting-up > .container > a > .setup-tile > .right > .heading {
  color: #fff;
  font-family: Inter;
  font-size: 14px;
  font-style: normal;
  font-weight: 600;
  line-height: normal;
  letter-spacing: 0.035px;
}
.p-creator_home > main > .finish-setting-up > .container > a > .setup-tile > .right > .message {
  color: #fff;
  font-family: Inter;
  font-size: 14px;
  font-style: normal;
  font-weight: 400;
  line-height: normal;
  letter-spacing: 0.035px;
}`,Pw=()=>{D(Rw);const{user:e}=Rn(),{slug:t}=We();return c("div",{className:"p-creator_home",children:c("main",{children:[c("section",{className:"hello-heading",children:["Hi, ",e==null?void 0:e.name]}),c("section",{className:"welcome-message",children:[c("div",{className:"heading",children:"Welcome to Truffle!"}),c("div",{className:"message",children:"We're still getting everything setup, so this will be a little barren for a bit"})]}),c("section",{className:"finish-setting-up",children:[c("div",{className:"label",children:"Finish getting set up"}),c("div",{className:"container",children:[c(me,{to:`/creator/${t}/emotes`,children:c(Cc,{iconUrl:"https://cdn.bio/assets/icons/global/light/happy_face.svg",iconSize:"32px",heading:"Sync emotes and badges",message:"Connect with bttv and 7tv"})}),c("a",{href:"https://discord.gg/Pq3gHDKVYF",target:"_blank",children:c(Cc,{iconUrl:"https://cdn.bio/assets/icons/global/light/discord.svg",iconSize:"48px",heading:"Join the community discord",message:"We <3 feedback!"})})]})]})]})})},Cc=({iconUrl:e,iconSize:t,heading:n,message:r})=>c("div",{className:"setup-tile",children:[c("div",{className:"left",children:c("div",{className:"icon",style:{"--icon-size":t},children:c("img",{src:e})})}),c("div",{className:"right",children:[c("div",{className:"heading",children:n}),c("div",{className:"message",children:r})]})]}),Dw=new Q({getParentRoute:()=>ur,path:"/home",component:Pw}),Lw=window.self!==window.top;Lw&&(window.history.pushState=window.history.replaceState);const $w=St.addChildren([Ky,eb,Rx,$b,Fa.addChildren([wx]),Xe.addChildren([fy,Oy,Iy,zi.addChildren([P0,_0,sx]),Lt.addChildren([v_,q_,C_]),yx,bb,p_,Dn,ur.addChildren([Dw,Aw])]),Gt.addChildren([V_,Hi.addChildren([p0,gd]),h0])]),dr=new qp({routeTree:$w}),Sd=re(dr.state),Mw=()=>{const e=kt();return Te(()=>{Sd.set(e)},[e]),c(V,{})},Fw=()=>c(Hp,{router:dr});Ia().then(()=>{aa(c(Fw,{}),document.getElementById("app"))});export{de as F,me as L,Zw as O,wn as a,B as b,R as c,oe as d,ng as e,We as f,ek as g,kt as h,z as i,rt as j,V as k,Rb as l,Xw as m,np as n,c as o,Te as p,Tt as q,re as r,Gt as s,$e as t,D as u,Eu as v,md as w,Se as x,Qe as y};
